(this["webpackJsonpplain-sight"]=this["webpackJsonpplain-sight"]||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/logo.7a44935f.png"},161:function(e,t,a){},237:function(e,t,a){e.exports=a.p+"static/media/homepage-girl-computer-icon.81695ba5.svg"},238:function(e,t,a){e.exports=a.p+"static/media/homepage-boy-computer-icon.79723be7.svg"},239:function(e,t,a){e.exports=a.p+"static/media/homepage-bingo-icon.df828ede.svg"},248:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAAASpSURBVHhe7Zy9b9NAGIf957Gzww4DE4iRrBVlqZBAytZmYWgFS7+GdgrKAFKrMrUs0AEqMSAhxGb0uHmD45zt8335zuEn/ZBKro7v8Xvvez6fm+U968e3n/n59DI/3fuQ7746ySebh/nWkzcrHo/eFp/tb0+L9tdX3+dH6FfBAdJxYAHk6d2X+aM7L6wMXMBfnn2df0NYBQF4efYl39+Z5qP7YyUEV+aCTDYPiggNJa8A6QgRouqsb3OxiHRShE95ATg7uvAebV1MVPoC6RQgQ3Xj4bayE32b4U0acS0nAH//+lMUBdWJx2ZGhsuCYw2QPOeimoa2q2i0Asj0QXVyqZhotM2NRgAZsn1VV9cG4vXVzbxn3dUZIFcspgrrykx5TNQJ4FDhiU3yojbAocMTd41ELYDrAk88O/4073m7WgFSMNYJHmZapltYWgGmPlUxNUGjM8VpBHi691F58HUxU7U21QKEfop3GK7dVlRqAW48iHNRwIVZ8NDN6wRR01BWAmQ5SnWwIRh4FMYuM4umobwCcMhTFoEn6tLXuhWcFYD7O++VB0jdVXgiXYi0UWkJ4FCjrw6eSLffs+OL+W/80xLAIUZfGzyRDkRVFC4BHFr06cJDulFYzYULgEOrvD7g4WpFXgAcygIp9gVPXD52AZCDqBqmaN/wcPnupAA4lOEbAh4uD+MCYCqPJJscCp5YvqsAmPqiQWh4WKpxdv35RtkgFfcBD7NOijIejKsapOC+4GHSHspSXXHuEx7meChzUUDGz94p/9+X+4Yn5hwy24XT2dHtE6z97TD30bHAwxw/s6nAAk/kG2JM8DCVOFN9oOMqPJEviLHBw9yAGAGsgydyDTFGeNgIYBs8kSuIscLDRgC7bMCxhRgzPGw8hENAjB0eNgaIfUJMAR4uAI7umX+5D4ipwMPFNMZ2It0FIgVIdQxxSvAwO7ic3Mq5gJgaPMz5OltMsIGYIjzu4FBGIlQ1MLEJxBTh4a3Ht8v6GSelamDqLhDPp1dJwsO8t4y8LOl3gaij2ODhxZI+/0yeHygb2dgVxBjhYZHXx5q2EGOFJ/kPFQDJQ6qGLmwKMVZ4uPwaRAEQ+dza0RVizPAw5ydaACQpqhq7si7E2OHx9ntZC4DI9wP2Noixw8NSfUVLAF0tgja5DmIK8Di/qpYAUkxCbPOoQkwBHla9Q7cEEIWIQiwQU4Gnij60ApAoDNWh3dcnScDDdW9wrgBEbet26+Zq5S1LCRANacuvjakJpJk61QLkl0IUlNjNG6tNqgWI1n0oNw1dUSNA9P+F62a1AkTrlg/b8l5ZWgBDTm1iMCvlutICiFKZ8NqavN9F2gDR0CF2hYc6AURDhEjOM4GHOgNE5MTxKOy+aF8mGIL+8bGyQi08+DLPNnSrbZ2sACIWGFMc0lx8F7IGiLiKPh6N+jA7IWyGbFVOAIpiLjAUirb7WhM5BSiiosUCEnAMVwqfD3kBKCI/hn6LScy+R5/gRF4BihjaDB/ff06KaGPxo/rkzKeCACwLmAxxItMWKMCYihBpIaGVFRxgVQwxOs/+HLaMEUGT54cFGDE/Yz4nkrnZt52/uVGe/wUN/AbX74afWQAAAABJRU5ErkJggg=="},255:function(e,t,a){e.exports=a(436)},260:function(e,t,a){},267:function(e,t,a){},386:function(e,t,a){},388:function(e,t,a){},390:function(e,t,a){},392:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n,r,s,i,o,l,c,u,d=a(0),m=a.n(d),p=a(25),h=a.n(p),E=(a(260),a(161),a(19)),g=a(59),v=a(228),f=a(15),w="SESSION",S={username:localStorage.getItem(w)?null===(n=JSON.parse(localStorage.getItem(w)||"{}"))||void 0===n||null===(r=n.user)||void 0===r?void 0:r.username:""},b={modules:[],lessons:[],currentLesson:{},currentLessonName:"",quizzes:[],quizzes_data:[]},N={auth:JSON.parse(localStorage.getItem(w)||"{}")},y={list:[]},O=Object(g.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"REGISTER":case"GUEST":case"EDIT":return Object(f.a)(Object(f.a)({},e),{},{username:t.payload});default:return e}},module:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MODULES":return Object(f.a)(Object(f.a)({},e),{},{modules:t.payload});case"GET_MODULE_LESSONS":return Object(f.a)(Object(f.a)({},e),{},{lessons:t.payload});case"GET_LESSON":return Object(f.a)(Object(f.a)({},e),{},{currentLesson:t.payload});case"SET_LESSON_NAME":return Object(f.a)(Object(f.a)({},e),{},{currentLessonName:t.payload});case"GET_QUIZZES":return Object(f.a)(Object(f.a)({},e),{},{quizzes:t.payload});case"GET_QUIZ_DATA":return Object(f.a)(Object(f.a)({},e),{},{quizzes_data:t.payload});default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case"LOGOUT":return Object(f.a)(Object(f.a)({},e),{},{auth:t.payload});default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;return"GET_RESOURCES"==t.type?Object(f.a)(Object(f.a)({},e),{},{list:t.payload}):e}}),I=a(229),C=[v.a],k=Object(g.createStore)(O,{},Object(I.composeWithDevTools)(g.applyMiddleware.apply(void 0,C))),R=a(5),A=a.n(R),T=a(8),j=a(9),x=a(10),U=a(12),L=a(11),P=a(54),D=a(153),q=a.n(D),z=a(14),G=a(119),_=a(69),F=a(462),M=a(91),Q=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a.Group,{controlId:"formBasicUsername"},m.a.createElement(M.a.Control,{type:"text","data-cy":"username-input",placeholder:"Username",onChange:this.props.onChangeUsername}),this.props.errors.username?m.a.createElement("p",{"data-cy":"username-error",className:"invalid-input"},this.props.errors.username):null),m.a.createElement(M.a.Group,{controlId:"formBasicPassword"},m.a.createElement(M.a.Control,{type:"password","data-cy":"password-input",placeholder:"Password",onChange:this.props.onChangePassword}),this.props.errors.password?m.a.createElement("p",{"data-cy":"password-error",className:"invalid-input"},this.props.errors.password):null))}}]),a}(m.a.Component),V=(a(122),a(267),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{id:this.props.id},m.a.createElement(_.a,{"data-cy":"submit-login",id:"modalSignInButton",variant:"primary",type:"submit",onClick:this.props.onLoginClicked},"Login"),m.a.createElement("p",null,"Forgot your password?  ",m.a.createElement("a",{href:"/"},"click here"),"."),m.a.createElement("p",{className:"horizontalLine"},m.a.createElement("span",null,"or")),m.a.createElement("p",null,"Don't have an account?"),m.a.createElement(_.a,{id:"modalLoginButton",variant:"primary",type:"submit",onClick:this.props.onSignUpClicked},"Sign Up"))}}]),a}(m.a.Component)),B=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{id:this.props.id},m.a.createElement(_.a,{id:"modalSignUpButton",variant:"primary","data-cy":"submit-registration",type:"submit",onClick:this.props.onSignUpClicked},"Sign Up"),m.a.createElement("p",{className:"horizontalLine"},m.a.createElement("span",null,"or")),m.a.createElement("p",null,"Already have an account?"),m.a.createElement(_.a,{id:"modalLoginButton",variant:"primary",type:"submit",onClick:this.props.onLoginClicked},"Login"))}}]),a}(m.a.Component),H="https://achung98.pythonanywhere.com",Z="5ac4c1aa3ea9ae1c840e0ba60ad10ee1";!function(e){e.NAVIGATION="Page Opened: ",e.ERROR="Error",e.REQUEST_TIME="Server Request Time",e.EDIT_PROFILE="Edit Profile: ",e.BUTTON_CLICKED="CTA"}(s||(s={})),function(e){e.INIT="Init",e.HOMEPAGE="Homepage",e.LOGIN="Login",e.REGISTER="Register",e.DASHBOARD="Dashboard",e.MODULES="Modules",e.QUIZZES="Quizzes",e.LESSONS="Lessons",e.LESSON="Lesson"}(i||(i={})),function(e){e.LOGIN="Login",e.REGISTER="Register",e.GUEST="Continue as Guest",e.DASHBOARD="Dashboard (SM)",e.MODULES="Modules (SM)",e.QUIZZES="Quizzes (SM)",e.GAMES="Games (SM)",e.EDIT_PROFILE="Edit Profile (SM)",e.RESOURCES="Resources (SM)",e.CLOSE_LESSON="End Lesson",e.NEXT_SLIDE="Next Slide",e.PREVIOUS_SLIDE="Previous Slide",e.FINISH_LESSON="Finish Lesson",e.LOGOUT="Logout",e.EDIT="Edit Profile",e.RESOURCE="Resource",e.WEBCAM_SETTING="Webcam Setting"}(o||(o={})),function(e){e.REGISTER="register",e.EDIT_PROFILE="editProfile",e.LOGIN="login",e.GUEST="loginAsGuest",e.MODULE_LESSONS="getModuleLessons",e.MODULES="getModules",e.QUIZZES="getQuizzes",e.QUIZ_DATA="getQuizData",e.LESSON_CONTENT="getLessonContent",e.RESOURCES="getResources",e.UPDATE_PROGRESS="updateLessonProgress",e.GET_PREFERENCES="getPreferences",e.GET_USER_PREFERENCES="getUserPreferences",e.SET_USER_PREFERENCES="setUserPreferences"}(l||(l={})),function(e){e.SET_SESSION="setSession",e.UPDATE_SESSION="updateSession",e.CLEAR_SESSION="clearSession",e.PROFILE_INPUT="validateProfileInput",e.LOGIN_INPUT="validateLoginInput",e.REGISTER_INPUT="validateRegistrationInput"}(c||(c={})),function(e){e.CLIENT="Client",e.SERVER="Server"}(u||(u={}));var W=a(268),J=function(e){try{W.init(Z),W.people.set({$distinct_id:e.email,$name:e.username,$email:e.email}),W.identify(e.email)}catch(t){console.error(t)}},Y=function(e){try{var t,a,n=(null===(t=k.getState().session)||void 0===t||null===(a=t.auth)||void 0===a?void 0:a.user)||"guest@user.com";W.init(Z),W.track(s.NAVIGATION+e,{distinct_id:n.email,$name:n.username,$email:n.email})}catch(r){console.error(r)}},X=function(e,t,a){try{var n,r,i=(null===(n=k.getState().session)||void 0===n||null===(r=n.auth)||void 0===r?void 0:r.user)||"guest@user.com",o=t;W.init(Z),W.track(s.ERROR,{distinct_id:i.email,"Request Name":e,Description:o,Stack:a})}catch(l){console.error(l)}},K=function(e,t){try{var a,n,r=(null===(a=k.getState().session)||void 0===a||null===(n=a.auth)||void 0===n?void 0:n.user)||"guest@user.com";W.init(Z),W.track(s.REQUEST_TIME,{distinct_id:r.email,"Request Name":e,"Result Count":t})}catch(i){console.error(i)}},$=function(e){try{var t,a,n=(null===(t=k.getState().session)||void 0===t||null===(a=t.auth)||void 0===a?void 0:a.user)||"guest@user.com";W.init(Z),W.track(s.BUTTON_CLICKED,{distinct_id:n.email,Action:e})}catch(r){console.error(r)}},ee=a(123),te=a(127);var ae=a(26),ne=a.n(ae);function re(e,t){return se.apply(this,arguments)}function se(){return(se=Object(T.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.setItem(t,JSON.stringify(a)),k.dispatch({type:w,payload:a}),e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),X(c.SET_SESSION,e.t0,u.CLIENT),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(T.a)(A.a.mark((function e(t,a){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null===(n=JSON.parse(localStorage.getItem(w)))||void 0===n?void 0:n.token,s={token:r,user:a},localStorage.setItem(t,JSON.stringify(s)),k.dispatch({type:w,payload:a}),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),X(c.UPDATE_SESSION,e.t0,u.CLIENT),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function le(){try{localStorage.clear(),k.dispatch({type:"LOGOUT",payload:!1})}catch(e){X(c.CLEAR_SESSION,e,u.CLIENT)}}function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(T.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(new Date).getTime(),e.next=4,ne.a.post(H+"/user/auth",{username:t.username,password:t.password});case 4:return n=e.sent,r=(new Date).getTime(),K(l.LOGIN,r-a),re(w,n.data),J(t),k.dispatch({type:"LOGIN",payload:n.data.user.username}),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),X(l.LOGIN,e.t0.response.data,u.SERVER),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function de(e){return me.apply(this,arguments)}function me(){return(me=Object(T.a)(A.a.mark((function e(t){var a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},e.next=6;break;case 6:return e.prev=6,n=(new Date).getTime(),e.next=10,ne.a.post(H+"/register/",{email:t.email,username:t.username,password:t.password});case 10:return r=e.sent,s=(new Date).getTime(),K(l.REGISTER,s-n),re(w,r.data),J(t),k.dispatch({type:"REGISTER",payload:r.data.user.username}),e.abrupt("return",{errors:a,isRegistered:!0});case 19:return e.prev=19,e.t0=e.catch(6),e.t0.response.data&&(console.log(e.t0.response.data),e.t0.response.data.email&&(a.email=e.t0.response.data.email[0]),e.t0.response.data.username&&(a.username=e.t0.response.data.username[0]),X(l.REGISTER,e.t0.response.data,u.SERVER)),e.abrupt("return",{errors:a,isRegistered:!1});case 23:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}var pe,he=a(123),Ee=a(127);!function(e){e.LOGIN="Login",e.SIGN_UP="Create your account",e.test=""}(pe||(pe={}));var ge=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleChangeUsername=function(e){var t=e.target.value;n.setState({username:t})},n.handleChangeEmail=function(e){var t=e.target.value;n.setState({email:t})},n.handleChangePassword=function(e){var t=e.target.value;n.setState({password:t})},n.handleSignUpClicked=function(){var e=Object(T.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),$(o.REGISTER),!n.isRegistrationValid()){e.next=8;break}return a={username:n.state.username,password:n.state.password,email:n.state.email},e.next=6,de(a);case 6:(r=e.sent)&&!r.isRegistered?n.setState({errors:r.errors}):n.props.handleNavigateToLoginClicked(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleHideClicked=function(e){n.setState({errors:""}),n.props.onHide&&n.props.onHide(!1)},n.handleLoginClicked=function(){var e=Object(T.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),$(o.REGISTER),!n.isLoginValid()){e.next=8;break}return a={username:n.state.username,password:n.state.password},e.next=6,ce(a);case 6:e.sent||(r={notFound:"Login failed: invalid username or password"},n.setState({errors:r}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",email:"",password:"",errors:""},n.props.type===pe.LOGIN?Y(i.LOGIN):n.props.type===pe.SIGN_UP&&Y(i.REGISTER),n}return Object(x.a)(a,[{key:"isLoginValid",value:function(){var e=function(e){var t={};return ee.isEmpty(e.username)?t.username="This field is required":(e.username.length<4||e.username.length>100)&&(t.username="Invalid username"),ee.isEmpty(e.password)?t.password="This field is required":(e.password.length<4||e.password.length>100)&&(t.password="Invalid password"),te(t)||X(c.LOGIN_INPUT,t,u.CLIENT),{errors:t,isValid:te(t)}}(this.state),t=e.errors,a=e.isValid;return a||this.setState({errors:t}),a}},{key:"isRegistrationValid",value:function(){var e=function(e){var t={};return he.isEmpty(e.username)?t.username="This field is required":(e.username.length<4||e.username.length>100)&&(t.username="Invalid username, username needs to be between 4 and 100 characters"),he.isEmpty(e.email)?t.email="This field is required":(e.email.length<4||e.email.length>100||!e.email.includes("@"))&&(t.email="Invalid email address"),he.isEmpty(e.password)?t.password="This field is required":(e.password.length<4||e.password.length>100)&&(t.password="Invalid password, must be between 4 and 100 characters"),Ee(t)||X(c.REGISTER_INPUT,t,u.CLIENT),{errors:t,isValid:Ee(t)}}(this.state),t=e.errors,a=e.isValid;return a||this.setState({errors:t}),a}},{key:"render",value:function(){return m.a.createElement(F.a,{show:this.props.visible,onHide:this.handleHideClicked,backdrop:"static",keyboard:!1},m.a.createElement(F.a.Header,{closeButton:!0},m.a.createElement(F.a.Title,null,this.props.type)),m.a.createElement(M.a,{className:"form"},m.a.createElement(F.a.Body,null,this.props.type===pe.SIGN_UP?m.a.createElement(m.a.Fragment,null,m.a.createElement(M.a.Group,{controlId:"formBasicEmail"},m.a.createElement(M.a.Control,{"data-cy":"email-input",type:"email",placeholder:"Email",onChange:this.handleChangeEmail}),this.state.errors.email?m.a.createElement("p",{"data-cy":"email-error",className:"invalid-input"},this.state.errors.email):null)):null,m.a.createElement(Q,{onChangeUsername:this.handleChangeUsername,onChangePassword:this.handleChangePassword,errors:this.state.errors}),this.state.errors.notFound?m.a.createElement("p",{"data-cy":"wrong-credentials-error",className:"invalid-input"},this.state.errors.notFound):null),m.a.createElement(F.a.Footer,null,this.props.type===pe.LOGIN?m.a.createElement(V,{id:"userManagementSignInButtons",onSignUpClicked:this.props.handleNavigateToSignUpClicked,onLoginClicked:this.handleLoginClicked}):null,this.props.type===pe.SIGN_UP?m.a.createElement(B,{id:"userManagementSignUpButtons",onSignUpClicked:this.handleSignUpClicked,onLoginClicked:this.props.handleNavigateToLoginClicked}):null)))}}]),a}(m.a.Component),ve=Object(E.b)((function(e){return{username:e.username}}),{login:ce})(ge);var fe=function(){var e=Object(d.useState)(!1),t=Object(G.a)(e,2),a=t[0],n=t[1];return m.a.createElement(m.a.Fragment,null,m.a.createElement(ve,{visible:a,onHide:function(){n(!1)},type:pe.LOGIN,handleNavigateToLoginClicked:function(){},handleNavigateToSignUpClicked:function(){n(!0)}}),m.a.createElement(_.a,{id:"homepageLoginButton",variant:"secondary",type:"submit","data-cy":"login",onClick:function(){n(!0)}},"Login"))},we=(a(386),a(466)),Se=a(465),be=a(45),Ne=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleLogout=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(o.LOGOUT),le();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.DashboardHeader=n.DashboardHeader.bind(Object(P.a)(n)),n}return Object(x.a)(a,[{key:"HomepageHeader",value:function(){return m.a.createElement("div",{"data-testid":"header",className:"app-header"},m.a.createElement("div",{className:"left-header-icon"},m.a.createElement("div",{className:"header-logo-wrapper"},m.a.createElement("img",{src:q.a,className:"header-logo",alt:"in plain sight logo"})),m.a.createElement("div",{className:"header-title"},m.a.createElement("span",null,"In Plain Sight"))),m.a.createElement("div",{className:"right-header-buttons"},m.a.createElement("div",{className:"header-button header-material-button"},m.a.createElement(fe,null)),m.a.createElement("div",{className:"header-button"},m.a.createElement(z.b,{id:"resources",to:"/resources"},m.a.createElement("span",{className:"white-txt"},"Resources"))),m.a.createElement("div",{className:"header-button"},m.a.createElement(z.b,{id:"home",to:"/"},m.a.createElement("span",{className:"white-txt"},"Home")))))}},{key:"DashboardHeader",value:function(){return m.a.createElement("div",null,m.a.createElement(we.a,{expand:"lg",bg:"dark",variant:"dark"},m.a.createElement(we.a.Brand,null,m.a.createElement("div",{className:"header-logo-wrapper"},m.a.createElement("img",{src:q.a,className:"header-logo",alt:"in plain sight logo"}))),m.a.createElement(Se.a,null,m.a.createElement(Se.a.Link,{"data-cy":"logout",href:"/",onClick:this.handleLogout},m.a.createElement(be.e,{size:35})))))}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,"/"===window.location.pathname?m.a.createElement(this.HomepageHeader,null):window.location.pathname.includes(Pt.dashboard)?m.a.createElement(this.DashboardHeader,null):null)}}]),a}(d.Component),ye=Object(E.b)((function(e){return{}}),{})(Ne),Oe=(a(388),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{"data-testid":"footer",className:"app-footer"},m.a.createElement("span",{className:"footer-text"},"\xa9 2021, In Plain Sight. All rights reserved"))}}]),a}(d.Component)),Ie=a(237),Ce=a.n(Ie),ke=a(238),Re=a.n(ke),Ae=a(239),Te=a.n(Ae),je=a(455);var xe=function(){var e=Object(d.useState)(!1),t=Object(G.a)(e,2),a=t[0],n=t[1];return m.a.createElement(m.a.Fragment,null,m.a.createElement(ve,{visible:a,onHide:function(){n(!1)},type:pe.SIGN_UP,handleNavigateToSignUpClicked:function(){},handleNavigateToLoginClicked:function(){n(!0)}}),m.a.createElement(je.a,{type:"submit","data-cy":"register",onClick:function(){n(!0)}},m.a.createElement("span",{className:"white-txt"},"Get started")))},Ue=a(21),Le=a(389);function Pe(){return De.apply(this,arguments)}function De(){return(De=Object(T.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=(new Date).getTime(),a={token:Le(40),user:{username:"guest",email:"guest"}},n=(new Date).getTime(),K(l.GUEST,n-t),re(w,a),k.dispatch({type:"GUEST",payload:"guest"})}catch(r){X(l.GUEST,r,u.SERVER),console.error(r)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(390);var qe=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).unsubscribe=void 0,n.handleSighUpAsGuest=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(o.GUEST),e.next=4,Pe();case 4:n.setState({username:"Guest"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:""},Y(i.HOMEPAGE),n}return Object(x.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=k.subscribe((function(){e.setState({username:k.getState().user.username})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(ye,null),m.a.createElement(Ue.b,{exact:!0,path:"/"},this.state.username?m.a.createElement(Ue.a,{to:"/dashboard"}):null),m.a.createElement("div",{className:"app-homepage"},m.a.createElement("div",{className:"homepage-section-wrapper first-section"},m.a.createElement("div",{className:"homepage-get-started-container"},m.a.createElement("span",{className:"homepage-get-started-title"},"Learn American Sign Language"),m.a.createElement("span",{className:"homepage-subtitle"},"Learn ASL for free from the comfort of your home at your convenience. No tutoring is needed. Our application will help you learn and evaluate your progress."),m.a.createElement("div",{className:"homepage-section-buttons-container"},m.a.createElement("div",{className:"homepage-section-button left"},m.a.createElement(xe,null)),m.a.createElement("div",{className:"homepage-section-button"},m.a.createElement(z.b,{id:"guest",to:Pt.modules},m.a.createElement(je.a,{variant:"contained",onClick:this.handleSighUpAsGuest},m.a.createElement("span",{className:"white-txt"},"Continue as Guest"))))))),m.a.createElement("div",{className:"homepage-section-divider"},m.a.createElement("span",{className:"homepage-section-title"},"Interaction ASL Lessons")),m.a.createElement("div",{className:"homepage-section-wrapper"},m.a.createElement("div",{className:"homepage-section"},m.a.createElement("div",{className:"section-half-cell left"},m.a.createElement("span",{className:"homepage-subtitle vertical-align"},"In addition to predefined lessons, we offer interactive lessons. With the help of your webcam, you will get the chance to practice what you learned.")),m.a.createElement("div",{className:"homepage-icon-container section-half-cell right"},m.a.createElement("img",{src:Ce.a,className:"homepage-icon-container",alt:"girl in computer"})))),m.a.createElement("div",{className:"homepage-section-divider"},m.a.createElement("span",{className:"homepage-section-title"},"Have Fun Learning")),m.a.createElement("div",{className:"homepage-section-wrapper"},m.a.createElement("div",{className:"homepage-section"},m.a.createElement("div",{className:"section-half-cell right"},m.a.createElement("span",{className:"homepage-subtitle vertical-align"},"We offer fun games designed for the hearing impaired to reinforce learning. These games will include bingo and flashcards.")),m.a.createElement("div",{className:"homepage-icon-container section-half-cell left"},m.a.createElement("img",{src:Te.a,className:"homepage-icon-container",alt:"plain sight logo bingo"})))),m.a.createElement("div",{className:"homepage-section-divider"},m.a.createElement("span",{className:"homepage-section-title"},"Resources")),m.a.createElement("div",{className:"homepage-section-wrapper"},m.a.createElement("div",{className:"homepage-section"},m.a.createElement("div",{className:"section-half-cell left"},m.a.createElement("span",{className:"homepage-subtitle"},"Our mission is to facilitate the ASL learning process for those who are hearing impaired. In keeping with our mission, we will provide helpful links with tips and other resources to help those who need guidance. In addition, our users will be able to communicate with other students and share knowledge and resources.")),m.a.createElement("div",{className:"homepage-icon-container section-half-cell right"},m.a.createElement("img",{src:Re.a,className:"homepage-icon-container",alt:"boy in computer"})))),m.a.createElement("div",{className:"homepage-section-divider"}),m.a.createElement("div",{className:"homepage-section-wrapper"},m.a.createElement("div",{className:"homepage-last-section"},m.a.createElement("div",{className:"homepage-links-wrapper"},m.a.createElement("div",{className:"homepage-links-section"},m.a.createElement(z.b,{id:"about",to:"/about"},"About us"),m.a.createElement("div",{className:"spacing-div-20"}),m.a.createElement(z.b,{id:"contact",to:"/contact"},"Contact us")),m.a.createElement("div",{className:"homepage-links-section"},m.a.createElement(z.b,{id:"careers",to:"/careers"},"Careers"),m.a.createElement("div",{className:"spacing-div-20"}),m.a.createElement(z.b,{id:"help",to:"/help"},"Help and Support")),m.a.createElement("div",{className:"homepage-links-section"},m.a.createElement(z.b,{id:"terms",to:"/terms"},"Terms"),m.a.createElement("div",{className:"spacing-div-20"}),m.a.createElement(z.b,{id:"privacy",to:"/privacy"},"Privacy policy")))))),m.a.createElement(Oe,null))}}]),a}(d.Component),ze=Object(E.b)((function(e){return{username:e.user.username}}),{})(qe),Ge=a(457),_e=a(230),Fe=a(243),Me=(a(392),a(250)),Qe=a(464),Ve=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={docked:!0,signUpModalVisible:!1},e}return Object(x.a)(a,[{key:"handleSignUpClose",value:function(){this.setState({signUpModalVisible:!1})}},{key:"render",value:function(){var e,t,a,n,r,s,i,l,c,u,d=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(ve,{visible:this.state.signUpModalVisible,onHide:function(){d.handleSignUpClose()},type:pe.SIGN_UP,handleNavigateToSignUpClicked:function(){d.handleSignUpClose()},handleNavigateToLoginClicked:function(){d.handleSignUpClose()}}),m.a.createElement(Fe.a,{shadow:!1,transitions:!1,sidebar:m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"avatarContainer"},m.a.createElement(Me.a,{name:k.getState().user.username,round:!0,color:"#FFFFFF",style:{border:"solid 10px #6F488E",width:"60",height:"60"},size:"60",fgColor:"#5C5C5C"}),k.getState().user.username),m.a.createElement("ul",null,m.a.createElement("li",{className:(null===(e=this.props.location)||void 0===e?void 0:e.pathname)===Pt.dashboard?"active":"",onClick:function(){$(o.DASHBOARD)}},m.a.createElement(be.c,null),"guest"===k.getState().user.username?m.a.createElement("div",{className:"dashboard-sign-up-button",onClick:function(){d.setState({signUpModalVisible:!0})}},"Sign Up"):m.a.createElement(z.c,{to:Pt.dashboard,"data-cy":"main-dashboard",activeClassName:"non-exact-match"},"Dashboard")),m.a.createElement("li",{className:(null===(t=this.props.location)||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.includes(Pt.modules))||(null===(n=this.props.location)||void 0===n||null===(r=n.pathname)||void 0===r?void 0:r.includes(Pt.lessons))?"active":"",onClick:function(){$(o.MODULES)}},m.a.createElement(be.g,null),m.a.createElement(z.c,{to:Pt.modules,"data-cy":"modules-dashboard"},"Modules")),m.a.createElement("li",{className:(null===(s=this.props.location)||void 0===s||null===(i=s.pathname)||void 0===i?void 0:i.includes(Pt.quizzesPrefix))?"active":"",onClick:function(){$(o.QUIZZES)}},m.a.createElement(be.a,null),m.a.createElement(z.c,{to:Pt.quizzesModules,"data-cy":"quizzes-dashboard"},"Quizzes")),m.a.createElement("li",{className:(null===(l=this.props.location)||void 0===l?void 0:l.pathname)===Pt.games?"active":"",onClick:function(){$(o.GAMES)}},m.a.createElement(be.h,null),m.a.createElement(z.c,{to:Pt.games,"data-cy":"games-dashboard"},"Games")),m.a.createElement("li",{className:(null===(c=this.props.location)||void 0===c?void 0:c.pathname)===Pt.editProfile?"active":"",onClick:function(){$(o.EDIT_PROFILE)}},m.a.createElement(be.d,null),"guest"===k.getState().user.username?m.a.createElement(Qe.a,{title:"Login to access this feature",placement:"right"},m.a.createElement("p",{className:"disabled-menu","data-cy":"edit-dashboard"},"Edit Profile")):m.a.createElement(z.c,{to:Pt.editProfile,"data-cy":"edit-dashboard"},"Edit Profile")),m.a.createElement("li",{className:(null===(u=this.props.location)||void 0===u?void 0:u.pathname)===Pt.help?"active":"",onClick:function(){$(o.RESOURCE)}},m.a.createElement(be.f,null),m.a.createElement(z.c,{to:Pt.help,"data-cy":"help-dashboard"},"Help")))),docked:this.state.docked,styles:{root:{height:"100%"},sidebar:{overflowY:"none",background:"#F1F1F1",height:"100%"},overlay:{backgroundColor:"white"}}},m.a.createElement(m.a.Fragment,null)))}}]),a}(m.a.Component);a(424);function Be(){return He.apply(this,arguments)}function He(){return(He=Object(T.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return a=e.sent,n=(new Date).getTime(),e.next=7,ne.a.get(H+"/api/modules"+("guest"!==a?"?username=".concat(a):""));case 7:r=e.sent,s=(new Date).getTime(),K(l.MODULES,s-n),k.dispatch({type:"GET_MODULES",payload:null===(t=r.data)||void 0===t?void 0:t.response_text}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),X(l.MODULES,e.t0,u.SERVER),console.error("Failed to get modules",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Ze(e){return We.apply(this,arguments)}function We(){return(We=Object(T.a)(A.a.mark((function e(t){var a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return a=e.sent,n=(new Date).getTime(),e.next=7,ne.a.get(H+"/api/modules/"+t+"/lesson"+("guest"!==a?"?username=".concat(a):""));case 7:return r=e.sent,s=(new Date).getTime(),K(l.MODULE_LESSONS,s-n),k.dispatch({type:"GET_MODULE_LESSONS",payload:r.data.lessons}),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),X(l.MODULE_LESSONS,e.t0,u.SERVER),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Je(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(T.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(new Date).getTime(),e.next=4,ne.a.get(H+"/api/modules/lesson/"+t);case 4:return n=e.sent,r=(new Date).getTime(),K(l.LESSON_CONTENT,r-a),console.log("response",n),k.dispatch({type:"GET_LESSON",payload:n.data.slide}),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),X(l.LESSON_CONTENT,e.t0,u.SERVER),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Xe(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(T.a)(A.a.mark((function e(t,a){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return n=e.sent,r=(new Date).getTime(),e.next=7,ne.a.get(H+"/api/modules/lesson/"+t+"/progress/"+a+("guest"!==n?"?username=".concat(n):""));case 7:s=(new Date).getTime(),K(l.UPDATE_PROGRESS,s-r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),X(l.UPDATE_PROGRESS,e.t0,u.SERVER),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var $e=a(248),et=a.n($e),tt=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:k.getState().user.username},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:Y(i.MODULES);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPath",value:function(e){var t;return(null===(t=this.props.pathname)||void 0===t?void 0:t.includes("quizzes"))?Pt.dashboard+"/quizzes/"+e:Pt.lessons+"/"+e}},{key:"getHeader",value:function(){var e;return(null===(e=this.props.pathname)||void 0===e?void 0:e.includes("quizzes"))?m.a.createElement("h3",{className:"header-dashboard"},"Quizzes"):m.a.createElement("h3",{className:"header-dashboard"},"Modules")}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,this.getHeader(),m.a.createElement("div",{className:"module-buttons-wrapper"},void 0!==this.props.modules&&null!==this.props.modules?this.props.modules.map((function(t){var a,n=t[1],r=t[0],s=t[3];return 100===parseInt(s)&&(a=m.a.createElement("img",{src:et.a,className:"checkmark-logo",alt:"in plain sight logo"})),m.a.createElement(z.b,{key:r+n,to:{pathname:e.getPath(r),state:{moduleName:n}}},m.a.createElement(Ge.a,{className:"module-row"},m.a.createElement(_e.a,null,m.a.createElement("p",{className:"module-title"},n)),m.a.createElement(_e.a,null,a)))})):null))}}]),a}(m.a.Component),at={getModules:Be},nt=Object(E.b)((function(e){return{modules:e.module.modules}}),at)(tt),rt=a(458),st=a(468),it=(a(425),a(467)),ot=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:"cardsContainer"},m.a.createElement(st.a,{style:{minWidth:"25rem"}},m.a.createElement(st.a.Img,{variant:"top",src:this.props.imageUrl}),m.a.createElement(st.a.Body,null,m.a.createElement(st.a.Title,null,this.props.name),m.a.createElement(st.a.Text,null,this.props.description)),this.props.hideProgress?null:m.a.createElement(Ge.a,null,m.a.createElement(_e.a,{lg:10},m.a.createElement(it.a,{className:"progress",now:this.props.progress})),m.a.createElement(_e.a,{lg:2},m.a.createElement("span",{className:"progressText"},this.props.progress,"%")))))}}]),a}(m.a.Component),lt=(a(426),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n,r;return Object(j.a)(this,a),(r=t.call(this,e)).linkToLesson=function(e){return function(e){try{k.dispatch({type:"SET_LESSON_NAME",payload:e})}catch(t){console.log(t)}}(e),null},r.checkIfProgressNull=function(e){return e||0},r.state={username:k.getState().user.username,lessons:[],moduleId:(null===(n=r.props)||void 0===n?void 0:n.moduleId)||""},Y(i.LESSONS),r}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(this.state.moduleId);case 2:return 0!==(t=k.getState().module.lessons).length&&this.setState({lessons:t}),e.next=6,Be();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getModuleName",value:function(){var e=this,t=this.props.modules.filter((function(t){var a=t[0];if(e.props.moduleId)return a===parseInt(e.props.moduleId,10)}))[0];if(t)return t[1]}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h3",{className:"header-dashboard"},this.getModuleName()),m.a.createElement("div",{className:"cards-container"},m.a.createElement(rt.a,null,0!==this.state.lessons.length?this.state.lessons.map((function(t){return m.a.createElement(st.a,{style:{width:"70%",marginTop:"10%"},onClick:function(){return e.linkToLesson(t.name)},key:e.state.moduleId},m.a.createElement(z.c,{key:e.state.moduleId+t.name,to:Pt.lessons+"/"+e.state.moduleId+"/"+t.lesson_id,className:"no-margin"},m.a.createElement(ot,{name:t.name,description:t.description,progress:e.checkIfProgressNull(t.progress),imageUrl:t.picture,hideProgress:"guest"===k.getState().user.username})))})):null)))}}]),a}(m.a.Component)),ct={getModules:Be},ut=Object(E.b)((function(e){return{modules:e.module.modules}}),ct)(lt);a(427);function dt(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(T.a)(A.a.mark((function e(t){var a,n,r,s,i,o,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,n=(new Date).getTime(),e.next=5,ne.a.post(H+"/user/edit",{username:t.username,new_username:t.new_username,email:t.email,password:t.password,new_password:t.new_password});case 5:return r=e.sent,s=(new Date).getTime(),K(l.EDIT_PROFILE,s-n),ie(w,r.data),k.dispatch({type:"EDIT",payload:r.data.username}),e.abrupt("return",{errors:a,isSuccessful:!0});case 13:return e.prev=13,e.t0=e.catch(1),(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.Error)?((c=e.t0.response.data.Error).includes("Password")&&(a.password="Error with the password"),c.includes("Username")&&(a.newUsername="Username is already taken"),c.includes("Email")&&(a.email="Email is already taken"),X(l.EDIT_PROFILE,c,u.SERVER)):(a.password="Unsuccessful request",X(l.EDIT_PROFILE,"Unsuccessful request",u.SERVER)),e.abrupt("return",{errors:a,isSuccessful:!1});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function pt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(T.a)(A.a.mark((function e(){var t,a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,a=(new Date).getTime(),e.next=5,ne.a.get(H+"/user/settings/list");case 5:return n=e.sent,r=(new Date).getTime(),K(l.GET_PREFERENCES,r-a),e.abrupt("return",{errors:t,isSuccessful:!0,data:n.data.response_text});case 11:return e.prev=11,e.t0=e.catch(1),X(l.GET_PREFERENCES,"Unsuccessful request",u.SERVER),e.abrupt("return",{errors:e.t0,isSuccessful:!1});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Et(){return gt.apply(this,arguments)}function gt(){return(gt=Object(T.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 4:return a=e.sent,n=(new Date).getTime(),e.next=8,ne.a.get(H+"/user/settings/user"+"?username=".concat(a));case 8:return r=e.sent,s=(new Date).getTime(),K(l.GET_USER_PREFERENCES,s-n),e.abrupt("return",{errors:t,isSuccessful:!0,data:r.data.response_text});case 14:return e.prev=14,e.t0=e.catch(1),X(l.GET_USER_PREFERENCES,"Unsuccessful request",u.SERVER),e.abrupt("return",{errors:e.t0,isSuccessful:!1});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function vt(){return(vt=Object(T.a)(A.a.mark((function e(t,a){var n,r,s,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 4:return r=e.sent,s=(new Date).getTime(),e.next=8,ne.a.post(H+"/user/settings/update"+"?username=".concat(r),{username:r,setting_id:t,isTrue:a});case 8:return i=(new Date).getTime(),K(l.SET_USER_PREFERENCES,i-s),e.abrupt("return",{errors:n,isSuccessful:!0});case 13:return e.prev=13,e.t0=e.catch(1),X(l.SET_USER_PREFERENCES,"Unsuccessful request",u.SERVER),e.abrupt("return",{errors:e.t0,isSuccessful:!1});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var ft=a(463),wt=a(123),St=a(127);var bt=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleChangeNewUsername=function(e){var t=e.target.value;n.setState({newUsername:t})},n.handleChangeNewEmail=function(e){var t=e.target.value;n.setState({newEmail:t})},n.handleChangeCurrentPassword=function(e){var t=e.target.value;n.setState({password:t})},n.handleChangeNewPassword=function(e){var t=e.target.value;n.setState({newPassword:t})},n.handleChangeConfirmNewPassword=function(e){var t=e.target.value;n.setState({confirmPassword:t})},n.handleClickSaveProfile=function(){var e=Object(T.a)(A.a.mark((function e(t){var a,r,s,i,l,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),$(o.EDIT),!n.isUpdateProfileFormValid()){e.next=12;break}return a={username:n.state.username,new_username:n.state.newUsername,email:n.state.newEmail,password:n.state.password,new_password:n.state.confirmPassword},e.next=6,dt(a);case 6:r=e.sent,s=r.errors,i=r.isSuccessful,n.setState({errors:s}),n.setState({success:i}),i&&(null===(l=document.getElementById("username-form"))||void 0===l||l.reset(),null===(c=document.getElementById("password-form"))||void 0===c||c.reset());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){if(e.target.name.includes("webcam")){$(o.WEBCAM_SETTING);var t=void 0,a=n.state.userSettings.map((function(a){return a.name===e.target.name?(t=a.id,Object(f.a)(Object(f.a)({},a),{},{value:e.target.checked})):a}));n.setState({userSettings:a}),t&&function(e,t){vt.apply(this,arguments)}(t,e.target.checked)}else console.log("functionality not implemented")},n.state={username:k.getState().user.username,newUsername:"",newEmail:"",password:"",newPassword:"",confirmPassword:"",errors:{},success:!1,settings:[],userSettings:[]},n.getSetting(),n}return Object(x.a)(a,[{key:"getSetting",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt();case 2:return(null===(t=e.sent)||void 0===t?void 0:t.isSuccessful)&&this.setState({settings:t.data}),e.next=6,Et();case 6:(null===(a=e.sent)||void 0===a?void 0:a.isSuccessful)&&(n=this.state.settings.map((function(e){return{id:e[0],name:e[1],value:!!a.data.filter((function(t){return t.preference_id===e[0]}))[0]&&!!a.data.filter((function(t){return t.preference_id===e[0]}))[0].val}})),this.setState({userSettings:n}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isUpdateProfileFormValid",value:function(){var e=function(e){var t={};return wt.isEmpty(e.newUsername)&&wt.isEmpty(e.newEmail)&&wt.isEmpty(e.newPassword)?(t.newUsername="One of these fields must be filled",t.email="One of these fields must be filled",t.newPassword="One of these fields must be filled"):(wt.isEmpty(e.password)?t.password="This field is required":(e.password.length<4||e.password.length>100)&&(t.password="Invalid password"),!wt.isEmpty(e.newUsername)&&(e.newUsername.length<4||e.newUsername.length>100)&&(t.newUsername="Invalid username"),!wt.isEmpty(e.newEmail)&&(e.newEmail.length<4||e.newEmail.length>100)&&(t.email="Invalid email"),wt.isEmpty(e.newPassword)||((e.newPassword.length<4||e.newPassword.length>100)&&(t.newPassword="Invalid password"),e.password===e.newPassword&&(t.newPassword="New password can't equal the previous one"),wt.isEmpty(e.confirmPassword)?t.newPassword="This field is required":(e.confirmPassword.length<4||e.confirmPassword.length>100)&&(t.newPassword="Invalid password"),wt.isEmpty(e.confirmPassword)||e.newPassword===e.confirmPassword||(t.newPassword="Passwords don't match"))),St(t)||X(c.PROFILE_INPUT,t,u.CLIENT),{errors:t,isValid:St(t)}}(this.state),t=e.errors,a=e.isValid;return this.setState({errors:t}),a}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h3",{className:"header-dashboard"},"Edit Profile"),m.a.createElement("div",{className:"edit-profile-component"},m.a.createElement("div",{className:"main-section"},m.a.createElement(M.a,{className:"form",id:"username-form"},m.a.createElement(M.a.Group,{controlId:"formBasicUsername",className:"group-form"},m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"form-cell"},m.a.createElement("span",null,"New Username")),m.a.createElement("div",{className:"form-cell"},m.a.createElement(M.a.Control,{className:"form-input","data-cy":"edit-new-username-input",type:"text",placeholder:"New Username",onChange:this.handleChangeNewUsername}))),this.state.errors.newUsername?m.a.createElement("p",{"data-cy":"edit-newUsername-error",className:"invalid-input"},this.state.errors.newUsername):null,m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"form-cell"},m.a.createElement("span",null,"New Email")),m.a.createElement("div",{className:"form-cell"},m.a.createElement(M.a.Control,{className:"form-input","data-cy":"edit-new-email-input",type:"text",placeholder:"New Email",onChange:this.handleChangeNewEmail}))),this.state.errors.email?m.a.createElement("p",{"data-cy":"edit-email-error",className:"invalid-input"},this.state.errors.email):null))),m.a.createElement("div",{className:"main-section"},m.a.createElement("div",{className:"section-title"},m.a.createElement("span",null,"Change Password")),m.a.createElement(M.a,{className:"form",id:"password-form"},m.a.createElement(M.a.Group,{controlId:"formBasicPassword",className:"group-form"},m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"form-cell"},m.a.createElement("span",null,"Current Password")),m.a.createElement("div",{className:"form-cell"},m.a.createElement(M.a.Control,{className:"form-input","data-cy":"edit-password-input",type:"password",placeholder:"Current Password",onChange:this.handleChangeCurrentPassword}))),this.state.errors.password?m.a.createElement("p",{"data-cy":"edit-password-error",className:"invalid-input"},this.state.errors.password):null,m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"form-cell"},m.a.createElement("span",null,"New Password")),m.a.createElement("div",{className:"form-cell"},m.a.createElement(M.a.Control,{className:"form-input","data-cy":"edit-new-password-input",type:"password",placeholder:"New Password",onChange:this.handleChangeNewPassword}))),m.a.createElement("div",{className:"form-row"},m.a.createElement("div",{className:"form-cell"},m.a.createElement("span",null,"Confirm Password")),m.a.createElement("div",{className:"form-cell"},m.a.createElement(M.a.Control,{className:"form-input","data-cy":"confirm-new-password-input",type:"password",placeholder:"Confirm New Password",onChange:this.handleChangeConfirmNewPassword}))),this.state.errors.newPassword?m.a.createElement("p",{"data-cy":"edit-newPassword-error",className:"invalid-input"},this.state.errors.newPassword):null,this.state.success?m.a.createElement("p",{"data-cy":"edit-profile-success",className:"success-message"},"Profile successfully updated"):null)),m.a.createElement("div",{className:"save-button-container"},m.a.createElement(je.a,{variant:"contained","data-cy":"edit-profile-button",onClick:this.handleClickSaveProfile},m.a.createElement("span",{className:"white-txt"},"Save")))),m.a.createElement("div",{className:"main-section"},m.a.createElement("div",{className:"section-title"},m.a.createElement("span",null,"Settings")),m.a.createElement(M.a,{className:"settings-form"},m.a.createElement(M.a.Group,{controlId:"formBasicSettings",className:"group-form"},this.state.settings&&this.state.userSettings?this.state.userSettings.map((function(t){return m.a.createElement("div",{className:"form-cell settings-cell",key:t.id},m.a.createElement(ft.a,{onChange:e.handleChange,inputProps:{"aria-label":"primary checkbox"},name:t.name,disabled:t.name.includes("newsletter"),checked:t.value}),m.a.createElement("span",null,t.name))})):null)))))}}]),a}(m.a.Component),Nt=a(459);a(428);function yt(){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(T.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(new Date).getTime(),e.next=4,ne.a.get(H+"/resources");case 4:return a=e.sent,n=(new Date).getTime(),K(l.RESOURCES,n-t),k.dispatch({type:"GET_RESOURCES",payload:a.data.resources}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),X(l.RESOURCES,e.t0.response.data,u.SERVER),console.error(e.t0.response.data),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var It=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,resourcesList:[]},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt();case 2:t=k.getState().resources.list,this.setState({resourcesList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToWebsite",value:function(e){$(o.RESOURCE),window.open(e)}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h3",{className:"header-dashboard"},"Help"),m.a.createElement("div",{className:"resources-page-wrapper"},this.state.resourcesList.map((function(t){return m.a.createElement("div",{key:t.title,className:"resources-card"},m.a.createElement(Nt.a,{onClick:function(){return e.goToWebsite(t.link)}},m.a.createElement(ot,{name:t.title,description:t.description,hideProgress:!0,imageUrl:t.picture})))}))))}}]),a}(d.Component),Ct=(a(429),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:k.getState().user.username},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPath",value:function(e){var t;return(null===(t=this.props.pathname)||void 0===t?void 0:t.includes("quizzes"))?Pt.dashboard+"/quizzes/"+e:Pt.lessons+"/"+e}},{key:"getHeader",value:function(){return m.a.createElement("h3",{className:"header-dashboard"},"Dashboard")}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,this.getHeader()))}}]),a}(m.a.Component)),kt={getModules:Be},Rt=Object(E.b)((function(e){return{modules:e.module.modules}}),kt)(Ct),At=a(460),Tt=(a(430),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,lessonName:k.getState().module.currentLessonName,lessonIndex:0,lessonData:[],lessonId:n.props.lessonId||"",moduleId:n.props.moduleId||""},Y(i.LESSON),n.incrementLessonIndex=n.incrementLessonIndex.bind(Object(P.a)(n)),n.decrementLessonIndex=n.decrementLessonIndex.bind(Object(P.a)(n)),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(this.state.lessonId);case 2:0!==(t=k.getState().module.currentLesson).length&&this.setState({lessonData:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementLessonIndex",value:function(){var e=this.state.lessonIndex+1;$(o.NEXT_SLIDE),this.setState({lessonIndex:e});var t=Math.ceil(100*e/this.state.lessonData.length);Xe(this.state.lessonId,t)}},{key:"decrementLessonIndex",value:function(){var e=this.state.lessonIndex-1;$(o.PREVIOUS_SLIDE),this.setState({lessonIndex:e});var t=Math.ceil(100*e/this.state.lessonData.length);Xe(this.state.lessonId,t)}},{key:"finishLesson",value:function(){Xe(this.state.lessonId,100)}},{key:"render",value:function(){var e,t,a,n;return 0!==this.state.lessonIndex&&(e=m.a.createElement("button",{onClick:this.decrementLessonIndex},"Previous")),this.state.lessonIndex===this.state.lessonData.length-1?(this.finishLesson(),t=m.a.createElement("li",{onClick:function(){$(o.FINISH_LESSON)}},m.a.createElement(z.c,{className:"nav-link",to:Pt.lessons+"/"+this.state.moduleId,"data-cy":"main-dashboard"},m.a.createElement("button",null,"Finish")))):t=m.a.createElement("button",{onClick:this.incrementLessonIndex},"Next"),this.state.lessonData&&0!==this.state.lessonData.length&&(n=m.a.createElement("h3",{className:"lesson-title"},this.state.lessonData[this.state.lessonIndex].title),a=m.a.createElement("img",{className:"lesson-img",src:this.state.lessonData[this.state.lessonIndex].content,alt:this.state.lessonName})),m.a.createElement(m.a.Fragment,null,m.a.createElement(At.a,null,m.a.createElement("div",{className:"lesson-header"},m.a.createElement(Ge.a,null,m.a.createElement(_e.a,null,m.a.createElement("h3",null,this.state.lessonName)),m.a.createElement(_e.a,null),m.a.createElement(_e.a,null,m.a.createElement("li",{onClick:function(){$(o.CLOSE_LESSON)}},m.a.createElement(z.c,{key:this.state.moduleId,to:Pt.lessons+"/"+this.state.moduleId},m.a.createElement("button",{className:"exit-button"},"X"))))))),m.a.createElement("div",null,n,a),m.a.createElement(At.a,null,m.a.createElement("div",{className:"nav-buttons"},m.a.createElement(Ge.a,null,m.a.createElement(_e.a,null,e),m.a.createElement(_e.a,null),m.a.createElement(_e.a,null,t)))))}}]),a}(m.a.Component));a(431);function jt(e){return xt.apply(this,arguments)}function xt(){return(xt=Object(T.a)(A.a.mark((function e(t){var a,n,r,s,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return r=e.sent,s=(new Date).getTime(),e.next=7,ne.a.get(H+"/api/modules/"+t+"/quizzes"+("guest"!==r?"?username=".concat(r):""));case 7:return i=e.sent,o=(new Date).getTime(),K(l.QUIZZES,o-s),k.dispatch({type:"GET_QUIZZES",payload:null===(a=i.data)||void 0===a?void 0:a.quizzes}),e.abrupt("return",null===(n=i.data)||void 0===n?void 0:n.quizzes);case 14:return e.prev=14,e.t0=e.catch(0),X(l.QUIZZES,e.t0,u.SERVER),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Ut(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(T.a)(A.a.mark((function e(t){var a,n,r,s,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(new Date).getTime(),e.next=4,ne.a.get(H+"/api/modules/quiz/"+t);case 4:return s=e.sent,i=(new Date).getTime(),K(l.QUIZ_DATA,i-r),k.dispatch({type:"GET_QUIZ_DATA",payload:null===(a=s.data)||void 0===a?void 0:a.questions}),e.abrupt("return",null===(n=s.data)||void 0===n?void 0:n.questions);case 11:return e.prev=11,e.t0=e.catch(0),X(l.QUIZ_DATA,e.t0,u.SERVER),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var Pt,Dt=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,quizzes:null},Y(i.QUIZZES),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(this.props.moduleId);case 2:return t=e.sent,this.setState({quizzes:t}),e.next=6,Be();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getModuleName",value:function(){var e=this,t=this.props.modules.filter((function(t){return t[0]===parseInt(e.props.moduleId,10)}))[0];if(t)return t[1]}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h3",{className:"header-dashboard"},this.getModuleName()),m.a.createElement("div",{className:"quizzes-wrapper"},m.a.createElement(rt.a,null,this.state.quizzes?this.state.quizzes.map((function(t){var a=Pt.quiz.replace(":moduleId",e.props.moduleId).replace(":quizId",t.quiz_id);return m.a.createElement(st.a,{style:{width:"70%",marginTop:"10%"},key:t.quiz_id},m.a.createElement(z.c,{key:t.quiz_id,to:a,className:"no-margin"},m.a.createElement(ot,{name:t.title,description:t.description,progress:0,imageUrl:t.resources,hideProgress:"guest"===k.getState().user.username})))})):null)))}}]),a}(m.a.Component),qt={getModules:Be},zt=Object(E.b)((function(e){return{quizzes:e.module.quizzes,modules:e.module.modules}}),qt)(Dt),Gt=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).updateAndNotify=function(){var e,t,a,r,s,i,o,l,c,u=void 0,d=void 0,m=void 0;if(n.setState({moduleId:d,lessonId:u,quizId:m}),(null===(e=n.props.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("quizzes"))&&!(null===(a=n.props.location)||void 0===a||null===(r=a.pathname)||void 0===r?void 0:r.includes("modules")))d=null===(c=n.props.location)||void 0===c?void 0:c.pathname.substring(n.props.location.pathname.indexOf("quizzes/")+8);else if(null===(s=n.props.location)||void 0===s||null===(i=s.pathname)||void 0===i?void 0:i.includes("quiz/")){var p;m=null===(p=n.props.location)||void 0===p?void 0:p.pathname.substring(n.props.location.pathname.indexOf("quiz/")+5)}else if(null===(o=n.props.location)||void 0===o||null===(l=o.pathname)||void 0===l?void 0:l.includes("lessons/")){var h;(d=null===(h=n.props.location)||void 0===h?void 0:h.pathname.substring(n.props.location.pathname.indexOf("lessons/")+8)).includes("/")&&(u=d.substring(d.indexOf("/")+1),d=d.substring(0,d.indexOf("/")))}n.setState({moduleId:d,lessonId:u,quizId:m})},n.state={username:k.getState().user.username},Y(i.DASHBOARD),n}return Object(x.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a;(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)!==(null===(a=this.props.location)||void 0===a?void 0:a.pathname)&&this.updateAndNotify()}},{key:"render",value:function(){var e,t,a,n,r,s,i,o,l,c,u,d;return m.a.createElement(m.a.Fragment,null,m.a.createElement(ye,null),m.a.createElement(Ge.a,null,m.a.createElement(_e.a,{lg:2},this.state.lessonId?null:m.a.createElement(Ve,{location:this.props.location,username:this.state.username})),m.a.createElement("hr",{className:"title-hr"}),m.a.createElement(_e.a,null,(null===(e=this.props.location)||void 0===e?void 0:e.pathname)===Pt.dashboard?"guest"===k.getState().user.username?m.a.createElement(Ue.a,{to:Pt.modules}):m.a.createElement(Rt,null):null,(null===(t=this.props.location)||void 0===t?void 0:t.pathname)===Pt.modules||(null===(a=this.props.location)||void 0===a?void 0:a.pathname)===Pt.quizzesModules?m.a.createElement(nt,{pathname:null===(n=this.props.location)||void 0===n?void 0:n.pathname}):null,this.state.moduleId&&this.state.lessonId?m.a.createElement(Tt,{lessonId:this.state.lessonId,moduleId:this.state.moduleId}):this.state.moduleId?(null===(r=this.props.location)||void 0===r||null===(s=r.pathname)||void 0===s?void 0:s.includes("quizzes"))?m.a.createElement(zt,{pathname:null===(i=this.props.location)||void 0===i?void 0:i.pathname,moduleId:this.state.moduleId}):m.a.createElement(ut,{pathname:null===(o=this.props.location)||void 0===o?void 0:o.pathname,moduleId:this.state.moduleId}):null,(null===(l=this.props.location)||void 0===l?void 0:l.pathname)===Pt.editProfile?m.a.createElement(bt,{pathname:null===(c=this.props.location)||void 0===c?void 0:c.pathname}):null,(null===(u=this.props.location)||void 0===u?void 0:u.pathname)===Pt.help?m.a.createElement(It,{pathname:null===(d=this.props.location)||void 0===d?void 0:d.pathname}):null)))}}]),a}(d.Component),_t=Object(E.b)((function(e){return{username:e.user.username}}),{})(Gt),Ft=a(157),Mt=function(e){var t=e.component,a=Object(Ft.a)(e,["component"]),n=k.getState().session.auth;return m.a.createElement(Ue.b,Object.assign({},a,{render:function(e){return Object.entries(n).length?m.a.createElement(t,e):m.a.createElement(Ue.a,{to:"/"})}}))},Qt=function(e){var t=e.component,a=Object(Ft.a)(e,["component"]),n=k.getState().session.auth;return m.a.createElement(Ue.b,Object.assign({},a,{render:function(e){return Object.entries(n).length?m.a.createElement(Ue.a,{to:"/dashboard"}):m.a.createElement(t,e)}}))},Vt=(a(432),a(461)),Bt=(a(433),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).handleImageClick=function(e,t){n.setState({indexSelected:t}),n.props.onQuestionAnswered(e)},n.isAnswerSelected=function(){return void 0!==n.state.indexSelected},n.isRightAnswer=function(e){return n.props.question.answer.includes((e+1).toString(10))},n.getImageClassName=function(e){return n.indexIsSelectedIndex(e)?n.isRightAnswer(e)?"correct":"wrong":""},n.indexIsSelectedIndex=function(e){return e===n.state.indexSelected},n.state={username:k.getState().user.username,indexSelected:void 0},n}return Object(x.a)(a,[{key:"render",value:function(){var e=this,t=void 0!==this.props.question.resources?JSON.parse(this.props.question.resources):[];return m.a.createElement(m.a.Fragment,null,m.a.createElement("h6",null,"Click the image that corresponds to the text"),m.a.createElement("div",{className:"multiple-choice-wrapper"},m.a.createElement("hr",null),m.a.createElement(At.a,null,m.a.createElement("h4",null,this.props.question.question),m.a.createElement(Ge.a,{className:"choices-container"},t.map((function(t,a){return m.a.createElement(_e.a,{xs:6,md:4,lg:4,key:t},m.a.createElement(Vt.a,{className:e.getImageClassName(a)+" image-container",src:t,onClick:function(t){e.isAnswerSelected()||e.handleImageClick(t,a)}}),e.isAnswerSelected()&&e.indexIsSelectedIndex(a)?e.isRightAnswer(a)?m.a.createElement("h4",null,"Correct!"):m.a.createElement("h4",null,"Wrong"):null)}))))))}}]),a}(m.a.Component)),Ht=(a(434),a(249)),Zt=a.n(Ht),Wt=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).setRef=function(e){n.setState({webcamRef:e})},n.state={webcamRef:null,imageSrc:null,timerOn:!1,timerCount:3},n.capture=n.capture.bind(Object(P.a)(n)),n}return Object(x.a)(a,[{key:"componentWillMount",value:function(){setTimeout((function(){document.getElementsByClassName("camera-quiz-wrapper")[0].style.visibility="visible"}),1e3)}},{key:"capture",value:function(e){var t=this;this.setState({timerOn:!0});var a=setInterval((function(){if(t.state.timerOn){var n=t.state.timerCount-1;n>=0&&t.setState({timerCount:n})}else{var r=t.state.webcamRef.getScreenshot();t.setState({imageSrc:r}),t.props.onQuestionAnswered(e),t.setState({timerOn:!1}),clearInterval(a)}}),1e3)}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"camera-quiz-wrapper"},m.a.createElement(At.a,null,m.a.createElement(Ge.a,null,m.a.createElement(_e.a,null,m.a.createElement("h4",null,this.props.question.question))),m.a.createElement(Ge.a,null,m.a.createElement(_e.a,null,m.a.createElement(Zt.a,{videoConstraints:{width:640,height:480,facingMode:"user"},mirrored:!0,audio:!1,ref:this.setRef}),this.state.webcamRef?m.a.createElement("div",{className:"box-wrapper"},m.a.createElement("div",{className:"box"})):null,m.a.createElement("div",{className:"button-wrapper"},m.a.createElement("button",{onClick:function(t){return e.capture(t)}},"Capture photo")),this.state.timerOn?m.a.createElement("div",{className:"counter-wrapper"},m.a.createElement("h1",{className:"counter"},this.state.timerCount)):null)))))}}]),a}(m.a.Component),Jt=Object(E.b)(null,{})(Wt),Yt=(a(435),function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).wasEnterPressed=function(){return n.state.enterPressed},n.handlePressedEnter=function(e){n.setState({enterPressed:!0}),n.props.onQuestionAnswered(e)},n.isRightAnswer=function(){return n.props.question.answer.toLowerCase()===n.state.answer.toLowerCase()},n.getClassNameImage=function(){return n.wasEnterPressed()?n.isRightAnswer()?"correct":"wrong":""},n.state={username:k.getState().user.username,answer:"",enterPressed:!1},n}return Object(x.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("h6",null,"Type your answer and press enter"),m.a.createElement("hr",null),m.a.createElement("div",{className:"text-input-wrapper"},m.a.createElement(At.a,null,m.a.createElement(Ge.a,null,m.a.createElement(_e.a,null,m.a.createElement(Vt.a,{className:this.getClassNameImage(),src:this.props.question.resources}))),m.a.createElement(Ge.a,null,m.a.createElement(_e.a,null,m.a.createElement("input",{className:"inputField",placeholder:"Type you answer here and press enter",onChange:function(t){e.setState({answer:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.handlePressedEnter(t)},disabled:this.wasEnterPressed()}),this.wasEnterPressed()?this.isRightAnswer()?m.a.createElement("h3",null,"Correct!"):m.a.createElement("h3",null,"Wrong"):null)))))}}]),a}(m.a.Component)),Xt=function(e){Object(U.a)(a,e);var t=Object(L.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).setAsAnswered=function(){n.setState({isAnswered:!0})},n.getCurrentQuestion=function(){return n.state.questions[n.state.questionIndex]},n.incrementQuestionIndex=function(){n.setState({questionIndex:n.state.questionIndex+1,isAnswered:!1})},n.decrementQuestionIndex=function(){n.setState({questionIndex:n.state.questionIndex-1})},n.state={questions:[],username:k.getState().user.username,questionIndex:0,quizDetails:{},isAnswered:!1},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=Object(T.a)(A.a.mark((function e(){var t,a,n,r=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(this.props.match.params.quizId);case 2:return t=e.sent,e.next=5,jt(this.props.match.params.moduleId);case 5:a=e.sent,n=a.filter((function(e){return e.quiz_id===parseInt(r.props.match.params.quizId,10)}))[0],this.setState({questions:t,quizDetails:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuizComponentByType",value:function(){return"multiple-choice"===this.getCurrentQuestion().q_type?m.a.createElement(Bt,{key:this.getCurrentQuestion().q_id,question:this.getCurrentQuestion(),onQuestionAnswered:this.setAsAnswered}):"fill-the-blanks"===this.getCurrentQuestion().q_type?m.a.createElement(Yt,{key:this.getCurrentQuestion().q_id,question:this.getCurrentQuestion(),onQuestionAnswered:this.setAsAnswered}):"match-and-sign"===this.getCurrentQuestion().q_type?m.a.createElement(Jt,{key:this.getCurrentQuestion().q_id,question:this.getCurrentQuestion(),onQuestionAnswered:this.setAsAnswered}):void 0}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(ye,null),m.a.createElement(Ge.a,{className:"quizHeader"},m.a.createElement(_e.a,{xs:4,md:4,lg:4},m.a.createElement("h3",null,this.state.quizDetails.title)),m.a.createElement(_e.a,{lg:{span:2,offset:6}},m.a.createElement(z.b,{to:Pt.quizzes.replace(":moduleId",this.props.match.params.moduleId)},m.a.createElement(be.b,null)))),m.a.createElement("div",{className:"individual-quiz-wrapper"},this.getCurrentQuestion()?this.getQuizComponentByType():null),m.a.createElement(Ge.a,null,m.a.createElement(_e.a,{lg:{span:1,offset:9}},this.state.questionIndex>=this.state.questions.length-1?m.a.createElement(z.b,{to:Pt.quizzes.replace(":moduleId",this.props.match.params.moduleId)},m.a.createElement(_.a,{disabled:!this.state.isAnswered},"Finish")):m.a.createElement(_.a,{disabled:!this.state.isAnswered,onClick:this.incrementQuestionIndex},"Next"))))}}]),a}(m.a.Component),Kt=Object(E.b)(null,{})(Xt);!function(e){e.root="/",e.dashboard="/dashboard",e.modules="/dashboard/modules",e.lessons="/dashboard/lessons",e.lessons_moduleId="/dashboard/lessons/:moduleId",e.quizzesPrefix="/dashboard/quizzes",e.quizzesModules="/dashboard/quizzes/modules",e.quizzes="/dashboard/quizzes/:moduleId",e.quiz="/dashboard/quizzes/:moduleId/quiz/:quizId",e.games="/dashboard/games",e.editProfile="/dashboard/editProfile",e.help="/dashboard/help",e.individualLesson="/dashboard/lessons/:moduleId/:lessonId"}(Pt||(Pt={}));var $t=function(){var e,t;return window.Cypress&&(window.store=k),(null===(e=k.getState().session)||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.user)&&(J(k.getState().session.auth.user),Y(i.INIT)),m.a.createElement(E.a,{store:k},m.a.createElement("div",{className:"App"},m.a.createElement(Ue.d,null,m.a.createElement(Qt,{path:Pt.root,component:ze,exact:!0}),m.a.createElement(Mt,{exact:!0,path:Pt.quiz,component:Kt}),m.a.createElement(Mt,{path:Pt.dashboard,component:_t}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(m.a.createElement(z.a,null,m.a.createElement($t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.d3ab2963.chunk.js.map