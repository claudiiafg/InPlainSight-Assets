{"version":3,"sources":["assets/logo.png","assets/homepage-girl-computer-icon.svg","assets/homepage-boy-computer-icon.svg","assets/homepage-bingo-icon.svg","assets/checkmark.png","state/models/analyticsModels.tsx","state/models/types.tsx","state/reducers/userReducer.tsx","state/reducers/moduleReducer.tsx","state/reducers/sessionReducer.tsx","state/reducers/resourcesReducer.tsx","state/reducers/index.tsx","state/store.tsx","common/components/user/credentials/Credentials.tsx","common/components/user/sign-in/SignInOptions.tsx","common/components/user/sign-up/SignUpOptions.tsx","environment.ts","state/actions/analytics.tsx","state/validations/validateLoginInput.tsx","state/actions/session.tsx","state/actions/login.tsx","state/actions/register.tsx","state/validations/validateRegistrationInput.tsx","state/models/userManagementModel.tsx","common/components/user/UserManagement.tsx","common/components/user/buttons/SignInButton.tsx","common/components/header/Header.tsx","common/components/footer/Footer.tsx","common/components/user/buttons/SignUpButton.tsx","state/actions/guest.tsx","pages/homepage/Homepage.tsx","pages/dashboard/components/Sidebar.tsx","state/actions/modules.tsx","pages/dashboard/components/modules/Modules.tsx","common/components/cards/CardContainer.tsx","pages/dashboard/components/lessons/Lesson.tsx","state/actions/editProfile.tsx","state/validations/validateProfileInput.tsx","pages/dashboard/components/edit-profile/EditProfile.tsx","state/actions/resources.tsx","pages/dashboard/components/resources/Resources.tsx","pages/dashboard/components/RecentModules/RecentModules.tsx","pages/dashboard/components/IndividualLesson/IndividualLesson.tsx","state/actions/quizzes.tsx","App.tsx","pages/dashboard/components/quizzes/Quizzes.tsx","pages/dashboard/Dashboard.tsx","common/components/PrivateRoute.tsx","pages/dashboard/components/quizzes/multiple-choice/MultipleChoice.tsx","pages/dashboard/components/quizzes/match-and-sign/MatchAndSign.tsx","pages/dashboard/components/quizzes/fill-the-blanks/FillTheBlanks.tsx","pages/dashboard/components/quizzes/individual-quiz/IndividualQuiz.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","EventTypes","PageNavigation","ButtonClicks","RequestName","FunctionName","STACK","SESSION","initialState","username","localStorage","getItem","JSON","parse","user","modules","lessons","currentLesson","currentLessonName","quizzes","quizzes_data","auth","list","combineReducers","state","action","type","payload","session","resources","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","Credentials","Form","Group","controlId","Control","data-cy","placeholder","onChange","this","props","onChangeUsername","errors","className","onChangePassword","password","React","Component","SignInOptions","id","Button","variant","onClick","onLoginClicked","href","onSignUpClicked","SignUpOptions","BASE_URL","MIXPANEL_TOKEN","mixpanel","require","setUser","init","people","set","$distinct_id","email","$name","$email","identify","e","console","error","logPageNavigated","page","getState","track","NAVIGATION","distinct_id","logError","requestName","errorString","stack","errorDescription","ERROR","logServerRequestTime","time","REQUEST_TIME","logUserAction","BUTTON_CLICKED","validator","isEmpty","setSession","key","data","a","setItem","stringify","dispatch","SET_SESSION","CLIENT","updateSession","token","newItem","UPDATE_SESSION","clearSession","clear","err","CLEAR_SESSION","login","sentTime","Date","getTime","axios","post","response","receivedTime","LOGIN","SERVER","register","REGISTER","isRegistered","log","TypeOfUserManagement","UserManagement","handleChangeUsername","event","target","value","setState","handleChangeEmail","handleChangePassword","handleSignUpClicked","preventDefault","isRegistrationValid","handleNavigateToLoginClicked","handleHideClicked","onHide","handleLoginClicked","isLoginValid","notFound","SIGN_UP","length","LOGIN_INPUT","isValid","validateLoginInput","includes","REGISTER_INPUT","validateRegistrationInput","Modal","show","visible","backdrop","keyboard","Header","closeButton","Title","Body","Footer","handleNavigateToSignUpClicked","connect","SignInButton","useState","loginModalVisible","setLoginModalVisible","handleLogout","LOGOUT","DashboardHeader","bind","data-testid","src","logo","alt","to","Navbar","expand","bg","Brand","Nav","Link","size","window","location","pathname","HomepageHeader","Paths","dashboard","SignUpButton","signUpModalVisible","setSignUpModalVisible","randomToken","loginAsGuest","GUEST","Homepage","unsubscribe","handleSighUpAsGuest","HOMEPAGE","subscribe","exact","path","girl","bingo","boy","SideBar","docked","handleSignUpClose","shadow","transitions","sidebar","name","round","color","style","border","width","height","fgColor","DASHBOARD","activeClassName","MODULES","quizzesPrefix","QUIZZES","quizzesModules","games","GAMES","editProfile","EDIT_PROFILE","Tooltip","title","placement","help","RESOURCE","styles","root","overflowY","background","overlay","backgroundColor","getModules","get","response_text","getModuleLessons","MODULE_LESSONS","getLessonContent","lessonid","LESSON_CONTENT","updateLessonProgress","lessonId","progress","UPDATE_PROGRESS","Modules","moduleID","getHeader","undefined","map","moduleAsArray","checkmarkImage","moduleName","moduleCompletion","parseInt","checkmark","getPath","Row","Col","mapDispatchToProps","CardContainer","Card","minWidth","Img","imageUrl","Text","description","hideProgress","lg","ProgressBar","now","Lesson","linkToLesson","lessonName","setCurrentLesson","checkIfProgressNull","moduleId","LESSONS","filter","getModuleName","CardColumns","lesson","marginTop","lesson_id","picture","new_username","new_password","isSuccessful","Error","res","newUsername","getPreferences","GET_PREFERENCES","getUserPreferences","GET_USER_PREFERENCES","val","SET_USER_PREFERENCES","EditProfile","handleChangeNewUsername","handleChangeNewEmail","newEmail","handleChangeCurrentPassword","handleChangeNewPassword","newPassword","handleChangeConfirmNewPassword","confirmPassword","handleClickSaveProfile","EDIT","isUpdateProfileFormValid","success","document","getElementById","reset","handleChange","WEBCAM_SETTING","fieldId","settingsToUpdate","userSettings","checked","setUserPreferences","settings","getSetting","settingsResponse","pref","preference_id","PROFILE_INPUT","validateProfileInput","setting","Checkbox","inputProps","disabled","getResources","RESOURCES","Resources","resourcesList","url","open","resource","CardDeck","goToWebsite","link","RecentModules","IndividualLesson","lessonIndex","lessonData","LESSON","incrementLessonIndex","decrementLessonIndex","newIndex","NEXT_SLIDE","Math","ceil","PREVIOUS_SLIDE","previousButton","nextButton","lessonImage","lessonTitle","finishLesson","FINISH_LESSON","content","Container","CLOSE_LESSON","getQuizzes","getQuizData","quizId","QUIZ_DATA","questions","Quizzes","quiz","replace","quiz_id","updateAndNotify","substring","indexOf","prevProps","PrivateRoute","component","rest","isAuth","render","Object","entries","AuthRoute","MultipleChoice","handleImageClick","index","indexSelected","onQuestionAnswered","isAnswerSelected","isRightAnswer","question","answer","toString","getImageClassName","indexIsSelectedIndex","resourceUrls","resourceUrl","xs","md","Image","MatchAndSign","setRef","webcamRef","imageSrc","timerOn","timerCount","capture","setTimeout","getElementsByClassName","int","setInterval","getScreenshot","clearInterval","videoConstraints","facingMode","mirrored","audio","ref","FillTheBlanks","wasEnterPressed","enterPressed","handlePressedEnter","toLowerCase","getClassNameImage","onKeyPress","IndividualQuiz","setAsAnswered","isAnswered","getCurrentQuestion","questionIndex","incrementQuestionIndex","decrementQuestionIndex","quizDetails","match","params","quizzesDetails","quizDetail","q_type","q_id","span","offset","getQuizComponentByType","App","Cypress","INIT","Dashboard","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.d3ab2963.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.7a44935f.png\";","module.exports = __webpack_public_path__ + \"static/media/homepage-girl-computer-icon.81695ba5.svg\";","module.exports = __webpack_public_path__ + \"static/media/homepage-boy-computer-icon.79723be7.svg\";","module.exports = __webpack_public_path__ + \"static/media/homepage-bingo-icon.df828ede.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAAASpSURBVHhe7Zy9b9NAGIf957Gzww4DE4iRrBVlqZBAytZmYWgFS7+GdgrKAFKrMrUs0AEqMSAhxGb0uHmD45zt8335zuEn/ZBKro7v8Xvvez6fm+U968e3n/n59DI/3fuQ7746ySebh/nWkzcrHo/eFp/tb0+L9tdX3+dH6FfBAdJxYAHk6d2X+aM7L6wMXMBfnn2df0NYBQF4efYl39+Z5qP7YyUEV+aCTDYPiggNJa8A6QgRouqsb3OxiHRShE95ATg7uvAebV1MVPoC6RQgQ3Xj4bayE32b4U0acS0nAH//+lMUBdWJx2ZGhsuCYw2QPOeimoa2q2i0Asj0QXVyqZhotM2NRgAZsn1VV9cG4vXVzbxn3dUZIFcspgrrykx5TNQJ4FDhiU3yojbAocMTd41ELYDrAk88O/4073m7WgFSMNYJHmZapltYWgGmPlUxNUGjM8VpBHi691F58HUxU7U21QKEfop3GK7dVlRqAW48iHNRwIVZ8NDN6wRR01BWAmQ5SnWwIRh4FMYuM4umobwCcMhTFoEn6tLXuhWcFYD7O++VB0jdVXgiXYi0UWkJ4FCjrw6eSLffs+OL+W/80xLAIUZfGzyRDkRVFC4BHFr06cJDulFYzYULgEOrvD7g4WpFXgAcygIp9gVPXD52AZCDqBqmaN/wcPnupAA4lOEbAh4uD+MCYCqPJJscCp5YvqsAmPqiQWh4WKpxdv35RtkgFfcBD7NOijIejKsapOC+4GHSHspSXXHuEx7meChzUUDGz94p/9+X+4Yn5hwy24XT2dHtE6z97TD30bHAwxw/s6nAAk/kG2JM8DCVOFN9oOMqPJEviLHBw9yAGAGsgydyDTFGeNgIYBs8kSuIscLDRgC7bMCxhRgzPGw8hENAjB0eNgaIfUJMAR4uAI7umX+5D4ipwMPFNMZ2It0FIgVIdQxxSvAwO7ic3Mq5gJgaPMz5OltMsIGYIjzu4FBGIlQ1MLEJxBTh4a3Ht8v6GSelamDqLhDPp1dJwsO8t4y8LOl3gaij2ODhxZI+/0yeHygb2dgVxBjhYZHXx5q2EGOFJ/kPFQDJQ6qGLmwKMVZ4uPwaRAEQ+dza0RVizPAw5ydaACQpqhq7si7E2OHx9ntZC4DI9wP2Noixw8NSfUVLAF0tgja5DmIK8Di/qpYAUkxCbPOoQkwBHla9Q7cEEIWIQiwQU4Gnij60ApAoDNWh3dcnScDDdW9wrgBEbet26+Zq5S1LCRANacuvjakJpJk61QLkl0IUlNjNG6tNqgWI1n0oNw1dUSNA9P+F62a1AkTrlg/b8l5ZWgBDTm1iMCvlutICiFKZ8NqavN9F2gDR0CF2hYc6AURDhEjOM4GHOgNE5MTxKOy+aF8mGIL+8bGyQi08+DLPNnSrbZ2sACIWGFMc0lx8F7IGiLiKPh6N+jA7IWyGbFVOAIpiLjAUirb7WhM5BSiiosUCEnAMVwqfD3kBKCI/hn6LScy+R5/gRF4BihjaDB/ff06KaGPxo/rkzKeCACwLmAxxItMWKMCYihBpIaGVFRxgVQwxOs/+HLaMEUGT54cFGDE/Yz4nkrnZt52/uVGe/wUN/AbX74afWQAAAABJRU5ErkJggg==\"","export enum EventTypes {\n    NAVIGATION = 'Page Opened: ',\n    ERROR = 'Error',\n    REQUEST_TIME = 'Server Request Time',\n    EDIT_PROFILE = 'Edit Profile: ',\n    BUTTON_CLICKED = 'CTA'\n}\n\nexport enum PageNavigation {\n    INIT = 'Init',\n    HOMEPAGE = 'Homepage',\n    LOGIN = 'Login',\n    REGISTER = 'Register',\n    DASHBOARD = 'Dashboard',\n    MODULES = 'Modules',\n    QUIZZES = 'Quizzes',\n    LESSONS = 'Lessons',\n    LESSON = 'Lesson',\n}\n\nexport enum ButtonClicks {\n    LOGIN = 'Login',\n    REGISTER = 'Register',\n    GUEST = 'Continue as Guest',\n    DASHBOARD = 'Dashboard (SM)',\n    MODULES = 'Modules (SM)',\n    QUIZZES = 'Quizzes (SM)',\n    GAMES = 'Games (SM)',\n    EDIT_PROFILE = 'Edit Profile (SM)',\n    RESOURCES = 'Resources (SM)',\n    CLOSE_LESSON = 'End Lesson',\n    NEXT_SLIDE = 'Next Slide',\n    PREVIOUS_SLIDE = 'Previous Slide',\n    FINISH_LESSON = 'Finish Lesson',\n    LOGOUT = 'Logout',\n    EDIT = 'Edit Profile',\n    RESOURCE = 'Resource',\n    WEBCAM_SETTING = 'Webcam Setting'\n}\n\nexport enum RequestName {\n    REGISTER = 'register',\n    EDIT_PROFILE = 'editProfile',\n    LOGIN = 'login',\n    GUEST = 'loginAsGuest',\n    MODULE_LESSONS = 'getModuleLessons',\n    MODULES = 'getModules',\n    QUIZZES = 'getQuizzes',\n    QUIZ_DATA = 'getQuizData',\n    LESSON_CONTENT = 'getLessonContent',\n    RESOURCES = 'getResources',\n    UPDATE_PROGRESS = 'updateLessonProgress',\n    GET_PREFERENCES = 'getPreferences',\n    GET_USER_PREFERENCES = 'getUserPreferences',\n    SET_USER_PREFERENCES = 'setUserPreferences'\n}\n\nexport enum FunctionName {\n    SET_SESSION = 'setSession',\n    UPDATE_SESSION = 'updateSession',\n    CLEAR_SESSION = 'clearSession',\n    PROFILE_INPUT = 'validateProfileInput',\n    LOGIN_INPUT = 'validateLoginInput',\n    REGISTER_INPUT = 'validateRegistrationInput'\n}\n\nexport enum STACK {\n    CLIENT = 'Client',\n    SERVER = 'Server'\n}\n","export const GET_DATA = 'GET';\nexport const GET_MODULES = 'GET_MODULES';\nexport const GET_MODULE_LESSONS = 'GET_MODULE_LESSONS';\nexport const GET_QUIZZES = 'GET_QUIZZES';\nexport const GET_QUIZ_DATA = 'GET_QUIZ_DATA';\nexport const GET_LESSON = 'GET_LESSON'\nexport const POST_DATA = 'POST';\nexport const SET_LESSON_NAME = 'SET_LESSON_NAME';\nexport const LESSON = 'LESSON';\nexport const LOGIN = 'LOGIN';\nexport const REGISTER = 'REGISTER'\nexport const EDIT = 'EDIT';\nexport const GUEST = 'GUEST';\nexport const GET_RESOURCES = \"GET_RESOURCES\";\nexport const SESSION = 'SESSION';\nexport const LOGOUT = 'LOGOUT';\nexport const GET_SETTINGS = 'GET_SETTINGS';\nexport const GET_USER_SETTINGS = 'GET_USER_SETTINGS';\nexport const SET_USER_SETTINGS = 'SET_USER_SETTINGS';\n\n\n","import {GUEST, LOGIN, REGISTER, EDIT, SESSION} from '../models/types';\n\n// Get the username from the session\nconst initialState = {\n    username: localStorage.getItem(SESSION) ? JSON.parse(localStorage.getItem(SESSION) || '{}')?.user?.username : ''\n}\n\nexport default function(state = initialState, action: any) {\n    switch (action.type) {\n        case LOGIN:\n        case REGISTER:\n        case GUEST:\n        case EDIT:\n            return {\n                ...state,\n                username: action.payload,\n            }\n        default:\n            return state;\n    }\n}\n","import {\n    GET_LESSON,\n    GET_MODULE_LESSONS,\n    GET_MODULES,\n    GET_QUIZ_DATA,\n    GET_QUIZZES,\n    SET_LESSON_NAME\n} from \"../models/types\";\n\ninterface ModuleState {\n    modules: string[][];\n    lessons: any[][];\n    currentLesson: any;\n    currentLessonName: string;\n    quizzes: any[];\n    quizzes_data: any;\n}\nconst initialState: ModuleState = {\n    modules: [],\n    lessons: [],\n    currentLesson: {},\n    currentLessonName: \"\",\n    quizzes: [],\n    quizzes_data: []\n}\n\nexport default function (state = initialState, action: any) {\n    switch (action.type) {\n        case GET_MODULES:\n            return {\n                ...state,\n                modules: action.payload\n            }\n\n        case GET_MODULE_LESSONS:\n            return {\n                ...state,\n                lessons: action.payload\n            }\n\n        case GET_LESSON:\n            return {\n                ...state,\n                currentLesson: action.payload\n            }\n        case SET_LESSON_NAME:\n            return   {\n                ...state,\n                currentLessonName: action.payload\n            }\n        case GET_QUIZZES:\n            return {\n                ...state,\n                quizzes: action.payload\n            }\n        case GET_QUIZ_DATA:\n            return {\n                ...state,\n                quizzes_data: action.payload\n            }\n        default:\n            return state;\n    }\n}\n","import {SESSION, LOGOUT} from '../models/types';\n\nconst initialState = {\n    auth: JSON.parse(localStorage.getItem(SESSION) || '{}')\n}\n\nexport default function(state = initialState, action: any) {\n    switch (action.type) {\n        case SESSION:\n        case LOGOUT:\n          return {\n            ...state,\n            auth: action.payload,\n          }\n        default:\n            return state;\n        }\n}\n","import {GET_RESOURCES} from '../models/types';\n\nconst initialState = {\n    list: []\n}\n\nexport default function(state = initialState, action: any) {\n    if(action.type == GET_RESOURCES) {\n        return {\n            ...state,\n            list: action.payload,\n        }\n    } else {\n        return state;\n    }\n}\n","import {combineReducers} from 'redux';\nimport userReducer from './userReducer';\nimport moduleReducer from './moduleReducer';\nimport sessionReducer from './sessionReducer';\nimport resourcesReducer from './resourcesReducer';\n\nexport default combineReducers({\n    user: userReducer,\n    module: moduleReducer,\n    session: sessionReducer,\n    resources: resourcesReducer\n})\n","import {applyMiddleware, createStore } from \"redux\";\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst initialState: any = {};\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(\n        applyMiddleware(...middleware)\n    )\n);\n\nexport default store;\n","import React, { SyntheticEvent } from 'react'\nimport Form from 'react-bootstrap/Form'\ninterface CredentialsProps {\n    onChangeUsername: (event: SyntheticEvent) => void;\n    onChangePassword: (event: SyntheticEvent) => void;\n    errors: any;\n}\n\nclass Credentials extends React.Component<CredentialsProps>{\n    render() {\n        return (\n            <>\n                <Form.Group\n                    controlId=\"formBasicUsername\">\n\n                    <Form.Control\n                        type=\"text\"\n                        data-cy='username-input'\n                        placeholder=\"Username\"\n                        onChange={this.props.onChangeUsername}\n                    />\n\n                    {this.props.errors.username ? (\n                        <p data-cy='username-error' className='invalid-input'>{this.props.errors.username}</p>\n                    ) : null}\n\n                </Form.Group>\n                <Form.Group\n                    controlId=\"formBasicPassword\">\n\n                    <Form.Control\n                        type=\"password\"\n                        data-cy='password-input'\n                        placeholder=\"Password\"\n                        onChange={this.props.onChangePassword}\n                    />\n\n                    {this.props.errors.password ? (\n                        <p data-cy='password-error' className='invalid-input'>{this.props.errors.password}</p>\n                    ) : null}\n                </Form.Group>\n            </>\n        )\n    }\n}\nexport default Credentials;\n","import React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport 'bootstrap/dist/css/bootstrap.min.css';\ninterface SignInOptionsProps {\n    id?: string;\n    onSignUpClicked: (e: React.MouseEvent) => void;\n    onLoginClicked: (event: React.MouseEvent) => void;\n}\nclass SignInOptions extends React.Component<SignInOptionsProps>{\n    render() {\n        return (\n            <div id={this.props.id}>\n                <Button data-cy='submit-login' id=\"modalSignInButton\" variant=\"primary\" type=\"submit\" onClick={this.props.onLoginClicked}>\n                    Login\n                    </Button>\n                <p>Forgot your password?  <a href=\"/\">click here</a>.</p>\n\n                <p className=\"horizontalLine\"><span>or</span></p>\n\n                <p>Don't have an account?</p>\n\n                <Button\n                    id=\"modalLoginButton\"\n                    variant=\"primary\"\n                    type=\"submit\"\n                    onClick={this.props.onSignUpClicked}\n                >\n                    Sign Up\n                </Button>\n            </div>\n        )\n    }\n}\nexport default SignInOptions;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\ninterface SignUpOptionsProps {\n    id?:string;\n    onSignUpClicked: (e: React.MouseEvent) => void;\n    onLoginClicked: (e: React.MouseEvent) => void;\n}\nclass SignUpOptions extends React.Component<SignUpOptionsProps>{\n    render() {\n        return (\n            <div id={this.props.id}>\n                <Button\n                    id=\"modalSignUpButton\"\n                    variant=\"primary\"\n                    data-cy='submit-registration'\n                    type=\"submit\"\n                    onClick={this.props.onSignUpClicked}\n                >\n                    Sign Up\n                </Button>\n\n                <p className=\"horizontalLine\"><span>or</span></p>\n\n                <p>Already have an account?</p>\n\n                <Button\n                    id=\"modalLoginButton\"\n                    variant=\"primary\"\n                    type=\"submit\"\n                    onClick={this.props.onLoginClicked}\n                >\n                    Login\n                </Button>\n            </div>\n        )\n    }\n}\nexport default SignUpOptions;\n","const isProd = process.env.NODE_ENV === 'production';\n\nexport const BASE_URL = isProd ? 'https://achung98.pythonanywhere.com' : \"http://localhost:8000\";\nexport const MIXPANEL_TOKEN = isProd ? '5ac4c1aa3ea9ae1c840e0ba60ad10ee1' : 'c9281ab6fc87649cd03490e3781c225b';\n\n\nexport const isTest = !isProd && window.Cypress;\nexport const mockSuccessRegistration = !isProd && !!(window.Cypress && window.Cypress.env('mockSuccessRegistration'));\n","import {MIXPANEL_TOKEN} from \"../../environment\";\nimport {ButtonClicks, EventTypes, FunctionName, PageNavigation, RequestName, STACK} from \"../models/analyticsModels\";\nimport store from \"../store\";\nconst mixpanel = require('mixpanel-browser');\n\nexport const setUser = function(user :any){\n    try{\n        // Start mixpanel initiation with proper id\n        mixpanel.init(MIXPANEL_TOKEN);\n\n        // set user properties\n        mixpanel.people.set({\n            $distinct_id: user.email,\n            $name: user.username,\n            $email: user.email\n        });\n\n        // identify must be called along with every instance of people.set\n        mixpanel.identify(user.email);\n    } catch(e) {\n        console.error(e);\n    }\n\n}\n\nexport const logPageNavigated = function(page: PageNavigation) {\n    try{\n        const user = store.getState().session?.auth?.user || 'guest@user.com';\n\n        mixpanel.init(MIXPANEL_TOKEN);\n        mixpanel.track(EventTypes.NAVIGATION + page, {\n            distinct_id: user.email,\n            $name: user.username,\n            $email: user.email,\n        });\n    } catch(e) {\n        console.error(e);\n    }\n}\n\nexport const logError = function(requestName: RequestName | FunctionName, errorString: string, stack: STACK) {\n    try{\n        const user = store.getState().session?.auth?.user || 'guest@user.com';\n        const errorDescription = errorString;\n\n        mixpanel.init(MIXPANEL_TOKEN);\n        mixpanel.track(EventTypes.ERROR, {\n            distinct_id: user.email,\n            \"Request Name\": requestName,\n            \"Description\": errorDescription,\n            \"Stack\": stack,\n        });\n    } catch(e) {\n        console.error(e);\n    }\n}\n\nexport const logServerRequestTime = function(requestName: RequestName, time: number) {\n    try{\n        const user = store.getState().session?.auth?.user || 'guest@user.com';\n\n        mixpanel.init(MIXPANEL_TOKEN);\n        mixpanel.track(EventTypes.REQUEST_TIME, {\n            distinct_id: user.email,\n            \"Request Name\": requestName,\n            \"Result Count\": time\n        });\n    } catch(e) {\n        console.error(e);\n    }\n}\n\nexport const logUserAction = function(action: ButtonClicks) {\n    try{\n        const user = store.getState().session?.auth?.user || 'guest@user.com';\n\n        mixpanel.init(MIXPANEL_TOKEN);\n        mixpanel.track(EventTypes.BUTTON_CLICKED, {\n            distinct_id: user.email,\n            \"Action\": action\n        });\n    } catch(e) {\n        console.error(e);\n    }\n\n}\n","import {logError} from \"../actions/analytics\";\nimport {FunctionName, STACK} from \"../models/analyticsModels\";\n\nconst validator = require('validator');\nconst isEmpty = require('lodash/isEmpty');\n\nexport default function validateLoginInput(data: any) {\n    let errors: any = {};\n\n    if(validator.isEmpty(data.username)) {\n        errors.username = 'This field is required'\n    } else if(data.username.length < 4 || data.username.length > 100) {\n        errors.username = 'Invalid username';\n    }\n\n    if(validator.isEmpty(data.password)) {\n        errors.password = 'This field is required'\n    } else if(data.password.length < 4 || data.password.length > 100 ) {\n        errors.password = 'Invalid password';\n    }\n\n    if(!isEmpty(errors)) {\n        logError(FunctionName.LOGIN_INPUT, errors, STACK.CLIENT)\n    }\n\n    return {\n        errors,\n        isValid: isEmpty(errors)\n    }\n}\n","import {LOGOUT, SESSION} from '../models/types';\nimport store from \"../store\";\nimport {logError} from \"./analytics\";\nimport {FunctionName, STACK} from \"../models/analyticsModels\";\n\n/* Set of functions to save, delete, update, and retrieve information\nfrom the browser local storage */\n\nexport async function setSession(key: string, data: any) {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n\n    store.dispatch({\n      type: SESSION,\n      payload: data\n    });\n\n    return true;\n\n  } catch(err) {\n    logError(FunctionName.SET_SESSION, err, STACK.CLIENT);\n    return false;\n  }\n}\n\nexport async function updateSession(key: string, data: any) {\n  try {\n    const token = JSON.parse(localStorage.getItem(SESSION) as string)?.token;\n    const newItem = {\n      token,\n      user: data\n    };\n    localStorage.setItem(key, JSON.stringify(newItem));\n\n    store.dispatch({\n      type: SESSION,\n      payload: data\n    });\n\n    return true;\n\n  } catch(err) {\n    logError(FunctionName.UPDATE_SESSION, err, STACK.CLIENT);\n    return false;\n  }\n}\n\nexport function clearSession() {\n  try {\n    localStorage.clear();\n\n    store.dispatch({\n      type: LOGOUT,\n      payload: false\n    })\n\n  } catch(err) {\n    logError(FunctionName.CLEAR_SESSION, err, STACK.CLIENT);\n  }\n}\n","import {LOGIN, SESSION} from '../models/types';\nimport axios from \"axios\";\nimport store from \"../store\";\nimport {BASE_URL} from '../../environment'\n\nimport {setSession} from './session';\nimport {logError, logServerRequestTime, setUser} from \"./analytics\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\n\nexport async function login(data: any) {\n    try{\n        const sentTime = (new Date()).getTime();\n        let response = await axios.post(BASE_URL + '/user/auth', {\n            \"username\": data.username,\n            \"password\": data.password\n        })\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.LOGIN, receivedTime-sentTime);\n\n        setSession(SESSION, response.data);\n        setUser(data);\n\n        store.dispatch({\n            type: LOGIN,\n            payload: response.data.user.username\n        });\n        return true;\n    }\n    catch(e){\n        logError(RequestName.LOGIN, e.response.data, STACK.SERVER)\n        return false;\n    }\n}\n","import {REGISTER, SESSION} from '../models/types';\nimport axios from \"axios\";\nimport store from \"../store\";\nimport {BASE_URL, mockSuccessRegistration} from './../../environment'\n\nimport { setSession } from './session';\nimport {logError, logServerRequestTime, setUser} from \"./analytics\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\n\nexport async function register(data: any){\n    const errors: any = {};\n\n    //in order to not write to database, specially now that we can't delete users yet\n    if(mockSuccessRegistration) {\n        console.log('IS mockSuccessRegistration')\n        store.dispatch({\n            type: REGISTER,\n            payload: 'TEST'\n        });\n        setSession(SESSION, 't1h2i3s4i5s6a7t8e9s0t9t8o7k65e4n3f2o1r2e3n4d5t6o7e8nd9t0e9s8t7i6n5g4');\n        return {\n            errors,\n            isRegistered: true\n        }\n    }\n\n    try{\n        const sentTime = (new Date()).getTime();\n        let response = await axios.post(BASE_URL + '/register/', {\n            \"email\": data.email,\n            \"username\": data.username,\n            \"password\": data.password\n        })\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.REGISTER, receivedTime-sentTime);\n\n        setSession(SESSION, response.data);\n        setUser(data);\n\n        store.dispatch({\n            type: REGISTER,\n            payload: response.data.user.username\n        });\n        return {\n            errors,\n            isRegistered: true\n        }\n    }\n    catch(e){\n        if(e.response.data){\n            console.log(e.response.data)\n            if(e.response.data.email){\n                errors.email = e.response.data.email[0];\n            }\n            if(e.response.data.username){\n                errors.username = e.response.data.username[0];\n            }\n            logError(RequestName.REGISTER, e.response.data, STACK.SERVER)\n        }\n        return {\n            errors,\n            isRegistered: false\n        };\n    }\n\n}\n","import {logError} from \"../actions/analytics\";\nimport {FunctionName, STACK} from \"../models/analyticsModels\";\n\nconst validator = require('validator');\nconst isEmpty = require('lodash/isEmpty');\n\nexport default function validateRegistrationInput(data: any) {\n    let errors: any = {};\n\n    if(validator.isEmpty(data.username)) {\n        errors.username = 'This field is required'\n    } else if(data.username.length < 4 || data.username.length > 100) {\n        errors.username = 'Invalid username, username needs to be between 4 and 100 characters';\n    }\n    if(validator.isEmpty(data.email)) {\n        errors.email = 'This field is required'\n    } else if(data.email.length < 4 || data.email.length > 100 || !data.email.includes('@')) {\n        errors.email = 'Invalid email address';\n    }\n\n    if(validator.isEmpty(data.password)) {\n        errors.password = 'This field is required'\n    } else if(data.password.length < 4 || data.password.length > 100 ) {\n        errors.password = 'Invalid password, must be between 4 and 100 characters';\n    }\n\n    if(!isEmpty(errors)) {\n        logError(FunctionName.REGISTER_INPUT, errors, STACK.CLIENT)\n    }\n    return {\n        errors,\n        isValid: isEmpty(errors)\n    }\n}\n","export enum TypeOfUserManagement {\n    LOGIN = \"Login\",\n    SIGN_UP = \"Create your account\",\n    test ='',\n}\n","import React, {SyntheticEvent} from \"react\";\nimport {Form, Modal} from \"react-bootstrap\";\nimport Credentials from \"./credentials/Credentials\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './UserManagement.css'\nimport SignInOptions from \"./sign-in/SignInOptions\";\nimport SignUpOptions from \"./sign-up/SignUpOptions\";\nimport validateLoginInput from \"../../../state/validations/validateLoginInput\";\nimport {login} from '../../../state/actions/login';\nimport {register} from '../../../state/actions/register';\nimport {connect} from \"react-redux\";\nimport validateRegistrationInput from \"../../../state/validations/validateRegistrationInput\";\nimport {TypeOfUserManagement} from \"../../../state/models/userManagementModel\";\nimport {logPageNavigated, logUserAction} from \"../../../state/actions/analytics\";\nimport {ButtonClicks, PageNavigation} from \"../../../state/models/analyticsModels\";\n\ninterface UserManagementProps {\n    type: TypeOfUserManagement\n    visible?: boolean;\n    onHide?: (isHidden: boolean) => void;\n    login: any,\n    username: string\n    handleNavigateToLoginClicked: (e: React.MouseEvent) => void;\n    handleNavigateToSignUpClicked: (e: React.MouseEvent) => void;\n}\n\ninterface UserManagementState {\n    username: string,\n    email: string,\n    password: string,\n    errors: any\n}\n\nclass UserManagement extends React.Component<UserManagementProps, UserManagementState>{\n    constructor(props: UserManagementProps) {\n        super(props);\n        this.state = {\n            username: '',\n            email: '',\n            password: '',\n            errors: '',\n        }\n\n        if(this.props.type === TypeOfUserManagement.LOGIN) {\n            logPageNavigated(PageNavigation.LOGIN);\n        } else if(this.props.type === TypeOfUserManagement.SIGN_UP) {\n            logPageNavigated(PageNavigation.REGISTER);\n        }\n    }\n    handleChangeUsername = (event: SyntheticEvent) => {\n        const username = (event.target as HTMLInputElement).value;\n        this.setState({username});\n    };\n\n    handleChangeEmail = (event: SyntheticEvent) => {\n        const email = (event.target as HTMLInputElement).value;\n        this.setState({email});\n    };\n\n    handleChangePassword = (event: SyntheticEvent) => {\n        const password = (event.target as HTMLInputElement).value;\n        this.setState({password});\n    };\n\n    handleSignUpClicked = async (e: React.MouseEvent) => {\n        e.preventDefault();\n        logUserAction(ButtonClicks.REGISTER);\n        if(this.isRegistrationValid()){\n            const data = {\n                username: this.state.username,\n                password: this.state.password,\n                email: this.state.email\n            }\n            const response:any = await register(data);\n            if(response && !response.isRegistered){\n                this.setState({errors:response.errors});\n            }\n            else{\n                this.props.handleNavigateToLoginClicked(e);\n            }\n        }\n\n    }\n\n    handleHideClicked = (e: React.MouseEvent) => {\n        let errors = \"\";\n        this.setState({errors});\n        if (this.props.onHide) this.props.onHide(false);\n    }\n\n    handleLoginClicked = async (e: React.MouseEvent) => {\n        e.preventDefault();\n        logUserAction(ButtonClicks.REGISTER);\n\n        if(this.isLoginValid()) {\n            const data = {\n                username: this.state.username,\n                password: this.state.password\n            }\n\n            const res:any = await login(data);\n            if(!res) {\n                let errors = {\n                    notFound: 'Login failed: invalid username or password'\n                }\n                this.setState({errors});\n            }\n        }\n    }\n\n\n    isLoginValid() {\n        const {errors, isValid} = validateLoginInput(this.state);\n        if(!isValid) {\n            this.setState({errors});\n        }\n        return isValid;\n    }\n\n    isRegistrationValid(){\n        const{errors, isValid} = validateRegistrationInput(this.state);\n        if(!isValid){\n            this.setState({errors});\n        }\n        return isValid;\n    }\n\n    render() {\n        return <Modal\n            show={this.props.visible}\n            onHide={this.handleHideClicked}\n            backdrop=\"static\"\n            keyboard={false}>\n\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    {this.props.type}\n                </Modal.Title>\n            </Modal.Header>\n\n            <Form className=\"form\">\n                <Modal.Body>\n                    {this.props.type === TypeOfUserManagement.SIGN_UP ? (<>\n                        <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Control\n                                data-cy='email-input'\n                                type=\"email\"\n                                placeholder=\"Email\"\n                                onChange={this.handleChangeEmail}\n                            />\n                        {this.state.errors.email ? (\n                        <p data-cy='email-error' className='invalid-input'>{this.state.errors.email}</p>\n                    ) : null}\n\n                        </Form.Group>\n                    </>) : null}\n                    <Credentials\n                        onChangeUsername={this.handleChangeUsername}\n                        onChangePassword={this.handleChangePassword}\n                        errors={this.state.errors}\n                    />\n                    {this.state.errors.notFound ? (\n                        <p data-cy='wrong-credentials-error' className='invalid-input'>{this.state.errors.notFound}</p>\n                    ) : null}\n                </Modal.Body>\n\n                <Modal.Footer>\n                    {this.props.type === TypeOfUserManagement.LOGIN ?\n                        <SignInOptions\n                            id=\"userManagementSignInButtons\"\n                            onSignUpClicked={this.props.handleNavigateToSignUpClicked}\n                            onLoginClicked={this.handleLoginClicked}\n                        /> : null}\n\n                    {this.props.type === TypeOfUserManagement.SIGN_UP ?\n                        <SignUpOptions\n                            id=\"userManagementSignUpButtons\"\n                            onSignUpClicked={this.handleSignUpClicked}\n                            onLoginClicked={this.props.handleNavigateToLoginClicked}\n                        /> : null}\n                </Modal.Footer>\n            </Form>\n\n        </Modal>\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n    username: state.username\n})\n\nexport default connect(mapStateToProps, { login })(UserManagement);\n","import React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport UserManagement from './../UserManagement';\nimport '../../../../App.css';\nimport {TypeOfUserManagement} from \"../../../../state/models/userManagementModel\";\n\nfunction SignInButton(){\n    const [loginModalVisible, setLoginModalVisible] = useState<boolean>(false);\n    return (<>\n    <UserManagement\n        visible={loginModalVisible}\n        onHide={() => { setLoginModalVisible(false) }}\n        type={TypeOfUserManagement.LOGIN}\n        handleNavigateToLoginClicked={() => {}}\n        handleNavigateToSignUpClicked={() => { setLoginModalVisible(true) }}\n    />\n    <Button\n        id=\"homepageLoginButton\"\n        variant=\"secondary\"\n        type=\"submit\"\n        data-cy='login'\n        onClick={() => { setLoginModalVisible(true) }}\n    >\n        Login\n    </Button>\n    </>)\n}\nexport default SignInButton\n","import React, {Component} from \"react\";\nimport {connect} from 'react-redux';\nimport logo from '../../../assets/logo.png';\nimport {Link} from \"react-router-dom\";\nimport SignInButton from \"../user/buttons/SignInButton\";\nimport './Header.css'\nimport {Paths} from \"../../../App\";\nimport {Nav, Navbar} from \"react-bootstrap\";\nimport {MdExitToApp} from \"react-icons/md\";\nimport {clearSession} from \"../../../state/actions/session\";\nimport {logUserAction} from \"../../../state/actions/analytics\";\nimport {ButtonClicks} from \"../../../state/models/analyticsModels\";\n\n\nexport interface Props {\n    postData?: any,\n}\n\nclass Header extends Component<Props> {\n    constructor(props: Props) {\n        super(props);\n        this.DashboardHeader = this.DashboardHeader.bind(this);\n    }\n\n    handleLogout = async (e: React.MouseEvent) => {\n        logUserAction(ButtonClicks.LOGOUT)\n        clearSession();\n    }\n\n    HomepageHeader() {\n        return (\n            <div data-testid=\"header\" className=\"app-header\">\n                <div className=\"left-header-icon\">\n                    <div className='header-logo-wrapper'>\n                        <img src={logo} className='header-logo' alt='in plain sight logo'/>\n                    </div>\n                    <div className=\"header-title\">\n                        <span>In Plain Sight</span>\n                    </div>\n                </div>\n\n                <div className=\"right-header-buttons\">\n                    <div className=\"header-button header-material-button\">\n                        <SignInButton />\n                    </div>\n                    <div className=\"header-button\">\n                        <Link id='resources' to=\"/resources\"><span className='white-txt'>Resources</span></Link>\n                    </div>\n                    <div className=\"header-button\">\n                        <Link id='home' to=\"/\"><span className='white-txt'>Home</span></Link>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    DashboardHeader() {\n        return (\n            <div>\n                <Navbar expand=\"lg\" bg=\"dark\" variant=\"dark\">\n                    <Navbar.Brand>\n                        <div className='header-logo-wrapper'>\n                            <img src={logo} className='header-logo' alt='in plain sight logo' />\n                        </div>\n                    </Navbar.Brand>\n                    <Nav>\n                        <Nav.Link data-cy='logout' href=\"/\" onClick={this.handleLogout}><MdExitToApp size={35} /></Nav.Link>\n                    </Nav>\n                </Navbar>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <>\n                { window.location.pathname === '/'\n                    ? <this.HomepageHeader/>\n                    : window.location.pathname.includes(Paths.dashboard)\n                        ? <this.DashboardHeader/>\n                        : null\n                }\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n})\n\nexport default connect(mapStateToProps, {})(Header);\n\n\n","import React, {Component} from \"react\";\nimport './Footer.css'\n\nclass Footer extends Component {\n\n    render() {\n        return (\n            <div data-testid=\"footer\" className=\"app-footer\">\n                <span className='footer-text'>&copy; 2021, In Plain Sight. All rights reserved</span>\n            </div>\n        )\n    }\n}\n\nexport default Footer;\n\n\n","import React, { useState } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport UserManagement from './../UserManagement';\nimport {TypeOfUserManagement} from \"../../../../state/models/userManagementModel\";\n\nfunction SignUpButton(){\n    const [signUpModalVisible, setSignUpModalVisible] = useState<boolean>(false);\n\n    return (<> \n    <UserManagement\n        visible={signUpModalVisible}\n        onHide={() => { setSignUpModalVisible(false) }}\n        type={TypeOfUserManagement.SIGN_UP}\n        handleNavigateToSignUpClicked={() => {}}\n        handleNavigateToLoginClicked={() => { setSignUpModalVisible(true) }}\n    />\n\n    <Button\n        type=\"submit\"\n        data-cy='register'\n        onClick={() => { setSignUpModalVisible(true) }}\n    >\n        <span className='white-txt'>Get started</span>\n    </Button>\n\n     </>)\n}\nexport default SignUpButton;\n","import {GUEST, SESSION} from '../models/types';\nimport store from \"../store\";\n\nimport { setSession } from './session';\nimport {logError, logServerRequestTime} from \"./analytics\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\n\nconst randomToken = require('random-token');\n\nexport async function loginAsGuest() {\n    try{\n        const sentTime = (new Date()).getTime();\n        let data = {\n          token: randomToken(40),\n          user: {\n            username: \"guest\",\n            email: \"guest\"\n          }\n        }\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.GUEST, receivedTime-sentTime);\n\n        setSession(SESSION, data);\n\n        store.dispatch({\n            type: GUEST,\n            payload: 'guest'\n        });\n    }\n    catch(e){\n        logError(RequestName.GUEST, e, STACK.SERVER)\n        console.error(e);\n    }\n}\n","import React, { Component } from 'react';\nimport { connect} from 'react-redux';\nimport Header from '../../common/components/header/Header';\nimport Footer from '../../common/components/footer/Footer';\nimport girl from '../../assets/homepage-girl-computer-icon.svg';\nimport boy from '../../assets/homepage-boy-computer-icon.svg';\nimport bingo from '../../assets/homepage-bingo-icon.svg';\nimport {Link} from \"react-router-dom\";\nimport SignUpButton from '../../common/components/user/buttons/SignUpButton';\nimport store from \"../../state/store\";\nimport {Route, Redirect} from \"react-router-dom\";\nimport Button from '@material-ui/core/Button';\nimport {loginAsGuest} from \"../../state/actions/guest\";\nimport './Homepage.css'\nimport {logPageNavigated, logUserAction} from \"../../state/actions/analytics\";\nimport {ButtonClicks, PageNavigation} from \"../../state/models/analyticsModels\";\nimport {Paths} from \"../../App\";\n\nexport interface Props {}\n\ninterface State {\n    username: string,\n}\n\nclass Homepage extends Component<Props, State> {\n    private unsubscribe: any;\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            username: ''\n        }\n        logPageNavigated(PageNavigation.HOMEPAGE)\n    }\n\n    componentWillMount() {\n        this.unsubscribe = store.subscribe(() => {\n            this.setState({\n                username: store.getState().user.username\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe();\n    }\n\n    handleSighUpAsGuest = async (e: React.MouseEvent) => {\n        e.preventDefault();\n        logUserAction(ButtonClicks.GUEST);\n        await loginAsGuest();\n        this.setState({\n            username: 'Guest'\n        });\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Header />\n                <Route exact path=\"/\">\n                    {this.state.username ? <Redirect to=\"/dashboard\" /> : null}\n                </Route>\n\n                <div className='app-homepage'>\n                    <div className='homepage-section-wrapper first-section'>\n                        <div className='homepage-get-started-container'>\n                            <span className='homepage-get-started-title'>\n                                Learn American Sign Language\n                            </span>\n                            <span className='homepage-subtitle'>\n                                Learn ASL for free from the comfort of your home at your convenience. No tutoring is needed. Our application will help you learn and evaluate your progress.\n                            </span>\n                            <div className='homepage-section-buttons-container'>\n                                <div className='homepage-section-button left'>\n                                    <SignUpButton/>\n                                </div>\n                                <div className='homepage-section-button'>\n                                    <Link id='guest' to={Paths.modules}>\n                                        <Button variant=\"contained\" onClick={this.handleSighUpAsGuest} >\n                                            <span className='white-txt'>Continue as Guest</span>\n                                        </Button>\n                                    </Link>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className='homepage-section-divider'>\n                        <span className='homepage-section-title'>Interaction ASL Lessons</span>\n                    </div>\n\n                    <div className='homepage-section-wrapper'>\n                        <div className='homepage-section'>\n                            <div className='section-half-cell left'>\n                                <span className='homepage-subtitle vertical-align'>\n                                    In addition to predefined lessons, we offer interactive lessons. With the help of your webcam, you will get the chance to practice what you learned.\n                                </span>\n                            </div>\n                            <div className='homepage-icon-container section-half-cell right'>\n                                <img src={girl} className='homepage-icon-container' alt='girl in computer'/>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div className='homepage-section-divider'>\n                        <span className='homepage-section-title'>Have Fun Learning</span>\n                    </div>\n\n                    <div className='homepage-section-wrapper'>\n                        <div className='homepage-section'>\n                            <div className='section-half-cell right'>\n                                <span className='homepage-subtitle vertical-align'>\n                                    We offer fun games designed for the hearing impaired to reinforce learning. These games will include bingo and flashcards.\n                                </span>\n                            </div>\n                            <div className='homepage-icon-container section-half-cell left'>\n                                <img src={bingo} className='homepage-icon-container' alt='plain sight logo bingo'/>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className='homepage-section-divider'>\n                        <span className='homepage-section-title'>Resources</span>\n                    </div>\n\n                    <div className='homepage-section-wrapper'>\n                        <div className='homepage-section'>\n                            <div className='section-half-cell left'>\n                                <span className='homepage-subtitle'>\n                                    Our mission is to facilitate the ASL learning process for those who are hearing impaired. In keeping with our mission, we will provide helpful links with tips and other resources to help those who need guidance. In addition, our users will be able to communicate with other students and share knowledge and resources.\n                                </span>\n                            </div>\n                            <div className='homepage-icon-container section-half-cell right'>\n                                <img src={boy} className='homepage-icon-container' alt='boy in computer'/>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className='homepage-section-divider'></div>\n\n                    <div className='homepage-section-wrapper'>\n                        <div className='homepage-last-section'>\n                            <div className='homepage-links-wrapper'>\n                                <div className='homepage-links-section'>\n                                    <Link id='about' to=\"/about\">About us</Link>\n                                    <div className='spacing-div-20'></div>\n                                    <Link id='contact' to=\"/contact\">Contact us</Link>\n                                </div>\n                                <div className='homepage-links-section'>\n                                    <Link id='careers' to=\"/careers\">Careers</Link>\n                                    <div className='spacing-div-20'></div>\n                                    <Link id='help' to=\"/help\">Help and Support</Link>\n                                </div>\n                                <div className='homepage-links-section'>\n                                    <Link id='terms' to=\"/terms\">Terms</Link>\n                                    <div className='spacing-div-20'></div>\n                                    <Link id='privacy' to=\"/privacy\">Privacy policy</Link>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Footer />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n    username: state.user.username\n})\n\nexport default connect(mapStateToProps, {})(Homepage);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Sidebar from \"react-sidebar\";\nimport './Sidebar.css'\nimport { MdAccessTime, MdDashboard, MdEdit, MdHelp, MdLibraryBooks, MdVideogameAsset } from 'react-icons/md';\nimport Avatar from 'react-avatar';\nimport { Paths } from \"../../../App\";\nimport store from \"../../../state/store\";\nimport {ButtonClicks} from \"../../../state/models/analyticsModels\";\nimport {logUserAction} from \"../../../state/actions/analytics\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport UserManagement from '../../../common/components/user/UserManagement';\nimport {TypeOfUserManagement} from \"../../../state/models/userManagementModel\";\ninterface SidebarProps {\n  username?: string;\n  location?: { pathname?: string };\n}\ninterface SidebarState {\n  docked?: boolean;\n  signUpModalVisible?:boolean;\n}\nclass SideBar extends React.Component<SidebarProps, SidebarState> {\n  state: SidebarState = {\n    docked: true,\n    signUpModalVisible: false\n  }\n  handleSignUpClose(){\n    this.setState({signUpModalVisible: false})\n  }\n  render() {\n    return (\n      <>\n        <UserManagement\n          visible={this.state.signUpModalVisible}\n          onHide={() => { this.handleSignUpClose()}}\n          type={TypeOfUserManagement.SIGN_UP}\n          handleNavigateToSignUpClicked={() => {this.handleSignUpClose()}}\n          handleNavigateToLoginClicked={() => {this.handleSignUpClose()}}\n         />\n        <Sidebar shadow={false} transitions={false}\n          sidebar={\n            <>\n              <div className=\"avatarContainer\">\n                <Avatar\n                  name={store.getState().user.username}\n                  round={true}\n                  color=\"#FFFFFF\"\n                  style={{ border: 'solid 10px #6F488E', width: '60', height: '60' }}\n                  size=\"60\"\n                  fgColor=\"#5C5C5C\"\n                />\n                {store.getState().user.username}\n              </div>\n              <ul>\n                <li\n                    className={this.props.location?.pathname === Paths.dashboard ? \"active\" : \"\"}\n                    onClick={() => {logUserAction(ButtonClicks.DASHBOARD)}}>\n                  <MdDashboard />\n                  {(store.getState().user.username === 'guest')\n                  ?<div className=\"dashboard-sign-up-button\"\n                  onClick={() => {this.setState({signUpModalVisible: true})}}>Sign Up</div>\n                  :<NavLink to={Paths.dashboard} data-cy='main-dashboard' activeClassName=\"non-exact-match\">Dashboard</NavLink>\n                  }\n                </li>\n                <li\n                    className={this.props.location?.pathname?.includes(Paths.modules) || this.props.location?.pathname?.includes(Paths.lessons) ? \"active\" : \"\"}\n                    onClick={() => {logUserAction(ButtonClicks.MODULES)}}>\n                  <MdLibraryBooks />\n                  <NavLink to={Paths.modules} data-cy='modules-dashboard'>Modules</NavLink>\n                </li>\n                <li\n                    className={this.props.location?.pathname?.includes(Paths.quizzesPrefix) ? \"active\" : \"\"}\n                    onClick={() => {logUserAction(ButtonClicks.QUIZZES)}}>\n                  <MdAccessTime />\n                  <NavLink to={Paths.quizzesModules} data-cy='quizzes-dashboard'>Quizzes</NavLink>\n                </li>\n                <li\n                    className={this.props.location?.pathname === Paths.games ? \"active\" : \"\"}\n                    onClick={() => {logUserAction(ButtonClicks.GAMES)}}>\n                  <MdVideogameAsset />\n                  <NavLink to={Paths.games} data-cy='games-dashboard'>Games</NavLink>\n                </li>\n                <li\n                    className={this.props.location?.pathname === Paths.editProfile ? \"active\" : \"\"}\n                    onClick={() => {logUserAction(ButtonClicks.EDIT_PROFILE)}}>\n                  <MdEdit />\n                  {(store.getState().user.username === 'guest')\n                      ? <Tooltip title=\"Login to access this feature\" placement=\"right\">\n                          <p className=\"disabled-menu\" data-cy='edit-dashboard'>Edit Profile</p>\n                        </Tooltip>\n                      : <NavLink to={Paths.editProfile} data-cy='edit-dashboard'>Edit Profile</NavLink>\n                  }\n\n                </li>\n                <li\n                    className={this.props.location?.pathname === Paths.help ? \"active\" : \"\"}\n                    onClick={() => {logUserAction(ButtonClicks.RESOURCE)}}>\n                  <MdHelp />\n                  <NavLink to={Paths.help} data-cy='help-dashboard'>Help</NavLink>\n                </li>\n              </ul>\n            </>\n          }\n          docked={this.state.docked}\n          styles={{\n            root: {\n              height: \"100%\"\n            },\n            sidebar: {\n              overflowY: 'none',\n              background: \"#F1F1F1\",\n              height: \"100%\"\n            },\n            overlay: { backgroundColor: 'white' }\n          }}\n        >\n          <></>\n        </Sidebar>\n      </>\n    );\n  }\n}\nexport default SideBar;\n","import {GET_LESSON, GET_MODULE_LESSONS, GET_MODULES, SESSION, SET_LESSON_NAME} from '../models/types';\nimport axios from \"axios\";\nimport { BASE_URL } from '../../environment'\nimport store from \"../store\";\nimport {logError, logServerRequestTime} from \"./analytics\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\n\n\nexport async function getModules() {\n    try {\n        let username: any = await JSON.parse(localStorage.getItem(SESSION) || '{}').user.username\n        const sentTime = (new Date()).getTime();\n        let response = await  axios.get(BASE_URL + '/api/modules' + (username !== 'guest' ? `?username=${username}` : ''))\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.MODULES, receivedTime-sentTime);\n        store.dispatch({\n            type: GET_MODULES,\n            payload: response.data?.response_text\n        })\n    } catch(e){\n        logError(RequestName.MODULES, e, STACK.SERVER)\n        console.error(\"Failed to get modules\", e);\n    }\n}\n\nexport async function getModuleLessons(id : string) {\n    try{\n        let username: any = await JSON.parse(localStorage.getItem(SESSION) || '{}').user.username\n        const sentTime = (new Date()).getTime();\n        let response = await axios.get(BASE_URL + '/api/modules/' +id+\"/lesson\"+\n            (username !== 'guest' ? `?username=${username}` : ''));\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.MODULE_LESSONS, receivedTime-sentTime);\n        store.dispatch({\n            type: GET_MODULE_LESSONS,\n            payload: response.data[\"lessons\"]\n        });\n        return true;\n    }\n    catch(e){\n        logError(RequestName.MODULE_LESSONS, e, STACK.SERVER)\n        return false;\n    }\n}\n\nexport async function getLessonContent(lessonid:string) {\n    try{\n        const sentTime = (new Date()).getTime();\n        let response = await axios.get(BASE_URL + '/api/modules/lesson/' +lessonid);\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.LESSON_CONTENT, receivedTime-sentTime);\n        \n        console.log(\"response\" , response);\n        store.dispatch({\n            type: GET_LESSON,\n            payload: response.data[\"slide\"]\n        });\n        return true;\n    }\n    catch(e){\n        logError(RequestName.LESSON_CONTENT, e, STACK.SERVER)\n        return false;\n    }\n}\nexport async function updateLessonProgress(lessonId:string, progress:number){\n    try{\n        let username: any = await JSON.parse(localStorage.getItem(SESSION) || '{}').user.username\n        const sentTime = (new Date()).getTime();\n        await axios.get(BASE_URL + '/api/modules/lesson/'+lessonId+\"/progress/\"+progress+\n            (username !== 'guest' ? `?username=${username}` : ''));\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.UPDATE_PROGRESS, receivedTime-sentTime);\n    }\n    catch(e){\n        logError(RequestName.UPDATE_PROGRESS, e, STACK.SERVER)\n        console.log(e);\n    }\n}\nexport function setCurrentLesson(id: string) {\n    try {\n        store.dispatch({\n            type: SET_LESSON_NAME,\n            payload: id\n        })\n    } catch(e) {\n        console.log(e);\n    }\n}\n","import React from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport \"./Modules.css\";\nimport {getModules} from \"../../../../state/actions/modules\";\nimport store from \"../../../../state/store\";\nimport { Paths } from \"../../../../App\";\nimport { Link } from \"react-router-dom\";\nimport checkmark from '../../../../assets/checkmark.png';\nimport {logPageNavigated} from \"../../../../state/actions/analytics\";\nimport {PageNavigation} from \"../../../../state/models/analyticsModels\";\n\nexport interface ModulesProps {\n    pathname?: string;\n    modules: string[][];\n    getModules: () => void;\n}\nexport interface ModulesState {\n    username: string;\n}\nclass Modules extends React.Component<ModulesProps, ModulesState>{\n    state = {\n        username: store.getState().user.username\n    }\n\n    async componentDidMount() {\n        await getModules();\n        logPageNavigated(PageNavigation.MODULES)\n    }\n\n    getPath(moduleID: string) {\n        if(this.props.pathname?.includes('quizzes')) {\n            return Paths.dashboard + \"/quizzes/\" + moduleID;\n        } else {\n            return Paths.lessons + \"/\" + moduleID;\n        }\n    }\n\n    getHeader(){\n        if(this.props.pathname?.includes('quizzes')) {\n            return (<h3 className='header-dashboard'>Quizzes</h3>)\n        } else {\n            return (<h3 className='header-dashboard'>Modules</h3>)\n        }\n    }\n\n    render() {\n        return (\n            <>\n            {this.getHeader()}\n                <div className=\"module-buttons-wrapper\">\n                    {this.props.modules !== undefined && this.props.modules !== null ?\n                        this.props.modules.map(\n                            (moduleAsArray: string[]) => {\n                                const moduleName = moduleAsArray[1];\n                                const moduleID = moduleAsArray[0];\n                                const moduleCompletion = moduleAsArray[3];\n                                let checkmarkImage;\n                                if (parseInt(moduleCompletion) === 100){\n                                    checkmarkImage = <img src={checkmark} className='checkmark-logo' alt='in plain sight logo'/>;\n                                }\n                                return <Link key={moduleID+moduleName} to={\n                                    {\n                                        pathname:this.getPath(moduleID),\n                                        state: {moduleName: moduleName}\n                                    }}>\n                                    <Row className={\"module-row\"}>\n                                        <Col>\n                                            <p className={\"module-title\"}>{moduleName}</p>\n                                        </Col>\n                                        <Col>\n                                            {checkmarkImage}\n                                        </Col>\n                                    </Row>\n                                </Link>\n                            }\n                        )\n                        : null}\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n    modules: state.module.modules\n})\nconst mapDispatchToProps = {\n    getModules: getModules\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Modules);\n","import React from \"react\"\nimport \"./CardContainer.css\"\nimport { Card, Col, ProgressBar, Row } from \"react-bootstrap\";\n\ninterface CardsProps {\n    name?: string;\n    description?: string;\n    progress?: number;\n    imageUrl?: string;\n    hideProgress?: boolean;\n}\ninterface CardsState {\n\n}\nclass CardContainer extends React.Component<CardsProps, CardsState> {\n\n    render() {\n        return (\n\n            <div className=\"cardsContainer\">\n\n                <Card style={{ minWidth: '25rem' }}>\n                    <Card.Img variant=\"top\" src={this.props.imageUrl} />\n                    <Card.Body>\n                        <Card.Title>{this.props.name}</Card.Title>\n\n                        <Card.Text>\n                            {this.props.description}\n                        </Card.Text>\n                    </Card.Body>\n                    {!this.props.hideProgress ?\n                        <Row>\n\n                            <Col lg={10}>\n                                <ProgressBar className=\"progress\" now={this.props.progress}  />\n                            </Col>\n                            <Col lg={2}>\n                                <span className=\"progressText\">{this.props.progress}%</span>\n                            </Col>\n                        </Row>\n\n                        : null}\n\n                </Card>\n\n            </div>\n\n        )\n    }\n}\nexport default CardContainer;\n","import React from \"react\"\nimport {Card, CardColumns} from \"react-bootstrap\";\nimport CardContainer from \"../../../../common/components/cards/CardContainer\";\nimport store from \"../../../../state/store\";\nimport {getModuleLessons, getModules, setCurrentLesson} from \"../../../../state/actions/modules\";\nimport { Paths } from \"../../../../App\";\nimport { NavLink } from \"react-router-dom\";\nimport \"./Lesson.css\";\nimport {logPageNavigated} from \"../../../../state/actions/analytics\";\nimport {PageNavigation} from \"../../../../state/models/analyticsModels\";\nimport { connect } from \"react-redux\";\n\n\ninterface LessonProps {\n    modules: any[][];\n    getModules: () => void;\n    pathname?: string;\n    match?: { params?: { moduleId?: string } },\n    moduleId?: string;\n}\n\ninterface LessonState {\n    username: string;\n    lessons: any[];\n    moduleId: string;\n}\n\nclass Lesson extends React.Component<LessonProps, LessonState> {\n    constructor(props: LessonProps) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            lessons: [],\n            moduleId: this.props?.moduleId || ''\n        }\n        logPageNavigated(PageNavigation.LESSONS);\n    }\n\n    async componentDidMount() {\n        await getModuleLessons(this.state.moduleId);\n\n        const lessons = store.getState().module.lessons;\n        if(lessons.length !== 0) {\n            this.setState({lessons});\n        }\n\n        await getModules();\n    }\n\n    linkToLesson = (lessonName:string) => {\n        setCurrentLesson(lessonName);\n        return null;\n    };\n    checkIfProgressNull = (progress:number) => {\n        if (progress){\n            return progress;\n        }\n        return 0; \n    }\n\n    getModuleName(){\n        const module = this.props.modules.filter((moduleAsArray: any[]) => {\n            const moduleID = moduleAsArray[0];\n            if(this.props.moduleId){\n                return moduleID === parseInt(this.props.moduleId, 10)\n            }           \n        })[0]\n\n        if(module)\n        {\n            return module[1]\n        }\n    }\n\n    render() {\n        return (\n            <>\n            <h3 className='header-dashboard'>{this.getModuleName()}</h3>\n            <div className=\"cards-container\">\n            <CardColumns>\n                {this.state.lessons.length !== 0 ?\n                    this.state.lessons.map(\n                        (lesson: any) => {\n                           return <Card \n                           style = {{width: '70%', marginTop: '10%'}}\n                           onClick={() => this.linkToLesson(lesson.name)}  \n                           key={this.state.moduleId}>\n                            <NavLink \n                            key={this.state.moduleId+lesson.name} \n                            to={Paths.lessons + \"/\" + this.state.moduleId + \"/\" + lesson.lesson_id}\n                            className='no-margin'>\n                                <CardContainer\n                                    name={lesson.name}\n                                    description={lesson.description}\n                                    progress={this.checkIfProgressNull(lesson.progress)}\n                                    imageUrl={lesson.picture}\n                                    hideProgress={store.getState().user.username === 'guest'}\n                                />\n                            </NavLink>\n                            </Card>\n\n                        }\n                    )\n                    : null}  \n                </CardColumns>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n    modules: state.module.modules\n})\nconst mapDispatchToProps = {\n    getModules: getModules\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Lesson);\n","import {EDIT, SESSION} from '../models/types';\nimport axios from \"axios\";\nimport store from \"../store\";\nimport {BASE_URL} from '../../environment'\nimport {updateSession} from \"./session\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\nimport {logError, logServerRequestTime} from \"./analytics\";\n\nexport async function editProfile(data: any) {\n    const errors: any = {};\n\n    try{\n        const sentTime = (new Date()).getTime();\n        const response = await axios.post(BASE_URL + '/user/edit', {\n            \"username\": data.username,\n            \"new_username\": data.new_username,\n            \"email\": data.email,\n            \"password\": data.password,\n            \"new_password\": data.new_password\n\n        })\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.EDIT_PROFILE, receivedTime-sentTime);\n\n        updateSession(SESSION, response.data)\n\n        store.dispatch({\n            type: EDIT,\n            payload: response.data.username\n        });\n\n        return {\n            errors,\n            isSuccessful: true\n        }\n    }\n    catch(e){\n        if(e.response?.data?.Error) {\n            const res = e.response.data.Error;\n            if(res.includes('Password')){\n                errors.password = \"Error with the password\";\n            }\n\n            if(res.includes('Username')) {\n                errors.newUsername = \"Username is already taken\";\n            }\n\n            if(res.includes('Email')) {\n                errors.email = \"Email is already taken\";\n            }\n            logError(RequestName.EDIT_PROFILE, res, STACK.SERVER)\n\n        } else {\n            errors.password = \"Unsuccessful request\";\n            logError(RequestName.EDIT_PROFILE, \"Unsuccessful request\", STACK.SERVER)\n        }\n\n\n        return {\n            errors,\n            isSuccessful: false\n        };\n    }\n}\n\nexport async function getPreferences() {\n    const errors: any = {};\n\n    try{\n        const sentTime = (new Date()).getTime();\n        const response = await axios.get(BASE_URL + '/user/settings/list')\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.GET_PREFERENCES, receivedTime-sentTime);\n\n        return {\n            errors,\n            isSuccessful: true,\n            data: response.data.response_text\n        }\n\n    } catch(e) {\n        logError(RequestName.GET_PREFERENCES, \"Unsuccessful request\", STACK.SERVER)\n        return {\n            errors: e,\n            isSuccessful: false\n        };\n    }\n}\n\nexport async function getUserPreferences() {\n    const errors: any = {};\n\n    try{\n        const username: any = await JSON.parse(localStorage.getItem(SESSION) || '{}').user.username\n        const sentTime = (new Date()).getTime();\n        const response = await axios.get(BASE_URL + '/user/settings/user' + `?username=${username}`)\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.GET_USER_PREFERENCES, receivedTime-sentTime);\n\n        return {\n            errors,\n            isSuccessful: true,\n            data: response.data.response_text\n        }\n\n    } catch(e) {\n        logError(RequestName.GET_USER_PREFERENCES, \"Unsuccessful request\", STACK.SERVER)\n        return {\n            errors: e,\n            isSuccessful: false\n        };\n    }\n}\n\nexport async function setUserPreferences(id: string, val: boolean) {\n    const errors: any = {};\n\n    try{\n        const username: any = await JSON.parse(localStorage.getItem(SESSION) || '{}').user.username;\n\n        const sentTime = (new Date()).getTime();\n        await axios.post(BASE_URL + '/user/settings/update' + `?username=${username}`,\n            {\n                'username': username,\n                'setting_id': id,\n                'isTrue': val\n            })\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.SET_USER_PREFERENCES, receivedTime-sentTime);\n\n        return {\n            errors,\n            isSuccessful: true\n        }\n\n    } catch(e) {\n        logError(RequestName.SET_USER_PREFERENCES, \"Unsuccessful request\", STACK.SERVER)\n        return {\n            errors: e,\n            isSuccessful: false\n        };\n    }\n}\n\n","import {logError} from \"../actions/analytics\";\nimport {FunctionName, STACK} from \"../models/analyticsModels\";\n\nconst validator = require('validator');\nconst isEmpty = require('lodash/isEmpty');\n\nexport default function validateProfileInput(data: any) {\n    let errors: any = {};\n\n    // one of optional fields must be filled\n    if(validator.isEmpty(data.newUsername) && validator.isEmpty(data.newEmail) && validator.isEmpty(data.newPassword)) {\n        errors.newUsername = 'One of these fields must be filled';\n        errors.email = 'One of these fields must be filled';\n        errors.newPassword = 'One of these fields must be filled';\n\n    } else {\n        // required field regardless of which to update\n        if (validator.isEmpty(data.password)) {\n            errors.password = 'This field is required'\n        } else if (data.password.length < 4 || data.password.length > 100) {\n            errors.password = 'Invalid password';\n        }\n\n        // optional fields\n        // if new username -> must be valid\n        if(!validator.isEmpty(data.newUsername) && (data.newUsername.length < 4 || data.newUsername.length > 100)) {\n            errors.newUsername = 'Invalid username';\n        }\n\n        // if new email -> must be valid\n        if(!validator.isEmpty(data.newEmail) && (data.newEmail.length < 4 || data.newEmail.length > 100)) {\n            errors.email = 'Invalid email';\n        }\n\n        // if new password:\n        if(!validator.isEmpty(data.newPassword)) {\n            // must be valid\n            if(data.newPassword.length < 4 || data.newPassword.length > 100 ) {\n                errors.newPassword = 'Invalid password';\n            }\n\n            // not equal current password\n            if(data.password === data.newPassword){\n                errors.newPassword = \"New password can't equal the previous one\";\n            }\n\n            // if new password, must confirm\n            if(validator.isEmpty(data.confirmPassword)) {\n                errors.newPassword = 'This field is required'\n            } else if(data.confirmPassword.length < 4 || data.confirmPassword.length > 100 ) {\n                errors.newPassword = 'Invalid password';\n            }\n\n            // new password and confirm password must match\n            if(!validator.isEmpty(data.confirmPassword) && data.newPassword !== data.confirmPassword){\n                errors.newPassword = \"Passwords don't match\";\n            }\n        }\n    }\n\n    if(!isEmpty(errors)) {\n        logError(FunctionName.PROFILE_INPUT, errors, STACK.CLIENT)\n    }\n\n    return {\n        errors,\n        isValid: isEmpty(errors)\n    }\n}\n","import React, {SyntheticEvent} from \"react\";\nimport \"./EditProfile.css\"\nimport {Form} from \"react-bootstrap\";\nimport Button from '@material-ui/core/Button';\nimport store from \"../../../../state/store\";\nimport {editProfile, getPreferences, getUserPreferences, setUserPreferences} from \"../../../../state/actions/editProfile\"\nimport {logUserAction} from \"../../../../state/actions/analytics\";\nimport {ButtonClicks} from \"../../../../state/models/analyticsModels\";\nimport {Checkbox} from \"@material-ui/core\";\nimport validateProfileInput from \"../../../../state/validations/validateProfileInput\";\n\nexport interface EditProfileProps {\n    pathname?: string;\n}\n\nexport interface EditProfileState {\n    username: string;\n    newUsername: string;\n    newEmail: string;\n    password: string;\n    newPassword: string;\n    confirmPassword: string;\n    errors: any;\n    success: boolean;\n    settings: any[];\n    userSettings: any[];\n}\n\nclass EditProfile extends React.Component<EditProfileProps, EditProfileState> {\n    constructor(props: EditProfileProps) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            newUsername: '',\n            newEmail: '',\n            password: '',\n            newPassword: '',\n            confirmPassword: '',\n            errors: {},\n            success: false,\n            settings: [],\n            userSettings: []\n        }\n        this.getSetting();\n    }\n\n    async getSetting() {\n        const settingsResponse = await getPreferences();\n        if(settingsResponse?.isSuccessful) {\n            this.setState({settings: settingsResponse.data})\n        }\n\n        const userSettings = await getUserPreferences();\n        if(userSettings?.isSuccessful) {\n            const settings = this.state.settings.map( (set: any) => {\n                return {\n                    id: set[0],\n                    name: set[1],\n                    value: userSettings.data.filter((pref: any) => {return (pref.preference_id === set[0])})[0] ?\n                        !!(userSettings.data.filter((pref: any) => {return (pref.preference_id === set[0])})[0].val) :\n                        false\n                }\n            });\n            this.setState({userSettings: settings})\n        }\n    }\n\n    handleChangeNewUsername = (event: SyntheticEvent) => {\n        const newUsername = (event.target as HTMLInputElement).value;\n        this.setState({newUsername});\n    }\n\n    handleChangeNewEmail = (event: SyntheticEvent) => {\n        const newEmail = (event.target as HTMLInputElement).value;\n        this.setState({newEmail});\n    }\n\n    handleChangeCurrentPassword = (event: SyntheticEvent) => {\n        const password = (event.target as HTMLInputElement).value;\n        this.setState({password});\n    }\n\n    handleChangeNewPassword = (event: SyntheticEvent) => {\n        const newPassword = (event.target as HTMLInputElement).value;\n        this.setState({newPassword});\n    }\n\n    handleChangeConfirmNewPassword = (event: SyntheticEvent) => {\n        const confirmPassword = (event.target as HTMLInputElement).value;\n        this.setState({confirmPassword});\n    }\n\n    handleClickSaveProfile = async (event: SyntheticEvent) => {\n        event.preventDefault();\n        logUserAction(ButtonClicks.EDIT)\n        if(this.isUpdateProfileFormValid()){\n            const data = {\n                username: this.state.username,\n                new_username: this.state.newUsername,\n                email: this.state.newEmail,\n                password: this.state.password,\n                new_password: this.state.confirmPassword,\n            }\n\n            const {errors, isSuccessful} = await editProfile(data);\n            //set errors regardless of success (may be empty -> erase previous ones)\n            this.setState({errors});\n            this.setState({success: isSuccessful});\n            if(isSuccessful) {\n                (document.getElementById(\"username-form\") as HTMLFormElement)?.reset();\n                (document.getElementById(\"password-form\") as HTMLFormElement)?.reset();\n            }\n\n        }\n    }\n\n    isUpdateProfileFormValid(){\n        const{errors, isValid} = validateProfileInput(this.state);\n        //set errors regardless of success (may be empty -> erase previous ones)\n        this.setState({errors});\n        return isValid;\n    }\n\n    handleChange = (event: any) => {\n        if(event.target.name.includes('webcam')){\n            logUserAction(ButtonClicks.WEBCAM_SETTING);\n            let fieldId: any = undefined;\n            //update userSettings\n            const settingsToUpdate = this.state.userSettings.map((set: any) => {\n                if(set.name === event.target.name) {\n                    fieldId = set.id;\n                    return {\n                        ...set,\n                        value: event.target.checked\n                    }\n                } else return set;\n            });\n            this.setState({userSettings: settingsToUpdate})\n            if(fieldId) {\n                setUserPreferences(fieldId, event.target.checked);\n            }\n\n        } else {\n            console.log('functionality not implemented');\n        }\n    };\n\n\n    render() {\n        return (\n            <>\n            <h3 className=\"header-dashboard\">Edit Profile</h3>\n            <div className=\"edit-profile-component\">\n                <div className=\"main-section\">\n\n                    <Form className=\"form\" id='username-form'>\n\n                        <Form.Group controlId=\"formBasicUsername\" className=\"group-form\">\n\n                            <div className=\"form-row\">\n                                <div className=\"form-cell\">\n                                    <span>New Username</span>\n                                </div>\n                                <div className=\"form-cell\">\n                                    <Form.Control\n                                        className=\"form-input\"\n                                        data-cy='edit-new-username-input'\n                                        type=\"text\"\n                                        placeholder=\"New Username\"\n                                        onChange={this.handleChangeNewUsername}\n                                    />\n                                </div>\n                            </div>\n\n                            {this.state.errors.newUsername ? (\n                                <p data-cy='edit-newUsername-error' className='invalid-input'>{this.state.errors.newUsername}</p>\n                            ) : null}\n\n                            <div className=\"form-row\">\n                                <div className=\"form-cell\">\n                                    <span>New Email</span>\n                                </div>\n                                <div className=\"form-cell\">\n                                    <Form.Control\n                                        className=\"form-input\"\n                                        data-cy='edit-new-email-input'\n                                        type=\"text\"\n                                        placeholder=\"New Email\"\n                                        onChange={this.handleChangeNewEmail}\n                                    />\n                                </div>\n                            </div>\n\n                            {this.state.errors.email ? (\n                                <p data-cy='edit-email-error' className='invalid-input'>{this.state.errors.email}</p>\n                            ) : null}\n\n                        </Form.Group>\n\n                    </Form>\n                </div>\n\n                <div className=\"main-section\">\n                    <div className=\"section-title\">\n                        <span>Change Password</span>\n                    </div>\n\n                    <Form className=\"form\" id='password-form'>\n\n                        <Form.Group controlId=\"formBasicPassword\" className=\"group-form\">\n\n                            <div className=\"form-row\">\n                                <div className=\"form-cell\">\n                                    <span>Current Password</span>\n                                </div>\n                                <div className=\"form-cell\">\n                                    <Form.Control\n                                        className=\"form-input\"\n                                        data-cy='edit-password-input'\n                                        type=\"password\"\n                                        placeholder=\"Current Password\"\n                                        onChange={this.handleChangeCurrentPassword}\n                                    />\n                                </div>\n                            </div>\n\n                            {this.state.errors.password ? (\n                                <p data-cy='edit-password-error' className='invalid-input'>{this.state.errors.password}</p>\n                            ) : null}\n\n                            <div className=\"form-row\">\n                                <div className=\"form-cell\">\n                                    <span>New Password</span>\n                                </div>\n                                <div className=\"form-cell\">\n                                    <Form.Control\n                                        className=\"form-input\"\n                                        data-cy='edit-new-password-input'\n                                        type=\"password\"\n                                        placeholder=\"New Password\"\n                                        onChange={this.handleChangeNewPassword}\n                                    />\n                                </div>\n                            </div>\n\n                            <div className=\"form-row\">\n                                <div className=\"form-cell\">\n                                    <span>Confirm Password</span>\n                                </div>\n                                <div className=\"form-cell\">\n                                    <Form.Control\n                                        className=\"form-input\"\n                                        data-cy='confirm-new-password-input'\n                                        type=\"password\"\n                                        placeholder=\"Confirm New Password\"\n                                        onChange={this.handleChangeConfirmNewPassword}\n                                    />\n                                </div>\n                            </div>\n\n                            {this.state.errors.newPassword ? (\n                                <p data-cy='edit-newPassword-error' className='invalid-input'>{this.state.errors.newPassword}</p>\n                            ) : null}\n\n                            {this.state.success ? (\n                                <p data-cy='edit-profile-success' className='success-message'>Profile successfully updated</p>\n                            ) : null}\n\n                        </Form.Group>\n                    </Form>\n\n                    <div className=\"save-button-container\">\n                        <Button variant=\"contained\" data-cy='edit-profile-button' onClick={this.handleClickSaveProfile} >\n                            <span className='white-txt'>Save</span>\n                        </Button>\n                    </div>\n                </div>\n\n                <div className=\"main-section\">\n                    <div className=\"section-title\">\n                        <span>Settings</span>\n                    </div>\n\n                    <Form className=\"settings-form\">\n                        <Form.Group controlId=\"formBasicSettings\" className=\"group-form\">\n                            {this.state.settings && this.state.userSettings ?\n                                this.state.userSettings.map( (setting) => {\n                                    return <div className=\"form-cell settings-cell\" key={setting.id}>\n                                        <Checkbox\n                                            onChange={this.handleChange}\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}\n                                            name={setting.name}\n                                            disabled={setting.name.includes('newsletter')}\n                                            checked={setting.value}\n                                        />\n                                        <span>{setting.name}</span>\n                                    </div>\n                                })\n                            : null}\n\n                        </Form.Group>\n                    </Form>\n\n                </div>\n\n                </div>\n            </>\n        )\n    }\n}\nexport default EditProfile;\n","import axios from \"axios\";\nimport {BASE_URL} from \"../../environment\";\nimport {GET_RESOURCES} from \"../models/types\";\nimport store from \"../store\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\nimport {logError, logServerRequestTime} from \"./analytics\";\n\n\nexport async function getResources() {\n\n    try{\n        const sentTime = (new Date()).getTime();\n        let response = await axios.get(BASE_URL + '/resources')\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.RESOURCES, receivedTime-sentTime);\n\n        store.dispatch({\n            type: GET_RESOURCES,\n            payload: response.data.resources\n        });\n        return true;\n    }\n    catch(e){\n        logError(RequestName.RESOURCES, e.response.data, STACK.SERVER)\n        console.error(e.response.data);\n        return false;\n    }\n}\n","import React, { Component } from 'react';\nimport {CardDeck} from 'react-bootstrap';\nimport \"./Resources.css\";\nimport store from \"../../../../state/store\";\nimport {getResources} from \"../../../../state/actions/resources\";\nimport CardContainer from \"../../../../common/components/cards/CardContainer\";\nimport {logUserAction} from \"../../../../state/actions/analytics\";\nimport {ButtonClicks} from \"../../../../state/models/analyticsModels\";\n\nexport interface Props {\n    pathname?: string;\n}\ninterface State {\n    username: string,\n    resourcesList: any[]\n}\nclass Resources extends Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            resourcesList: []\n        }\n    }\n\n    async componentDidMount() {\n        await getResources();\n        const resourcesList = store.getState().resources.list;\n        this.setState({resourcesList});\n    }\n\n    goToWebsite(url: string){\n        logUserAction(ButtonClicks.RESOURCE)\n        window.open(url);\n    }\n\n\n    render() {\n        return (\n            <>\n            <h3 className=\"header-dashboard\">Help</h3>\n                <div className=\"resources-page-wrapper\">\n                    {this.state.resourcesList.map(\n                        (resource) => {\n                            return <div key={resource.title} className='resources-card'>\n                                <CardDeck onClick={() => this.goToWebsite(resource.link)}>\n                                    <CardContainer\n                                        name={resource.title}\n                                        description={resource.description}\n                                        hideProgress={true}\n                                        imageUrl={resource.picture}\n                                    >\n                                    </CardContainer>\n                                </CardDeck>\n                            </div>\n                        }\n                    )}\n                </div>\n            </>\n        )\n    }\n}\n\n\nexport default Resources;\n","import React from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport \"./RecentModules.css\";\nimport {getModules} from \"../../../../state/actions/modules\";\nimport store from \"../../../../state/store\";\nimport { Paths } from \"../../../../App\";\nimport { Link } from \"react-router-dom\";\nimport checkmark from '../../../../assets/checkmark.png';\nimport {logPageNavigated} from \"../../../../state/actions/analytics\";\nimport {PageNavigation} from \"../../../../state/models/analyticsModels\";\n\nexport interface ModulesProps {\n    pathname?: string;\n    modules: string[][];\n    getModules: () => void;\n}\nexport interface ModulesState {\n    username: string;\n}\nclass RecentModules extends React.Component<ModulesProps, ModulesState>{\n    state = {\n        username: store.getState().user.username\n    }\n\n    async componentDidMount() {\n        await getModules();\n    }\n\n    getPath(moduleID: string) {\n        if(this.props.pathname?.includes('quizzes')) {\n            return Paths.dashboard + \"/quizzes/\" + moduleID;\n        } else {\n            return Paths.lessons + \"/\" + moduleID;\n        }\n    }\n\n    getHeader(){\n        return (<h3 className='header-dashboard'>Dashboard</h3>)\n\n    }\n\n    render() {\n        return (\n            <>\n                <div>\n                    {this.getHeader()}\n\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n    modules: state.module.modules\n})\nconst mapDispatchToProps = {\n    getModules: getModules\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(RecentModules);\n","import React from \"react\";\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport \"./IndividualLesson.css\";\nimport store from \"../../../../state/store\";\nimport { Paths } from \"../../../../App\";\nimport { NavLink } from \"react-router-dom\";\nimport {getLessonContent, updateLessonProgress} from \"../../../../state/actions/modules\";\nimport {logPageNavigated, logUserAction} from \"../../../../state/actions/analytics\";\nimport {ButtonClicks, PageNavigation} from \"../../../../state/models/analyticsModels\";\n\nexport interface LessonProps {\n    pathname?: string;\n    moduleId?: string;\n    lessonId?: string;\n}\nexport interface LessonState{\n    username:string,\n    lessonIndex: number,\n    lessonData: any,\n    lessonId:string,\n    lessonName:string,\n    moduleId: string;\n}\nclass IndividualLesson extends React.Component<LessonProps, LessonState>{\n    constructor(props: LessonProps){\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            lessonName: store.getState().module.currentLessonName,\n            lessonIndex: 0,\n            lessonData: [],\n            lessonId:this.props.lessonId || '',\n            moduleId: this.props.moduleId || '',\n        }\n        logPageNavigated(PageNavigation.LESSON);\n        this.incrementLessonIndex = this.incrementLessonIndex.bind(this);\n        this.decrementLessonIndex = this.decrementLessonIndex.bind(this);\n    }\n\n    async componentDidMount() {\n        await getLessonContent(this.state.lessonId);\n\n        const lessonData = store.getState().module.currentLesson;\n        if(lessonData.length !== 0) {\n            this.setState({lessonData});\n        }\n\n    }\n    incrementLessonIndex(){\n        let newIndex = this.state.lessonIndex + 1;\n        logUserAction(ButtonClicks.NEXT_SLIDE)\n        this.setState({\n            lessonIndex:newIndex\n        });\n        \n        let progress = Math.ceil(newIndex*100/this.state.lessonData.length);\n        updateLessonProgress(this.state.lessonId, progress);\n\n    }\n    decrementLessonIndex(){\n        let newIndex = this.state.lessonIndex - 1;\n        logUserAction(ButtonClicks.PREVIOUS_SLIDE)\n        this.setState({\n            lessonIndex:newIndex\n        });\n\n        let progress = Math.ceil(newIndex*100/this.state.lessonData.length);\n        updateLessonProgress(this.state.lessonId, progress);\n    }\n    finishLesson(){\n        let progress = 100;\n        updateLessonProgress(this.state.lessonId, progress);\n    }\n    render() {\n        let previousButton;\n        let nextButton;\n        let lessonImage;\n        let lessonTitle;\n        //show previous button if not on first lesson (has no previous lesson)\n        if(this.state.lessonIndex !== 0){\n            previousButton =  <button onClick={this.decrementLessonIndex}>Previous</button>;\n        }\n        //if at the last lesson, show finish button that returns to lessons page\n        if(this.state.lessonIndex === this.state.lessonData.length-1){\n            this.finishLesson();\n            nextButton = <li onClick={() => {logUserAction(ButtonClicks.FINISH_LESSON)}}><NavLink className=\"nav-link\" to={Paths.lessons + \"/\" + this.state.moduleId} data-cy='main-dashboard'><button>Finish</button></NavLink></li>;\n        }\n        //if not at the last lesson, show the next button\n        else{\n            nextButton =  <button onClick={this.incrementLessonIndex}>Next</button>;\n        }\n        //get lesson content\n        if(this.state.lessonData && this.state.lessonData.length !== 0){\n            lessonTitle = <h3 className=\"lesson-title\">{this.state.lessonData[this.state.lessonIndex].title}</h3>\n            lessonImage = <img className=\"lesson-img\" src={this.state.lessonData[this.state.lessonIndex].content} alt={this.state.lessonName}/>\n        }\n\n        return (\n            <>\n                <Container>\n                    <div className=\"lesson-header\">\n                        <Row>\n                            <Col>\n                            <h3>{this.state.lessonName}</h3>\n                            </Col>\n                            <Col/>\n                            <Col>\n                                <li onClick={() => {logUserAction(ButtonClicks.CLOSE_LESSON)}}>\n                                    <NavLink key={this.state.moduleId} to={Paths.lessons + \"/\" + this.state.moduleId}>\n                                        <button className=\"exit-button\">X</button>\n                                    </NavLink>\n                                </li>\n                            </Col>\n                        </Row>\n                    </div>\n\n                </Container>\n                \n                <div>\n                    {lessonTitle}\n                    {lessonImage}\n                </div>\n                <Container>\n                    <div className=\"nav-buttons\">\n                        <Row>\n                            <Col>\n                               {previousButton}\n                            </Col>\n                            <Col/>\n                            <Col>\n                                {nextButton}\n                            </Col>\n                        </Row>\n\n                    </div>\n\n                </Container>\n\n            </>\n        )\n    }\n}\n\nexport default IndividualLesson\n","import {GET_QUIZ_DATA, GET_QUIZZES, SESSION} from '../models/types';\nimport axios from \"axios\";\nimport { BASE_URL } from '../../environment'\nimport store from \"../store\";\nimport {logError, logServerRequestTime} from \"./analytics\";\nimport {RequestName, STACK} from \"../models/analyticsModels\";\n\n\nexport async function getQuizzes(moduleId: string) {\n    try{\n        const username: any = await JSON.parse(localStorage.getItem(SESSION) || '{}').user.username;\n        const sentTime = (new Date()).getTime();\n        const res = await axios.get(BASE_URL + '/api/modules/' + moduleId + '/quizzes' + (username !== 'guest' ? `?username=${username}` : ''))\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.QUIZZES, receivedTime-sentTime);\n        store.dispatch({\n            type: GET_QUIZZES,\n            payload: res.data?.quizzes\n        })\n        return res.data?.quizzes;\n    }\n    catch(e){\n        logError(RequestName.QUIZZES, e, STACK.SERVER)\n        return null;\n    }\n}\n\nexport async function getQuizData(quizId: string) {\n    try{\n        const sentTime = (new Date()).getTime();\n        const res = await axios.get(BASE_URL + '/api/modules/quiz/' + quizId)\n        const receivedTime = (new Date()).getTime();\n        logServerRequestTime(RequestName.QUIZ_DATA, receivedTime-sentTime);\n        store.dispatch({\n            type: GET_QUIZ_DATA,\n            payload: res.data?.questions\n        })\n        return res.data?.questions;\n    }\n    catch(e){\n        logError(RequestName.QUIZ_DATA, e, STACK.SERVER)\n        return null;\n    }\n}\n","import React from 'react';\nimport './App.css';\nimport {Provider} from 'react-redux';\nimport store from './state/store';\nimport Homepage from './pages/homepage/Homepage';\nimport {Switch} from \"react-router-dom\";\nimport Dashboard from \"./pages/dashboard/Dashboard\";\nimport { PrivateRoute, AuthRoute }  from './common/components/PrivateRoute';\nimport {logPageNavigated, setUser} from \"./state/actions/analytics\";\nimport {PageNavigation} from \"./state/models/analyticsModels\";\nimport IndividualQuiz from './pages/dashboard/components/quizzes/individual-quiz/IndividualQuiz';\n\nexport interface AppProps {\n    username: string\n}\nexport enum Paths {\n  root = \"/\",\n  dashboard = \"/dashboard\",\n  modules = \"/dashboard/modules\",\n  lessons = \"/dashboard/lessons\",\n  lessons_moduleId = \"/dashboard/lessons/:moduleId\",\n  quizzesPrefix = \"/dashboard/quizzes\",\n  quizzesModules = \"/dashboard/quizzes/modules\",\n  quizzes = \"/dashboard/quizzes/:moduleId\",\n  quiz = \"/dashboard/quizzes/:moduleId/quiz/:quizId\",\n  games = \"/dashboard/games\",\n  editProfile = \"/dashboard/editProfile\",\n  help = \"/dashboard/help\",\n  individualLesson = \"/dashboard/lessons/:moduleId/:lessonId\"\n}\n\nfunction App() {\n    if (window.Cypress) {\n        window.store = store\n    }\n\n    if(store.getState().session?.auth?.user) {\n        setUser(store.getState().session.auth.user);\n        logPageNavigated(PageNavigation.INIT)\n    }\n\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n          <Switch>\n              <AuthRoute path={Paths.root} component={Homepage} exact />\n              <PrivateRoute exact path={Paths.quiz} component={IndividualQuiz} />\n              <PrivateRoute path={Paths.dashboard} component={Dashboard} />\n          </Switch>\n      </div>\n\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./Quizzes.css\";\nimport store from \"../../../../state/store\";\nimport { logPageNavigated } from \"../../../../state/actions/analytics\";\nimport { PageNavigation } from \"../../../../state/models/analyticsModels\";\nimport { getQuizzes } from \"../../../../state/actions/quizzes\";\nimport { NavLink } from \"react-router-dom\";\nimport { Card, CardColumns } from \"react-bootstrap\";\nimport CardContainer from \"../../../../common/components/cards/CardContainer\";\nimport { Paths } from \"../../../../App\";\nimport {getModules} from \"../../../../state/actions/modules\";\n\nexport interface QuizzesProps {\n    modules: any[][];\n    getModules: () => void;\n\n    pathname?: string;\n    moduleId: string;\n}\n\nexport interface QuizzesState {\n    username: string;\n    quizzes: any;\n\n}\n\nclass Quizzes extends React.Component<QuizzesProps, QuizzesState>{\n    constructor(props: QuizzesProps) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            quizzes: null\n        }\n        logPageNavigated(PageNavigation.QUIZZES);\n    }\n\n    async componentDidMount() {\n        const quizzes = await getQuizzes(this.props.moduleId);\n        this.setState({ quizzes })\n\n        await getModules();\n    }\n\n    getModuleName(){\n        const module = this.props.modules.filter((moduleAsArray: any[]) => {\n            const moduleID = moduleAsArray[0];\n            return moduleID === parseInt(this.props.moduleId, 10)\n        })[0]\n\n        if(module)\n        {\n            return module[1]\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <h3 className='header-dashboard'>{this.getModuleName()}</h3>\n                <div className=\"quizzes-wrapper\">\n                    <CardColumns>\n                        {this.state.quizzes\n                            ? this.state.quizzes.map(\n                                (quiz: any) => {\n                                    const to: string = Paths.quiz.replace(':moduleId', this.props.moduleId).replace(':quizId', quiz.quiz_id);\n                                    return <Card\n                                        style={{ width: '70%', marginTop: '10%' }}\n                                        key={quiz.quiz_id}>\n                                        <NavLink key={quiz.quiz_id} to={to} className=\"no-margin\">\n                                            <CardContainer\n                                                name={quiz.title}\n                                                description={quiz.description}\n                                                progress={0}\n                                                imageUrl={quiz.resources}\n                                                hideProgress={store.getState().user.username === 'guest'}\n                                            />\n\n                                        </NavLink>\n                                    </Card>\n                                }\n                            )\n                            : null}\n                    </CardColumns>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: any) => ({\n    quizzes: state.module.quizzes,\n    modules: state.module.modules\n})\nconst mapDispatchToProps = {\n    getModules: getModules\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Quizzes);\n","import React, { Component } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport SideBar from './components/Sidebar';\nimport store from \"../../state/store\";\nimport Modules from \"./components/modules/Modules\";\nimport Lesson from \"./components/lessons/Lesson\";\nimport EditProfile from \"./components/edit-profile/EditProfile\";\nimport Resources from \"./components/resources/Resources\";\nimport RecentModules from \"./components/RecentModules/RecentModules\";\nimport {Paths} from \"../../App\";\nimport IndividualLesson from \"./components/IndividualLesson/IndividualLesson\";\nimport Header from \"../../common/components/header/Header\";\nimport {logPageNavigated} from \"../../state/actions/analytics\";\nimport {PageNavigation} from \"../../state/models/analyticsModels\";\nimport Quizzes from \"./components/quizzes/Quizzes\";\nimport { Redirect } from 'react-router-dom';\n\n\nexport interface Props {\n    location?: {\n        pathname?: string,\n        match?: any\n    }\n}\ninterface State {\n    username: string,\n    moduleId?: string,\n    lessonId?: string,\n    quizId?: string\n}\nclass Homepage extends Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username\n        }\n        logPageNavigated(PageNavigation.DASHBOARD);\n    }\n\n\n    componentDidUpdate(prevProps: Readonly<Props>) {\n        if (prevProps?.location?.pathname !== this.props.location?.pathname) {\n            this.updateAndNotify();\n        }\n    }\n\n    updateAndNotify = () => {\n        let lessonId = undefined;\n        let moduleId = undefined;\n        let quizId = undefined;\n        this.setState({moduleId, lessonId, quizId});\n\n        if (this.props.location?.pathname?.includes('quizzes') && !this.props.location?.pathname?.includes('modules')) {\n            moduleId = this.props.location?.pathname.substring(this.props.location.pathname.indexOf('quizzes/')+8);\n\n        } else if (this.props.location?.pathname?.includes('quiz/')) {\n            quizId = this.props.location?.pathname.substring(this.props.location.pathname.indexOf('quiz/')+5);\n\n        } else if(this.props.location?.pathname?.includes('lessons/')) {\n            moduleId = this.props.location?.pathname.substring(this.props.location.pathname.indexOf('lessons/')+8);\n            if(moduleId.includes('/')) {\n                lessonId = moduleId.substring(moduleId.indexOf('/')+1);\n                moduleId = moduleId.substring(0, moduleId.indexOf('/'));\n            }\n        }\n        this.setState({moduleId, lessonId, quizId});\n    }\n\n\n    render() {\n\n        return (\n            <>\n\n                <Header />\n                <Row>\n                    <Col lg={2}>\n                        {!this.state.lessonId\n                            ? <SideBar location={this.props.location} username={this.state.username} />\n                            : null\n                        }\n\n                    </Col>\n                    <hr className=\"title-hr\"/>\n                    <Col>\n                        {this.props.location?.pathname === Paths.dashboard\n                            ? store.getState().user.username === 'guest'\n                                ? <Redirect to={Paths.modules}/>\n                                    : <RecentModules/>\n                                :null\n                        }\n                        {this.props.location?.pathname === Paths.modules || this.props.location?.pathname === Paths.quizzesModules\n                            ? <Modules pathname={this.props.location?.pathname} />\n                            : null\n                        }\n                        {this.state.moduleId && this.state.lessonId\n                            ? <IndividualLesson lessonId={this.state.lessonId} moduleId={this.state.moduleId} />\n                            : this.state.moduleId\n                                ? (this.props.location?.pathname?.includes('quizzes')\n                                    ? <Quizzes pathname={this.props.location?.pathname} moduleId={this.state.moduleId} />\n                                    : <Lesson pathname={this.props.location?.pathname} moduleId={this.state.moduleId} />)\n                                : null\n                        }\n                        {this.props.location?.pathname === Paths.editProfile\n                            ? <EditProfile pathname={this.props.location?.pathname} />\n                            : null\n                        }\n                        {this.props.location?.pathname === Paths.help\n                            ? <Resources pathname={this.props.location?.pathname} />\n                            : null\n                        }\n\n                    </Col>\n                </Row>\n            </>\n        )\n    }\n}\nconst mapStateToProps = (state: any) => ({\n    username: state.user.username\n})\nexport default connect(mapStateToProps, {})(Homepage);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport store from \"../../state/store\";\n\nconst PrivateRoute: any = ({ component: Component, ...rest }: any) => {\n  let isAuth = store.getState().session.auth;\n\n  return (\n    <Route {...rest} render={props => (\n        Object.entries(isAuth).length ?\n            <Component {...props} />\n        : <Redirect to=\"/\" />\n    )} />\n  );\n}\n\nconst AuthRoute: any = ({ component: Component, ...rest }: any) => {\n  let isAuth = store.getState().session.auth;\n\n  return (\n    <Route {...rest} render={props => (\n        !Object.entries(isAuth).length ?\n            <Component {...props} />\n        : <Redirect to=\"/dashboard\" />\n    )} />\n  );\n}\n\nexport { PrivateRoute, AuthRoute }\n","import React from \"react\";\nimport { Col, Container, Row, Image} from \"react-bootstrap\";\nimport store from \"../../../../../state/store\";\nimport \"./MultipleChoice.css\";\nimport { QuizQuestion } from \"../types/Quiz\";\n\nexport interface MultipleChoiceQProps {\n    question: QuizQuestion;\n    onQuestionAnswered: (e: React.MouseEvent) => void;\n}\n\nexport interface MultipleChoiceQState {\n    username: string;\n    indexSelected?: number;\n}\n\nclass MultipleChoice extends React.Component<MultipleChoiceQProps, MultipleChoiceQState>{\n    constructor(props: MultipleChoiceQProps) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            indexSelected: undefined\n        }\n    }\n    handleImageClick= (e: React.MouseEvent, index: number) =>{\n        this.setState({indexSelected: index});\n        this.props.onQuestionAnswered(e);\n    }\n    isAnswerSelected = () => this.state.indexSelected !== undefined;\n    isRightAnswer = (index: number) => this.props.question.answer.includes((index + 1).toString(10));\n\n    getImageClassName = (index: number) => {\n        if(this.indexIsSelectedIndex(index))\n        {\n            return this.isRightAnswer(index) ? 'correct' : 'wrong';\n        }\n        else {\n            return ''\n        }\n    }\n\n    indexIsSelectedIndex = (index: number) => {\n        return index === this.state.indexSelected\n    }\n\n    render() {\n        const resourceUrls: string[] = this.props.question.resources !== undefined ? JSON.parse(this.props.question.resources) : [];\n        return (\n            <>\n            <h6>Click the image that corresponds to the text</h6>\n                <div className=\"multiple-choice-wrapper\">\n                   <hr/>\n                    <Container>\n                        <h4>{this.props.question.question}</h4>\n                        <Row className='choices-container'>\n                            {\n                                resourceUrls.map( (resourceUrl, index) => {\n                                    return (\n                                        <Col xs={6} md={4} lg={4} key={resourceUrl}>\n                                            <Image className={this.getImageClassName(index)+' '+'image-container'} \n                                                src={resourceUrl} \n                                                onClick={(event) => \n                                                    {\n                                                    if (!this.isAnswerSelected())\n                                                        this.handleImageClick(event, index);\n                                                    }\n                                                }/>\n                                                {this.isAnswerSelected() && this.indexIsSelectedIndex(index) ? (this.isRightAnswer(index) ? <h4>Correct!</h4>: <h4>Wrong</h4>) : null}\n                                        </Col>\n                                       \n                                        )\n                                })\n                                \n                            }\n                        </Row>\n                    </Container>\n\n                </div>\n            </>\n        )\n    }\n}\n\nexport default MultipleChoice;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { QuizQuestion } from \"../types/Quiz\";\nimport \"./MatchAndSign.css\";\nimport Webcam from \"react-webcam\";\nimport {Col, Container, Row} from \"react-bootstrap\";\n\nexport interface CameraQProps {\n    question: QuizQuestion;\n    onQuestionAnswered: (e: React.MouseEvent) => void;\n}\n\nexport interface CameraQState {\n    webcamRef: any;\n    imageSrc: any;\n    timerOn: boolean;\n    timerCount: number;\n}\n\nconst TIMER: number = 3;\n\nclass MatchAndSign extends React.Component<CameraQProps, CameraQState>{\n    constructor(props: CameraQProps) {\n        super(props);\n        this.state = {\n            webcamRef: null,\n            imageSrc: null,\n            timerOn: false,\n            timerCount: TIMER\n        }\n        this.capture = this.capture.bind(this);\n    }\n\n    componentWillMount() {\n        setTimeout(() => {\n            const element: any = document.getElementsByClassName('camera-quiz-wrapper')[0];\n            element.style[\"visibility\"] = 'visible';\n        }, 1000);\n    }\n\n\n    setRef = (webcamRef: any) => {\n        this.setState({webcamRef});\n    }\n\n    capture(e: React.MouseEvent) {\n        this.setState({timerOn: true})\n\n        const int = setInterval(() => {\n            if (this.state.timerOn) {\n                const timerCount = this.state.timerCount - 1;\n                if(timerCount >= 0) {\n                    this.setState({timerCount})\n                }\n\n            } else {\n                const imageSrc = this.state.webcamRef.getScreenshot();\n                this.setState({imageSrc});\n                this.props.onQuestionAnswered(e);\n                this.setState({timerOn: false})\n                clearInterval(int)\n            }\n        }, 1000);\n    }\n\n\n    render() {\n        const videoConstraints = {\n            width: 640,\n            height: 480,\n            facingMode: \"user\"\n        };\n\n        return (\n            <>\n                <div className=\"camera-quiz-wrapper\">\n                    <Container>\n                        <Row>\n                            <Col>\n                                <h4>{this.props.question.question}</h4>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Webcam\n                                    videoConstraints={videoConstraints}\n                                    mirrored\n                                    audio={false}\n                                    ref={this.setRef}\n                                />\n                                { this.state.webcamRef ?\n                                    <div className=\"box-wrapper\">\n                                        <div className=\"box\"/>\n                                    </div>\n                                : null}\n\n                                <div className=\"button-wrapper\">\n                                    <button onClick={(event) => this.capture(event)}>Capture photo</button>\n                                </div>\n\n                                { this.state.timerOn ?\n                                    <div className=\"counter-wrapper\">\n                                        <h1 className=\"counter\">{this.state.timerCount}</h1>\n                                    </div>\n                                    : null\n                                }\n\n                                {/*FOR TESTING*/}\n                                {/*{ this.state.imageSrc ?*/}\n                                {/*    <img src={this.state.imageSrc} alt=\"\"/>*/}\n                                {/*:*/}\n                                {/*null}*/}\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n\n            </>\n        )\n    }\n}\nconst mapDispatchToProps = {\n}\n\nexport default connect(null, mapDispatchToProps)(MatchAndSign);\n","import React from \"react\";\nimport store from \"../../../../../state/store\";\nimport { QuizQuestion } from \"../types/Quiz\";\nimport \"./FillTheBlanks.css\";\nimport { Col, Container, Image, Row } from \"react-bootstrap\";\nexport interface TextInputQProps {\n    question: QuizQuestion;\n    onQuestionAnswered: (e: React.MouseEvent) => void;\n}\nexport interface TextInputQState {\n    username: string;\n    answer: string;\n    enterPressed: boolean\n}\nclass FillTheBlanks extends React.Component<TextInputQProps, TextInputQState>{\n    constructor(props: TextInputQProps) {\n        super(props);\n        this.state = {\n            username: store.getState().user.username,\n            answer: '',\n            enterPressed: false\n        }\n    }\n    wasEnterPressed = () => this.state.enterPressed;\n    handlePressedEnter = (e: React.MouseEvent) => {\n        this.setState({enterPressed: true});\n        this.props.onQuestionAnswered(e);\n    }\n    isRightAnswer = () => {\n        return this.props.question.answer.toLowerCase() === this.state.answer.toLowerCase()\n    }\n\n    getClassNameImage = () => {\n        return this.wasEnterPressed() ? (this.isRightAnswer() ? 'correct' : 'wrong') : ''\n        \n    }\n\n    render() {\n        return (\n            <>\n            <h6>Type your answer and press enter</h6>\n            <hr></hr>\n                <div className=\"text-input-wrapper\">\n                    <Container>\n                        <Row>\n                            <Col>\n                                <Image \n                                className={this.getClassNameImage()}  \n                                src={this.props.question.resources} />\n                            </Col>\n                        </Row>\n                        \n                        <Row>\n                            <Col>\n                            <input \n                                className={'inputField'} \n                                placeholder=\"Type you answer here and press enter\"\n                                onChange={(event) => {\n                                    this.setState({ answer: event.target.value })\n                                }}\n                                onKeyPress={(event: any) =>{\n                                    if (event.key === 'Enter') {\n                                        this.handlePressedEnter(event);\n                                      }\n                                }}\n                                disabled={this.wasEnterPressed()}\n                            />\n                            {this.wasEnterPressed() ? (this.isRightAnswer() ? <h3>Correct!</h3> : <h3>Wrong</h3>) : null}\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n            </>\n        )\n    }\n}\nexport default FillTheBlanks;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./IndividualQuiz.css\";\nimport MultipleChoice from \"../multiple-choice/MultipleChoice\";\nimport MatchAndSign from \"../match-and-sign/MatchAndSign\";\nimport FillTheBlanks from \"../fill-the-blanks/FillTheBlanks\";\nimport { getQuizData, getQuizzes } from \"../../../../../state/actions/quizzes\";\nimport store from \"../../../../../state/store\";\nimport Header from \"../../../../../common/components/header/Header\";\nimport { Row, Col, Button} from \"react-bootstrap\";\nimport { MdClose } from \"react-icons/md\";\nimport { QuizDetails, QuizQuestion } from \"../types/Quiz\";\nimport { Paths } from \"../../../../../App\";\nimport { Link } from \"react-router-dom\";\nexport interface IndividualQuizProps {\n    location: object;\n    match: {\n        params: {\n            quizId: string;\n            moduleId: string;\n        }\n    };\n}\nexport interface IndividualQuizState {\n    username: string;\n\n    questions: QuizQuestion[];\n    questionIndex: number;\n    quizDetails: QuizDetails;\n    isAnswered: boolean;\n}\nclass IndividualQuiz extends React.Component<IndividualQuizProps, IndividualQuizState>{\n    constructor(props: IndividualQuizProps) {\n        super(props);\n        this.state = {\n            questions: [],\n            username: store.getState().user.username,\n            questionIndex: 0,\n            quizDetails: {},\n            isAnswered: false\n        }\n    }\n    setAsAnswered = () => {\n        this.setState({isAnswered: true});\n    }\n    getCurrentQuestion = () => {\n        return this.state.questions[this.state.questionIndex];\n    }\n    incrementQuestionIndex = () => {\n        this.setState({ questionIndex: this.state.questionIndex + 1, isAnswered: false});\n    }\n    decrementQuestionIndex = () => {\n        this.setState({ questionIndex: this.state.questionIndex - 1 });\n    }\n    async componentDidMount() {\n        const questions: QuizQuestion[] = await getQuizData(this.props.match.params.quizId);\n        const quizzesDetails: QuizDetails[] = await getQuizzes(this.props.match.params.moduleId);\n        const quizDetails: QuizDetails = quizzesDetails\n            .filter(quizDetail => quizDetail.quiz_id === parseInt(this.props.match.params.quizId, 10))[0];\n        this.setState({ questions: questions, quizDetails: quizDetails });\n    }\n    getQuizComponentByType() {\n        if (this.getCurrentQuestion().q_type === 'multiple-choice') {\n            return <MultipleChoice key={this.getCurrentQuestion().q_id} question={this.getCurrentQuestion()} onQuestionAnswered={this.setAsAnswered} />\n        } else if (this.getCurrentQuestion().q_type === 'fill-the-blanks') {\n            return <FillTheBlanks key={this.getCurrentQuestion().q_id} question={this.getCurrentQuestion()} onQuestionAnswered={this.setAsAnswered} />\n        } else if (this.getCurrentQuestion().q_type === 'match-and-sign') {\n            return <MatchAndSign key={this.getCurrentQuestion().q_id} question={this.getCurrentQuestion()} onQuestionAnswered={this.setAsAnswered} />\n        }\n    }\n    render() {\n        return (\n            <>\n                <Header />\n                <Row className=\"quizHeader\">\n                    <Col xs={4} md={4} lg={4}>\n                        <h3>{this.state.quizDetails.title}</h3>\n                    </Col>\n                    \n                    <Col lg={{ span: 2, offset: 6 }}>\n                        <Link to={Paths.quizzes.replace(':moduleId', this.props.match.params.moduleId)}>\n                            <MdClose />\n                        </Link>\n\n                    </Col>\n                </Row>\n                <div className=\"individual-quiz-wrapper\">\n                    {(this.getCurrentQuestion())\n                        ? this.getQuizComponentByType()\n                        : null\n                    }\n                </div>\n                <Row>\n                    {/* <Col xs={4} md={4} lg={{ span: 1, offset: 2 }}>\n                        {this.state.questionIndex === 0 ? null : <Button onClick={this.decrementQuestionIndex}>Previous</Button>}\n                    </Col> */}\n                    <Col lg={{ span: 1, offset: 9 }}>\n                        {this.state.questionIndex >= this.state.questions.length - 1 ? \n                        <Link to={Paths.quizzes.replace(':moduleId', this.props.match.params.moduleId)}>\n                        <Button disabled={!this.state.isAnswered}>Finish</Button>\n                        </Link>\n                        : \n                        <Button disabled={!this.state.isAnswered} onClick={this.incrementQuestionIndex}>Next</Button>}\n                    </Col>\n                </Row>\n            </>\n        )\n    }\n}\nconst mapDispatchToProps = {\n}\nexport default connect(null, mapDispatchToProps)(IndividualQuiz);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n// all component were rendering twice (and therefore all requests are being made twice as well\n// this fixes it\n  // <React.StrictMode>\n      <BrowserRouter>\n          <App />\n      </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}