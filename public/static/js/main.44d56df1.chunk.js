(this["webpackJsonpplain-sight"]=this["webpackJsonpplain-sight"]||[]).push([[0],{163:function(e,t,a){},238:function(e,t,a){e.exports=a.p+"static/media/homepage-girl-computer-icon.81695ba5.svg"},239:function(e,t,a){e.exports=a.p+"static/media/homepage-boy-computer-icon.79723be7.svg"},240:function(e,t,a){e.exports=a.p+"static/media/homepage-bingo-icon.df828ede.svg"},249:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAAASpSURBVHhe7Zy9b9NAGIf957Gzww4DE4iRrBVlqZBAytZmYWgFS7+GdgrKAFKrMrUs0AEqMSAhxGb0uHmD45zt8335zuEn/ZBKro7v8Xvvez6fm+U968e3n/n59DI/3fuQ7746ySebh/nWkzcrHo/eFp/tb0+L9tdX3+dH6FfBAdJxYAHk6d2X+aM7L6wMXMBfnn2df0NYBQF4efYl39+Z5qP7YyUEV+aCTDYPiggNJa8A6QgRouqsb3OxiHRShE95ATg7uvAebV1MVPoC6RQgQ3Xj4bayE32b4U0acS0nAH//+lMUBdWJx2ZGhsuCYw2QPOeimoa2q2i0Asj0QXVyqZhotM2NRgAZsn1VV9cG4vXVzbxn3dUZIFcspgrrykx5TNQJ4FDhiU3yojbAocMTd41ELYDrAk88O/4073m7WgFSMNYJHmZapltYWgGmPlUxNUGjM8VpBHi691F58HUxU7U21QKEfop3GK7dVlRqAW48iHNRwIVZ8NDN6wRR01BWAmQ5SnWwIRh4FMYuM4umobwCcMhTFoEn6tLXuhWcFYD7O++VB0jdVXgiXYi0UWkJ4FCjrw6eSLffs+OL+W/80xLAIUZfGzyRDkRVFC4BHFr06cJDulFYzYULgEOrvD7g4WpFXgAcygIp9gVPXD52AZCDqBqmaN/wcPnupAA4lOEbAh4uD+MCYCqPJJscCp5YvqsAmPqiQWh4WKpxdv35RtkgFfcBD7NOijIejKsapOC+4GHSHspSXXHuEx7meChzUUDGz94p/9+X+4Yn5hwy24XT2dHtE6z97TD30bHAwxw/s6nAAk/kG2JM8DCVOFN9oOMqPJEviLHBw9yAGAGsgydyDTFGeNgIYBs8kSuIscLDRgC7bMCxhRgzPGw8hENAjB0eNgaIfUJMAR4uAI7umX+5D4ipwMPFNMZ2It0FIgVIdQxxSvAwO7ic3Mq5gJgaPMz5OltMsIGYIjzu4FBGIlQ1MLEJxBTh4a3Ht8v6GSelamDqLhDPp1dJwsO8t4y8LOl3gaij2ODhxZI+/0yeHygb2dgVxBjhYZHXx5q2EGOFJ/kPFQDJQ6qGLmwKMVZ4uPwaRAEQ+dza0RVizPAw5ydaACQpqhq7si7E2OHx9ntZC4DI9wP2Noixw8NSfUVLAF0tgja5DmIK8Di/qpYAUkxCbPOoQkwBHla9Q7cEEIWIQiwQU4Gnij60ApAoDNWh3dcnScDDdW9wrgBEbet26+Zq5S1LCRANacuvjakJpJk61QLkl0IUlNjNG6tNqgWI1n0oNw1dUSNA9P+F62a1AkTrlg/b8l5ZWgBDTm1iMCvlutICiFKZ8NqavN9F2gDR0CF2hYc6AURDhEjOM4GHOgNE5MTxKOy+aF8mGIL+8bGyQi08+DLPNnSrbZ2sACIWGFMc0lx8F7IGiLiKPh6N+jA7IWyGbFVOAIpiLjAUirb7WhM5BSiiosUCEnAMVwqfD3kBKCI/hn6LScy+R5/gRF4BihjaDB/ff06KaGPxo/rkzKeCACwLmAxxItMWKMCYihBpIaGVFRxgVQwxOs/+HLaMEUGT54cFGDE/Yz4nkrnZt52/uVGe/wUN/AbX74afWQAAAABJRU5ErkJggg=="},256:function(e,t,a){e.exports=a(438)},261:function(e,t,a){},268:function(e,t,a){},387:function(e,t,a){},389:function(e,t,a){},391:function(e,t,a){},393:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);var n,r,s,i,o,l,c,u,m=a(0),d=a.n(m),p=a(26),h=a.n(p),E=(a(261),a(163),a(20)),g=a(60),v=a(230),f=a(15),w="SESSION",b={username:localStorage.getItem(w)?null===(n=JSON.parse(localStorage.getItem(w)||"{}"))||void 0===n||null===(r=n.user)||void 0===r?void 0:r.username:""},S={modules:[],lessons:[],currentLesson:{},currentLessonName:"",quizzes:[],quizzes_data:[]},N={auth:JSON.parse(localStorage.getItem(w)||"{}")},y={list:[]},O=Object(g.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"REGISTER":case"GUEST":case"EDIT":return Object(f.a)(Object(f.a)({},e),{},{username:t.payload});default:return e}},module:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MODULES":return Object(f.a)(Object(f.a)({},e),{},{modules:t.payload});case"GET_MODULE_LESSONS":return Object(f.a)(Object(f.a)({},e),{},{lessons:t.payload});case"GET_LESSON":return Object(f.a)(Object(f.a)({},e),{},{currentLesson:t.payload});case"SET_LESSON_NAME":return Object(f.a)(Object(f.a)({},e),{},{currentLessonName:t.payload});case"GET_QUIZZES":return Object(f.a)(Object(f.a)({},e),{},{quizzes:t.payload});case"GET_QUIZ_DATA":return Object(f.a)(Object(f.a)({},e),{},{quizzes_data:t.payload});default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:case"LOGOUT":return Object(f.a)(Object(f.a)({},e),{},{auth:t.payload});default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;return"GET_RESOURCES"==t.type?Object(f.a)(Object(f.a)({},e),{},{list:t.payload}):e}}),I=a(231),C=[v.a],k=Object(g.createStore)(O,{},Object(I.composeWithDevTools)(g.applyMiddleware.apply(void 0,C))),R=a(4),A=a.n(R),x=a(8),T=a(9),j=a(10),U=a(12),P=a(11),L=a(38),D=a(88),_=a.n(D),q=a(13),G=a(121),z=a(67),M=a(464),F=a(53),Q=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(F.a.Group,{controlId:"formBasicUsername"},d.a.createElement(F.a.Control,{type:"text","data-cy":"username-input",placeholder:"Username",onChange:this.props.onChangeUsername}),this.props.errors.username?d.a.createElement("p",{"data-cy":"username-error",className:"invalid-input"},this.props.errors.username):null),d.a.createElement(F.a.Group,{controlId:"formBasicPassword"},d.a.createElement(F.a.Control,{type:"password","data-cy":"password-input",placeholder:"Password",onChange:this.props.onChangePassword}),this.props.errors.password?d.a.createElement("p",{"data-cy":"password-error",className:"invalid-input"},this.props.errors.password):null))}}]),a}(d.a.Component),V=(a(124),a(268),a(112)),B=a(18),H=a.n(B),W="https://achung98.pythonanywhere.com",Z="5ac4c1aa3ea9ae1c840e0ba60ad10ee1";!function(e){e.NAVIGATION="Page Opened: ",e.ERROR="Error",e.REQUEST_TIME="Server Request Time",e.EDIT_PROFILE="Edit Profile: ",e.BUTTON_CLICKED="CTA"}(s||(s={})),function(e){e.INIT="Init",e.HOMEPAGE="Homepage",e.LOGIN="Login",e.REGISTER="Register",e.DASHBOARD="Dashboard",e.MODULES="Modules",e.QUIZZES="Quizzes",e.LESSONS="Lessons",e.LESSON="Lesson"}(i||(i={})),function(e){e.LOGIN="Login",e.REGISTER="Register",e.GUEST="Continue as Guest",e.DASHBOARD="Dashboard (SM)",e.MODULES="Modules (SM)",e.QUIZZES="Quizzes (SM)",e.GAMES="Games (SM)",e.EDIT_PROFILE="Edit Profile (SM)",e.RESOURCES="Resources (SM)",e.CLOSE_LESSON="End Lesson",e.NEXT_SLIDE="Next Slide",e.PREVIOUS_SLIDE="Previous Slide",e.FINISH_LESSON="Finish Lesson",e.LOGOUT="Logout",e.EDIT="Edit Profile",e.RESOURCE="Resource",e.WEBCAM_SETTING="Webcam Setting"}(o||(o={})),function(e){e.REGISTER="register",e.EDIT_PROFILE="editProfile",e.LOGIN="login",e.RESET_PASSWORD="resetPassword",e.GUEST="loginAsGuest",e.MODULE_LESSONS="getModuleLessons",e.MODULES="getModules",e.QUIZZES="getQuizzes",e.QUIZ_DATA="getQuizData",e.SEND_CAMERA_INPUT="sendCameraInput",e.LESSON_CONTENT="getLessonContent",e.RESOURCES="getResources",e.GAMES="getGames",e.UPDATE_PROGRESS="updateLessonProgress",e.GET_PREFERENCES="getPreferences",e.GET_USER_PREFERENCES="getUserPreferences",e.SET_USER_PREFERENCES="setUserPreferences",e.MODULES_IN_PROGRESS="getModulesInProgress"}(l||(l={})),function(e){e.SET_SESSION="setSession",e.UPDATE_SESSION="updateSession",e.CLEAR_SESSION="clearSession",e.PROFILE_INPUT="validateProfileInput",e.LOGIN_INPUT="validateLoginInput",e.REGISTER_INPUT="validateRegistrationInput"}(c||(c={})),function(e){e.CLIENT="Client",e.SERVER="Server"}(u||(u={}));var J=a(286),Y=function(e){try{J.init(Z),J.people.set({$distinct_id:e.email,$name:e.username,$email:e.email}),J.identify(e.email)}catch(t){console.error(t)}},X=function(e){try{var t,a,n=(null===(t=k.getState().session)||void 0===t||null===(a=t.auth)||void 0===a?void 0:a.user)||"guest@user.com";J.init(Z),J.track(s.NAVIGATION+e,{distinct_id:n.email,$name:n.username,$email:n.email})}catch(r){console.error(r)}},K=function(e,t,a){try{var n,r,i=(null===(n=k.getState().session)||void 0===n||null===(r=n.auth)||void 0===r?void 0:r.user)||"guest@user.com",o=t;J.init(Z),J.track(s.ERROR,{distinct_id:i.email,"Request Name":e,Description:o,Stack:a})}catch(l){console.error(l)}},$=function(e,t){try{var a,n,r=(null===(a=k.getState().session)||void 0===a||null===(n=a.auth)||void 0===n?void 0:n.user)||"guest@user.com";J.init(Z),J.track(s.REQUEST_TIME,{distinct_id:r.email,"Request Name":e,"Result Count":t})}catch(i){console.error(i)}},ee=function(e){try{var t,a,n=(null===(t=k.getState().session)||void 0===t||null===(a=t.auth)||void 0===a?void 0:a.user)||"guest@user.com";J.init(Z),J.track(s.BUTTON_CLICKED,{distinct_id:n.email,Action:e})}catch(r){console.error(r)}};function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(x.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.setItem(t,JSON.stringify(a)),k.dispatch({type:w,payload:a}),e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),K(c.SET_SESSION,e.t0,u.CLIENT),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(x.a)(A.a.mark((function e(t,a){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=null===(n=JSON.parse(localStorage.getItem(w)))||void 0===n?void 0:n.token,s={token:r,user:a},localStorage.setItem(t,JSON.stringify(s)),k.dispatch({type:w,payload:a}),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),K(c.UPDATE_SESSION,e.t0,u.CLIENT),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function se(){try{localStorage.clear(),k.dispatch({type:"LOGOUT",payload:!1})}catch(e){K(c.CLEAR_SESSION,e,u.CLIENT)}}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(x.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(new Date).getTime(),e.next=4,H.a.post(W+"/user/auth",{username:t.username,password:t.password});case 4:return n=e.sent,r=(new Date).getTime(),$(l.LOGIN,r-a),te(w,n.data),Y(t),k.dispatch({type:"LOGIN",payload:n.data.user.username}),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),K(l.LOGIN,e.t0.response.data,u.SERVER),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function le(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(x.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.post(W+"/user/recover",{email:t});case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),K(l.RESET_PASSWORD,e.t0.response.data,u.SERVER),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var ue=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).handleResetClicked=function(){var e=Object(x.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(n.state.email);case 2:a=e.sent,n.setState({resetSent:!0}),n.setState({resetWasValid:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={passWordRecoverClicked:!1,resetWasValid:!1,resetSent:!1,email:""},n.openPasswordRecovery=n.openPasswordRecovery.bind(Object(L.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(L.a)(n)),n.handleResetClicked=n.handleResetClicked.bind(Object(L.a)(n)),n}return Object(j.a)(a,[{key:"openPasswordRecovery",value:function(){this.setState({passWordRecoverClicked:!0})}},{key:"onChangeEmail",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"render",value:function(){var e="";this.state.resetSent&&(e=this.state.resetWasValid?d.a.createElement("p",null,"A new Password has been sent to your email!"):d.a.createElement("p",null,"Invalid Email please try again"));var t=d.a.createElement("button",{onClick:this.openPasswordRecovery},"click here");return this.state.passWordRecoverClicked&&(t=d.a.createElement(F.a,null,d.a.createElement(F.a.Row,null,d.a.createElement(F.a.Group,{as:V.a,controlId:"ResetPassword"},d.a.createElement(F.a.Control,{type:"text","data-cy":"username-input",placeholder:"Email",onChange:this.onChangeEmail})),e,d.a.createElement(z.a,{onClick:this.handleResetClicked},"Reset Password")))),d.a.createElement("div",{id:this.props.id},d.a.createElement(z.a,{"data-cy":"submit-login",id:"modalSignInButton",variant:"primary",type:"submit",onClick:this.props.onLoginClicked},"Login"),d.a.createElement("p",{className:"horizontalLine"},d.a.createElement("span",null,"or")),d.a.createElement("p",null,"Forgot your password?"),t,d.a.createElement("p",{className:"horizontalLine"},d.a.createElement("span",null,"or")),d.a.createElement("p",null,"Don't have an account?"),d.a.createElement(z.a,{id:"modalLoginButton",variant:"primary",type:"submit",onClick:this.props.onSignUpClicked},"Sign Up"))}}]),a}(d.a.Component),me=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{id:this.props.id},d.a.createElement(z.a,{id:"modalSignUpButton",variant:"primary","data-cy":"submit-registration",type:"submit",onClick:this.props.onSignUpClicked},"Sign Up"),d.a.createElement("p",{className:"horizontalLine"},d.a.createElement("span",null,"or")),d.a.createElement("p",null,"Already have an account?"),d.a.createElement(z.a,{id:"modalLoginButton",variant:"primary",type:"submit",onClick:this.props.onLoginClicked},"Login"))}}]),a}(d.a.Component),de=a(125),pe=a(129);function he(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(x.a)(A.a.mark((function e(t){var a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},e.next=6;break;case 6:return e.prev=6,n=(new Date).getTime(),e.next=10,H.a.post(W+"/register/",{email:t.email,username:t.username,password:t.password});case 10:return r=e.sent,s=(new Date).getTime(),$(l.REGISTER,s-n),te(w,r.data),Y(t),k.dispatch({type:"REGISTER",payload:r.data.user.username}),e.abrupt("return",{errors:a,isRegistered:!0});case 19:return e.prev=19,e.t0=e.catch(6),e.t0.response.data&&(console.log(e.t0.response.data),e.t0.response.data.email&&(a.email=e.t0.response.data.email[0]),e.t0.response.data.username&&(a.username=e.t0.response.data.username[0]),K(l.REGISTER,e.t0.response.data,u.SERVER)),e.abrupt("return",{errors:a,isRegistered:!1});case 23:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}var ge,ve=a(125),fe=a(129);!function(e){e.LOGIN="Login",e.SIGN_UP="Create your account",e.test=""}(ge||(ge={}));var we=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).handleChangeUsername=function(e){var t=e.target.value;n.setState({username:t})},n.handleChangeEmail=function(e){var t=e.target.value;n.setState({email:t})},n.handleChangePassword=function(e){var t=e.target.value;n.setState({password:t})},n.handleSignUpClicked=function(){var e=Object(x.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ee(o.REGISTER),!n.isRegistrationValid()){e.next=8;break}return a={username:n.state.username,password:n.state.password,email:n.state.email},e.next=6,he(a);case 6:(r=e.sent)&&!r.isRegistered?n.setState({errors:r.errors}):n.props.handleNavigateToLoginClicked(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleHideClicked=function(e){n.setState({errors:""}),n.props.onHide&&n.props.onHide(!1)},n.handleLoginClicked=function(){var e=Object(x.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ee(o.REGISTER),!n.isLoginValid()){e.next=8;break}return a={username:n.state.username,password:n.state.password},e.next=6,ie(a);case 6:e.sent||(r={notFound:"Login failed: invalid username or password"},n.setState({errors:r}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",email:"",password:"",errors:""},n.props.type===ge.LOGIN?X(i.LOGIN):n.props.type===ge.SIGN_UP&&X(i.REGISTER),n}return Object(j.a)(a,[{key:"isLoginValid",value:function(){var e=function(e){var t={};return de.isEmpty(e.username)?t.username="This field is required":(e.username.length<4||e.username.length>100)&&(t.username="Invalid username"),de.isEmpty(e.password)?t.password="This field is required":(e.password.length<4||e.password.length>100)&&(t.password="Invalid password"),pe(t)||K(c.LOGIN_INPUT,t,u.CLIENT),{errors:t,isValid:pe(t)}}(this.state),t=e.errors,a=e.isValid;return a||this.setState({errors:t}),a}},{key:"isRegistrationValid",value:function(){var e=function(e){var t={};return ve.isEmpty(e.username)?t.username="This field is required":(e.username.length<4||e.username.length>100)&&(t.username="Invalid username, username needs to be between 4 and 100 characters"),ve.isEmpty(e.email)?t.email="This field is required":(e.email.length<4||e.email.length>100||!e.email.includes("@"))&&(t.email="Invalid email address"),ve.isEmpty(e.password)?t.password="This field is required":(e.password.length<4||e.password.length>100)&&(t.password="Invalid password, must be between 4 and 100 characters"),fe(t)||K(c.REGISTER_INPUT,t,u.CLIENT),{errors:t,isValid:fe(t)}}(this.state),t=e.errors,a=e.isValid;return a||this.setState({errors:t}),a}},{key:"render",value:function(){return d.a.createElement(M.a,{show:this.props.visible,onHide:this.handleHideClicked,backdrop:"static",keyboard:!1},d.a.createElement(M.a.Header,{closeButton:!0},d.a.createElement(M.a.Title,null,this.props.type)),d.a.createElement(F.a,{className:"form"},d.a.createElement(M.a.Body,null,this.props.type===ge.SIGN_UP?d.a.createElement(d.a.Fragment,null,d.a.createElement(F.a.Group,{controlId:"formBasicEmail"},d.a.createElement(F.a.Control,{"data-cy":"email-input",type:"email",placeholder:"Email",onChange:this.handleChangeEmail}),this.state.errors.email?d.a.createElement("p",{"data-cy":"email-error",className:"invalid-input"},this.state.errors.email):null)):null,d.a.createElement(Q,{onChangeUsername:this.handleChangeUsername,onChangePassword:this.handleChangePassword,errors:this.state.errors}),this.state.errors.notFound?d.a.createElement("p",{"data-cy":"wrong-credentials-error",className:"invalid-input"},this.state.errors.notFound):null),d.a.createElement(M.a.Footer,null,this.props.type===ge.LOGIN?d.a.createElement(ue,{id:"userManagementSignInButtons",onSignUpClicked:this.props.handleNavigateToSignUpClicked,onLoginClicked:this.handleLoginClicked}):null,this.props.type===ge.SIGN_UP?d.a.createElement(me,{id:"userManagementSignUpButtons",onSignUpClicked:this.handleSignUpClicked,onLoginClicked:this.props.handleNavigateToLoginClicked}):null)))}}]),a}(d.a.Component),be=Object(E.b)((function(e){return{username:e.username}}),{login:ie})(we);var Se=function(){var e=Object(m.useState)(!1),t=Object(G.a)(e,2),a=t[0],n=t[1];return d.a.createElement(d.a.Fragment,null,d.a.createElement(be,{visible:a,onHide:function(){n(!1)},type:ge.LOGIN,handleNavigateToLoginClicked:function(){},handleNavigateToSignUpClicked:function(){n(!0)}}),d.a.createElement(z.a,{id:"homepageLoginButton",variant:"secondary",type:"submit","data-cy":"login",onClick:function(){n(!0)}},"Login"))},Ne=(a(387),a(468)),ye=a(467),Oe=a(39),Ie=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).handleLogout=function(){var e=Object(x.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(o.LOGOUT),se();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.DashboardHeader=n.DashboardHeader.bind(Object(L.a)(n)),n}return Object(j.a)(a,[{key:"HomepageHeader",value:function(){return d.a.createElement("div",{"data-testid":"header",className:"app-header"},d.a.createElement("div",{className:"left-header-icon"},d.a.createElement("div",{className:"header-logo-wrapper"},d.a.createElement("img",{src:_.a,className:"header-logo",alt:"in plain sight logo"})),d.a.createElement("div",{className:"header-title"},d.a.createElement("span",null,"In Plain Sight"))),d.a.createElement("div",{className:"right-header-buttons"},d.a.createElement("div",{className:"header-button header-material-button"},d.a.createElement(Se,null)),d.a.createElement("div",{className:"header-button"},d.a.createElement(q.b,{id:"resources",to:"/resources"},d.a.createElement("span",{className:"white-txt"},"Resources"))),d.a.createElement("div",{className:"header-button"},d.a.createElement(q.b,{id:"home",to:"/"},d.a.createElement("span",{className:"white-txt"},"Home")))))}},{key:"DashboardHeader",value:function(){return d.a.createElement("div",null,d.a.createElement(Ne.a,{expand:"lg",bg:"dark",variant:"dark"},d.a.createElement(Ne.a.Brand,null,d.a.createElement("div",{className:"header-logo-wrapper"},d.a.createElement("img",{src:_.a,className:"header-logo",alt:"in plain sight logo"}))),d.a.createElement(ye.a,null,d.a.createElement(ye.a.Link,{"data-cy":"logout",href:"/",onClick:this.handleLogout},d.a.createElement(Oe.e,{size:35})))))}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,"/"===window.location.pathname?d.a.createElement(this.HomepageHeader,null):window.location.pathname.includes(Ft.dashboard)?d.a.createElement(this.DashboardHeader,null):null)}}]),a}(m.Component),Ce=Object(E.b)((function(e){return{}}),{})(Ie),ke=(a(389),function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{"data-testid":"footer",className:"app-footer"},d.a.createElement("span",{className:"footer-text"},"\xa9 2021, In Plain Sight. All rights reserved"))}}]),a}(m.Component)),Re=a(238),Ae=a.n(Re),xe=a(239),Te=a.n(xe),je=a(240),Ue=a.n(je),Pe=a(457);var Le=function(){var e=Object(m.useState)(!1),t=Object(G.a)(e,2),a=t[0],n=t[1];return d.a.createElement(d.a.Fragment,null,d.a.createElement(be,{visible:a,onHide:function(){n(!1)},type:ge.SIGN_UP,handleNavigateToSignUpClicked:function(){},handleNavigateToLoginClicked:function(){n(!0)}}),d.a.createElement(Pe.a,{type:"submit","data-cy":"register",onClick:function(){n(!0)}},d.a.createElement("span",{className:"white-txt"},"Get started")))},De=a(22),_e=a(390);function qe(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(x.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=(new Date).getTime(),a={token:_e(40),user:{username:"guest",email:"guest"}},n=(new Date).getTime(),$(l.GUEST,n-t),te(w,a),k.dispatch({type:"GUEST",payload:"guest"})}catch(r){K(l.GUEST,r,u.SERVER),console.error(r)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(391);var ze=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).unsubscribe=void 0,n.handleSighUpAsGuest=function(){var e=Object(x.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ee(o.GUEST),e.next=4,qe();case 4:n.setState({username:"Guest"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:""},X(i.HOMEPAGE),n}return Object(j.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.unsubscribe=k.subscribe((function(){e.setState({username:k.getState().user.username})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(Ce,null),d.a.createElement(De.b,{exact:!0,path:"/"},this.state.username?d.a.createElement(De.a,{to:"/dashboard"}):null),d.a.createElement("div",{className:"app-homepage"},d.a.createElement("div",{className:"homepage-section-wrapper first-section"},d.a.createElement("div",{className:"homepage-get-started-container"},d.a.createElement("span",{className:"homepage-get-started-title"},"Learn American Sign Language"),d.a.createElement("span",{className:"homepage-subtitle"},"Learn ASL for free from the comfort of your home at your convenience. No tutoring is needed. Our application will help you learn and evaluate your progress."),d.a.createElement("div",{className:"homepage-section-buttons-container"},d.a.createElement("div",{className:"homepage-section-button left"},d.a.createElement(Le,null)),d.a.createElement("div",{className:"homepage-section-button"},d.a.createElement(q.b,{id:"guest",to:Ft.modules},d.a.createElement(Pe.a,{variant:"contained",onClick:this.handleSighUpAsGuest},d.a.createElement("span",{className:"white-txt"},"Continue as Guest"))))))),d.a.createElement("div",{className:"homepage-section-divider"},d.a.createElement("span",{className:"homepage-section-title"},"Interaction ASL Lessons")),d.a.createElement("div",{className:"homepage-section-wrapper"},d.a.createElement("div",{className:"homepage-section"},d.a.createElement("div",{className:"section-half-cell left"},d.a.createElement("span",{className:"homepage-subtitle vertical-align"},"In addition to predefined lessons, we offer interactive lessons. With the help of your webcam, you will get the chance to practice what you learned.")),d.a.createElement("div",{className:"homepage-icon-container section-half-cell right"},d.a.createElement("img",{src:Ae.a,className:"homepage-icon-container",alt:"girl in computer"})))),d.a.createElement("div",{className:"homepage-section-divider"},d.a.createElement("span",{className:"homepage-section-title"},"Have Fun Learning")),d.a.createElement("div",{className:"homepage-section-wrapper"},d.a.createElement("div",{className:"homepage-section"},d.a.createElement("div",{className:"section-half-cell right"},d.a.createElement("span",{className:"homepage-subtitle vertical-align"},"We offer fun games designed for the hearing impaired to reinforce learning. These games will include bingo and flashcards.")),d.a.createElement("div",{className:"homepage-icon-container section-half-cell left"},d.a.createElement("img",{src:Ue.a,className:"homepage-icon-container",alt:"plain sight logo bingo"})))),d.a.createElement("div",{className:"homepage-section-divider"},d.a.createElement("span",{className:"homepage-section-title"},"Resources")),d.a.createElement("div",{className:"homepage-section-wrapper"},d.a.createElement("div",{className:"homepage-section"},d.a.createElement("div",{className:"section-half-cell left"},d.a.createElement("span",{className:"homepage-subtitle"},"Our mission is to facilitate the ASL learning process for those who are hearing impaired. In keeping with our mission, we will provide helpful links with tips and other resources to help those who need guidance. In addition, our users will be able to communicate with other students and share knowledge and resources.")),d.a.createElement("div",{className:"homepage-icon-container section-half-cell right"},d.a.createElement("img",{src:Te.a,className:"homepage-icon-container",alt:"boy in computer"})))),d.a.createElement("div",{className:"homepage-section-divider"}),d.a.createElement("div",{className:"homepage-section-wrapper"},d.a.createElement("div",{className:"homepage-last-section"},d.a.createElement("div",{className:"homepage-links-wrapper"},d.a.createElement("div",{className:"homepage-links-section"},d.a.createElement(q.b,{id:"about",to:"/about"},"About us"),d.a.createElement("div",{className:"spacing-div-20"}),d.a.createElement(q.b,{id:"contact",to:"/contact"},"Contact us")),d.a.createElement("div",{className:"homepage-links-section"},d.a.createElement(q.b,{id:"careers",to:"/careers"},"Careers"),d.a.createElement("div",{className:"spacing-div-20"}),d.a.createElement(q.b,{id:"help",to:"/help"},"Help and Support")),d.a.createElement("div",{className:"homepage-links-section"},d.a.createElement(q.b,{id:"terms",to:"/terms"},"Terms"),d.a.createElement("div",{className:"spacing-div-20"}),d.a.createElement(q.b,{id:"privacy",to:"/privacy"},"Privacy policy")))))),d.a.createElement(ke,null))}}]),a}(m.Component),Me=Object(E.b)((function(e){return{username:e.user.username}}),{})(ze),Fe=a(459),Qe=a(244),Ve=(a(393),a(251)),Be=a(466),He=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={docked:!0,signUpModalVisible:!1},e}return Object(j.a)(a,[{key:"handleSignUpClose",value:function(){this.setState({signUpModalVisible:!1})}},{key:"render",value:function(){var e,t,a,n,r,s,i,l,c,u,m,p=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(be,{visible:this.state.signUpModalVisible,onHide:function(){p.handleSignUpClose()},type:ge.SIGN_UP,handleNavigateToSignUpClicked:function(){p.handleSignUpClose()},handleNavigateToLoginClicked:function(){p.handleSignUpClose()}}),d.a.createElement(Qe.a,{shadow:!1,transitions:!1,sidebar:d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"avatarContainer"},d.a.createElement(Ve.a,{name:k.getState().user.username,round:!0,color:"#FFFFFF",style:{border:"solid 10px #6F488E",width:"60",height:"60"},size:"60",fgColor:"#5C5C5C"}),k.getState().user.username),d.a.createElement("ul",null,d.a.createElement("li",{className:(null===(e=this.props.location)||void 0===e?void 0:e.pathname)===Ft.dashboard?"active":"",onClick:function(){ee(o.DASHBOARD)}},d.a.createElement(Oe.c,null),"guest"===k.getState().user.username?d.a.createElement("div",{className:"dashboard-sign-up-button",onClick:function(){p.setState({signUpModalVisible:!0})}},"Sign Up"):d.a.createElement(q.c,{to:Ft.dashboard,"data-cy":"main-dashboard",activeClassName:"non-exact-match"},"Dashboard")),d.a.createElement("li",{className:(null===(t=this.props.location)||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.includes(Ft.modules))||(null===(n=this.props.location)||void 0===n||null===(r=n.pathname)||void 0===r?void 0:r.includes(Ft.lessons))?"active":"",onClick:function(){ee(o.MODULES)}},d.a.createElement(Oe.g,null),d.a.createElement(q.c,{to:Ft.modules,"data-cy":"modules-dashboard"},"Modules")),d.a.createElement("li",{className:(null===(s=this.props.location)||void 0===s||null===(i=s.pathname)||void 0===i?void 0:i.includes(Ft.quizzesPrefix))?"active":"",onClick:function(){ee(o.QUIZZES)}},d.a.createElement(Oe.a,null),d.a.createElement(q.c,{to:Ft.quizzesModules,"data-cy":"quizzes-dashboard"},"Quizzes")),d.a.createElement("li",{className:(null===(l=this.props.location)||void 0===l||null===(c=l.pathname)||void 0===c?void 0:c.includes(Ft.games))?"active":"",onClick:function(){ee(o.GAMES)}},d.a.createElement(Oe.h,null),d.a.createElement(q.c,{to:Ft.games,"data-cy":"games-dashboard"},"Games")),d.a.createElement("li",{className:(null===(u=this.props.location)||void 0===u?void 0:u.pathname)===Ft.editProfile?"active":"",onClick:function(){ee(o.EDIT_PROFILE)}},d.a.createElement(Oe.d,null),"guest"===k.getState().user.username?d.a.createElement(Be.a,{title:"Login to access this feature",placement:"right"},d.a.createElement("p",{className:"disabled-menu","data-cy":"edit-dashboard"},"Edit Profile")):d.a.createElement(q.c,{to:Ft.editProfile,"data-cy":"edit-dashboard"},"Edit Profile")),d.a.createElement("li",{className:(null===(m=this.props.location)||void 0===m?void 0:m.pathname)===Ft.help?"active":"",onClick:function(){ee(o.RESOURCE)}},d.a.createElement(Oe.f,null),d.a.createElement(q.c,{to:Ft.help,"data-cy":"help-dashboard"},"Help")))),docked:this.state.docked,styles:{root:{height:"100%"},sidebar:{overflowY:"none",background:"#F1F1F1",height:"100%"},overlay:{backgroundColor:"white"}}},d.a.createElement(d.a.Fragment,null)))}}]),a}(d.a.Component);a(425);function We(){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(x.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return a=e.sent,n=(new Date).getTime(),e.next=7,H.a.get(W+"/api/modules"+("guest"!==a?"?username=".concat(a):""));case 7:r=e.sent,s=(new Date).getTime(),$(l.MODULES,s-n),k.dispatch({type:"GET_MODULES",payload:null===(t=r.data)||void 0===t?void 0:t.response_text}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),K(l.MODULES,e.t0,u.SERVER),console.error("Failed to get modules",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Je(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(x.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return a=e.sent,n=(new Date).getTime(),e.next=7,H.a.get(W+"/api/modules/ip"+("guest"!==a?"?username=".concat(a):""));case 7:r=e.sent,s=(new Date).getTime(),$(l.MODULES_IN_PROGRESS,s-n),k.dispatch({type:"GET_MODULES",payload:null===(t=r.data)||void 0===t?void 0:t.response_text}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),K(l.MODULES_IN_PROGRESS,e.t0,u.SERVER),console.error("Failed to get modules",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Xe(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(x.a)(A.a.mark((function e(t){var a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return a=e.sent,n=(new Date).getTime(),e.next=7,H.a.get(W+"/api/modules/"+t+"/lesson"+("guest"!==a?"?username=".concat(a):""));case 7:return r=e.sent,s=(new Date).getTime(),$(l.MODULE_LESSONS,s-n),k.dispatch({type:"GET_MODULE_LESSONS",payload:r.data.lessons}),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),K(l.MODULE_LESSONS,e.t0,u.SERVER),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(x.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(new Date).getTime(),e.next=4,H.a.get(W+"/api/modules/lesson/"+t);case 4:return n=e.sent,r=(new Date).getTime(),$(l.LESSON_CONTENT,r-a),console.log("response",n),k.dispatch({type:"GET_LESSON",payload:n.data.slide}),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),K(l.LESSON_CONTENT,e.t0,u.SERVER),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function tt(e,t){return at.apply(this,arguments)}function at(){return(at=Object(x.a)(A.a.mark((function e(t,a){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return n=e.sent,r=(new Date).getTime(),e.next=7,H.a.get(W+"/api/modules/lesson/"+t+"/progress/"+a+("guest"!==n?"?username=".concat(n):""));case 7:s=(new Date).getTime(),$(l.UPDATE_PROGRESS,s-r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),K(l.UPDATE_PROGRESS,e.t0,u.SERVER),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var nt=a(249),rt=a.n(nt),st=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:k.getState().user.username},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.inProgress){e.next=5;break}return e.next=3,Je();case 3:e.next=7;break;case 5:return e.next=7,We();case 7:X(i.MODULES);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPath",value:function(e){var t;return this.props.inProgress?Ft.dashboard:(null===(t=this.props.pathname)||void 0===t?void 0:t.includes("quizzes"))?Ft.dashboard+"/quizzes/"+e:Ft.lessons+"/"+e}},{key:"getHeader",value:function(){var e;return this.props.inProgress?d.a.createElement("h3",{className:"header-dashboard"},"Dashboard"):(null===(e=this.props.pathname)||void 0===e?void 0:e.includes("quizzes"))?d.a.createElement("h3",{className:"header-dashboard"},"Quizzes"):d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",{className:"header-dashboard"},"Modules"),d.a.createElement("h6",{className:"description"},"Click on a module to start learning"))}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,this.getHeader(),d.a.createElement("div",{className:"module-buttons-wrapper"},void 0!==this.props.modules&&null!==this.props.modules&&0!=this.props.modules.length?this.props.modules.map((function(t){var a,n,r=t[1],s=t[0],i=t[3];return 100!==parseInt(i)||(null===(a=e.props.pathname)||void 0===a?void 0:a.includes("quizzes"))||(n=d.a.createElement("img",{src:rt.a,className:"checkmark-logo",alt:"in plain sight logo"})),d.a.createElement(q.b,{key:s+r,to:{pathname:e.getPath(s),state:{moduleName:r}}},d.a.createElement(Fe.a,{className:"module-row"},d.a.createElement(V.a,null,d.a.createElement("p",{className:"module-title"},r)),d.a.createElement(V.a,null,n)))})):d.a.createElement("p",null,"You currently have no modules in progress, head over to modules to get started")))}}]),a}(d.a.Component),it={getModules:We},ot=Object(E.b)((function(e){return{modules:e.module.modules}}),it)(st),lt=a(460),ct=a(470),ut=(a(426),a(471)),mt=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return d.a.createElement("div",{className:"cardsContainer"},d.a.createElement(ct.a,{style:{minWidth:"25rem"}},d.a.createElement(ct.a.Img,{variant:"top",src:this.props.imageUrl}),d.a.createElement(ct.a.Body,null,d.a.createElement(ct.a.Title,null,this.props.name),d.a.createElement(ct.a.Text,null,this.props.description)),this.props.hideProgress?null:d.a.createElement(Fe.a,null,d.a.createElement(V.a,{lg:10},d.a.createElement(ut.a,{className:"progress",now:this.props.progress})),d.a.createElement(V.a,{lg:2},d.a.createElement("span",{className:"progressText"},this.props.progress,"%")))))}}]),a}(d.a.Component),dt=(a(427),function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n,r;return Object(T.a)(this,a),(r=t.call(this,e)).linkToLesson=function(e){return function(e){try{k.dispatch({type:"SET_LESSON_NAME",payload:e})}catch(t){console.log(t)}}(e),null},r.checkIfProgressNull=function(e){return e||0},r.state={username:k.getState().user.username,lessons:[],moduleId:(null===(n=r.props)||void 0===n?void 0:n.moduleId)||""},X(i.LESSONS),r}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(this.state.moduleId);case 2:return 0!==(t=k.getState().module.lessons).length&&this.setState({lessons:t}),e.next=6,We();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getModuleName",value:function(){var e=this,t=this.props.modules.filter((function(t){var a=t[0];if(e.props.moduleId)return a===parseInt(e.props.moduleId,10)}))[0];if(t)return t[1]}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",{className:"header-dashboard"},this.getModuleName()),d.a.createElement("h6",{className:"description"},"Click on the lesson you want to learn"),d.a.createElement("div",{className:"cards-container"},d.a.createElement(lt.a,null,0!==this.state.lessons.length?this.state.lessons.map((function(t){return d.a.createElement(ct.a,{style:{width:"70%",marginTop:"10%"},onClick:function(){return e.linkToLesson(t.name)},key:e.state.moduleId},d.a.createElement(q.c,{key:e.state.moduleId+t.name,to:Ft.lessons+"/"+e.state.moduleId+"/"+t.lesson_id,className:"no-margin"},d.a.createElement(mt,{name:t.name,description:t.description,progress:e.checkIfProgressNull(t.progress),imageUrl:t.picture,hideProgress:"guest"===k.getState().user.username})))})):null)))}}]),a}(d.a.Component)),pt={getModules:We},ht=Object(E.b)((function(e){return{modules:e.module.modules}}),pt)(dt);a(428);function Et(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(x.a)(A.a.mark((function e(t){var a,n,r,s,i,o,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,n=(new Date).getTime(),e.next=5,H.a.post(W+"/user/edit",{username:t.username,new_username:t.new_username,email:t.email,password:t.password,new_password:t.new_password});case 5:return r=e.sent,s=(new Date).getTime(),$(l.EDIT_PROFILE,s-n),ne(w,r.data),k.dispatch({type:"EDIT",payload:r.data.username}),e.abrupt("return",{errors:a,isSuccessful:!0});case 13:return e.prev=13,e.t0=e.catch(1),(null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.Error)?((c=e.t0.response.data.Error).includes("Password")&&(a.password="Error with the password"),c.includes("Username")&&(a.newUsername="Username is already taken"),c.includes("Email")&&(a.email="Email is already taken"),K(l.EDIT_PROFILE,c,u.SERVER)):(a.password="Unsuccessful request",K(l.EDIT_PROFILE,"Unsuccessful request",u.SERVER)),e.abrupt("return",{errors:a,isSuccessful:!1});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function vt(){return ft.apply(this,arguments)}function ft(){return(ft=Object(x.a)(A.a.mark((function e(){var t,a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,a=(new Date).getTime(),e.next=5,H.a.get(W+"/user/settings/list");case 5:return n=e.sent,r=(new Date).getTime(),$(l.GET_PREFERENCES,r-a),e.abrupt("return",{errors:t,isSuccessful:!0,data:n.data.response_text});case 11:return e.prev=11,e.t0=e.catch(1),K(l.GET_PREFERENCES,"Unsuccessful request",u.SERVER),e.abrupt("return",{errors:e.t0,isSuccessful:!1});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function wt(){return bt.apply(this,arguments)}function bt(){return(bt=Object(x.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 4:return a=e.sent,n=(new Date).getTime(),e.next=8,H.a.get(W+"/user/settings/user"+"?username=".concat(a));case 8:return r=e.sent,s=(new Date).getTime(),$(l.GET_USER_PREFERENCES,s-n),e.abrupt("return",{errors:t,isSuccessful:!0,data:r.data.response_text});case 14:return e.prev=14,e.t0=e.catch(1),K(l.GET_USER_PREFERENCES,"Unsuccessful request",u.SERVER),e.abrupt("return",{errors:e.t0,isSuccessful:!1});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function St(){return(St=Object(x.a)(A.a.mark((function e(t,a){var n,r,s,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 4:return r=e.sent,s=(new Date).getTime(),e.next=8,H.a.post(W+"/user/settings/update"+"?username=".concat(r),{username:r,setting_id:t,isTrue:a});case 8:return i=(new Date).getTime(),$(l.SET_USER_PREFERENCES,i-s),e.abrupt("return",{errors:n,isSuccessful:!0});case 13:return e.prev=13,e.t0=e.catch(1),K(l.SET_USER_PREFERENCES,"Unsuccessful request",u.SERVER),e.abrupt("return",{errors:e.t0,isSuccessful:!1});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}var Nt=a(465),yt=a(125),Ot=a(129);var It=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).handleChangeNewUsername=function(e){var t=e.target.value;n.setState({newUsername:t})},n.handleChangeNewEmail=function(e){var t=e.target.value;n.setState({newEmail:t})},n.handleChangeCurrentPassword=function(e){var t=e.target.value;n.setState({password:t})},n.handleChangeNewPassword=function(e){var t=e.target.value;n.setState({newPassword:t})},n.handleChangeConfirmNewPassword=function(e){var t=e.target.value;n.setState({confirmPassword:t})},n.handleClickSaveProfile=function(){var e=Object(x.a)(A.a.mark((function e(t){var a,r,s,i,l,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),ee(o.EDIT),!n.isUpdateProfileFormValid()){e.next=12;break}return a={username:n.state.username,new_username:n.state.newUsername,email:n.state.newEmail,password:n.state.password,new_password:n.state.confirmPassword},e.next=6,Et(a);case 6:r=e.sent,s=r.errors,i=r.isSuccessful,n.setState({errors:s}),n.setState({success:i}),i&&(null===(l=document.getElementById("username-form"))||void 0===l||l.reset(),null===(c=document.getElementById("password-form"))||void 0===c||c.reset());case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){if(e.target.name.includes("webcam")){ee(o.WEBCAM_SETTING);var t=void 0,a=n.state.userSettings.map((function(a){return a.name===e.target.name?(t=a.id,Object(f.a)(Object(f.a)({},a),{},{value:e.target.checked})):a}));n.setState({userSettings:a}),t&&function(e,t){St.apply(this,arguments)}(t,e.target.checked)}else console.log("functionality not implemented")},n.state={username:k.getState().user.username,newUsername:"",newEmail:"",password:"",newPassword:"",confirmPassword:"",errors:{},success:!1,settings:[],userSettings:[]},n.getSetting(),n}return Object(j.a)(a,[{key:"getSetting",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt();case 2:return(null===(t=e.sent)||void 0===t?void 0:t.isSuccessful)&&this.setState({settings:t.data}),e.next=6,wt();case 6:(null===(a=e.sent)||void 0===a?void 0:a.isSuccessful)&&(n=this.state.settings.map((function(e){return{id:e[0],name:e[1],value:!!a.data.filter((function(t){return t.preference_id===e[0]}))[0]&&!!a.data.filter((function(t){return t.preference_id===e[0]}))[0].val}})),this.setState({userSettings:n}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isUpdateProfileFormValid",value:function(){var e=function(e){var t={};return yt.isEmpty(e.newUsername)&&yt.isEmpty(e.newEmail)&&yt.isEmpty(e.newPassword)?(t.newUsername="One of these fields must be filled",t.email="One of these fields must be filled",t.newPassword="One of these fields must be filled"):(yt.isEmpty(e.password)?t.password="This field is required":(e.password.length<4||e.password.length>100)&&(t.password="Invalid password"),!yt.isEmpty(e.newUsername)&&(e.newUsername.length<4||e.newUsername.length>100)&&(t.newUsername="Invalid username"),!yt.isEmpty(e.newEmail)&&(e.newEmail.length<4||e.newEmail.length>100)&&(t.email="Invalid email"),yt.isEmpty(e.newPassword)||((e.newPassword.length<4||e.newPassword.length>100)&&(t.newPassword="Invalid password"),e.password===e.newPassword&&(t.newPassword="New password can't equal the previous one"),yt.isEmpty(e.confirmPassword)?t.newPassword="This field is required":(e.confirmPassword.length<4||e.confirmPassword.length>100)&&(t.newPassword="Invalid password"),yt.isEmpty(e.confirmPassword)||e.newPassword===e.confirmPassword||(t.newPassword="Passwords don't match"))),Ot(t)||K(c.PROFILE_INPUT,t,u.CLIENT),{errors:t,isValid:Ot(t)}}(this.state),t=e.errors,a=e.isValid;return this.setState({errors:t}),a}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",{className:"header-dashboard"},"Edit Profile"),d.a.createElement("div",{className:"edit-profile-component"},d.a.createElement("div",{className:"main-section"},d.a.createElement(F.a,{className:"form",id:"username-form"},d.a.createElement(F.a.Group,{controlId:"formBasicUsername",className:"group-form"},d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-cell"},d.a.createElement("span",null,"New Username")),d.a.createElement("div",{className:"form-cell"},d.a.createElement(F.a.Control,{className:"form-input","data-cy":"edit-new-username-input",type:"text",placeholder:"New Username",onChange:this.handleChangeNewUsername}))),this.state.errors.newUsername?d.a.createElement("p",{"data-cy":"edit-newUsername-error",className:"invalid-input"},this.state.errors.newUsername):null,d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-cell"},d.a.createElement("span",null,"New Email")),d.a.createElement("div",{className:"form-cell"},d.a.createElement(F.a.Control,{className:"form-input","data-cy":"edit-new-email-input",type:"text",placeholder:"New Email",onChange:this.handleChangeNewEmail}))),this.state.errors.email?d.a.createElement("p",{"data-cy":"edit-email-error",className:"invalid-input"},this.state.errors.email):null))),d.a.createElement("div",{className:"main-section"},d.a.createElement("div",{className:"section-title"},d.a.createElement("span",null,"Change Password")),d.a.createElement(F.a,{className:"form",id:"password-form"},d.a.createElement(F.a.Group,{controlId:"formBasicPassword",className:"group-form"},d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-cell"},d.a.createElement("span",null,"Current Password")),d.a.createElement("div",{className:"form-cell"},d.a.createElement(F.a.Control,{className:"form-input","data-cy":"edit-password-input",type:"password",placeholder:"Current Password",onChange:this.handleChangeCurrentPassword}))),this.state.errors.password?d.a.createElement("p",{"data-cy":"edit-password-error",className:"invalid-input"},this.state.errors.password):null,d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-cell"},d.a.createElement("span",null,"New Password")),d.a.createElement("div",{className:"form-cell"},d.a.createElement(F.a.Control,{className:"form-input","data-cy":"edit-new-password-input",type:"password",placeholder:"New Password",onChange:this.handleChangeNewPassword}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-cell"},d.a.createElement("span",null,"Confirm Password")),d.a.createElement("div",{className:"form-cell"},d.a.createElement(F.a.Control,{className:"form-input","data-cy":"confirm-new-password-input",type:"password",placeholder:"Confirm New Password",onChange:this.handleChangeConfirmNewPassword}))),this.state.errors.newPassword?d.a.createElement("p",{"data-cy":"edit-newPassword-error",className:"invalid-input"},this.state.errors.newPassword):null,this.state.success?d.a.createElement("p",{"data-cy":"edit-profile-success",className:"success-message"},"Profile successfully updated"):null)),d.a.createElement("div",{className:"save-button-container"},d.a.createElement(Pe.a,{variant:"contained","data-cy":"edit-profile-button",onClick:this.handleClickSaveProfile},d.a.createElement("span",{className:"white-txt"},"Save")))),d.a.createElement("div",{className:"main-section"},d.a.createElement("div",{className:"section-title"},d.a.createElement("span",null,"Settings")),d.a.createElement(F.a,{className:"settings-form"},d.a.createElement(F.a.Group,{controlId:"formBasicSettings",className:"group-form"},this.state.settings&&this.state.userSettings?this.state.userSettings.map((function(t){return d.a.createElement("div",{className:"form-cell settings-cell",key:t.id},d.a.createElement(Nt.a,{onChange:e.handleChange,inputProps:{"aria-label":"primary checkbox"},name:t.name,disabled:t.name.includes("newsletter"),checked:t.value}),d.a.createElement("span",null,t.name))})):null)))))}}]),a}(d.a.Component),Ct=a(461);a(429);function kt(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(x.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(new Date).getTime(),e.next=4,H.a.get(W+"/resources");case 4:return a=e.sent,n=(new Date).getTime(),$(l.RESOURCES,n-t),k.dispatch({type:"GET_RESOURCES",payload:a.data.resources}),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),K(l.RESOURCES,e.t0.response.data,u.SERVER),console.error(e.t0.response.data),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var At=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,resourcesList:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt();case 2:t=k.getState().resources.list,this.setState({resourcesList:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToWebsite",value:function(e){ee(o.RESOURCE),window.open(e)}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",{className:"header-dashboard"},"Help"),d.a.createElement("div",{className:"resources-page-wrapper"},this.state.resourcesList.map((function(t){return d.a.createElement("div",{key:t.title,className:"resources-card"},d.a.createElement(Ct.a,{onClick:function(){return e.goToWebsite(t.link)}},d.a.createElement(mt,{name:t.title,description:t.description,hideProgress:!0,imageUrl:t.picture})))}))))}}]),a}(m.Component),xt=a(462),Tt=(a(430),function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,lessonName:k.getState().module.currentLessonName,lessonIndex:0,lessonData:[],lessonId:n.props.lessonId||"",moduleId:n.props.moduleId||""},X(i.LESSON),n.incrementLessonIndex=n.incrementLessonIndex.bind(Object(L.a)(n)),n.decrementLessonIndex=n.decrementLessonIndex.bind(Object(L.a)(n)),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(this.state.lessonId);case 2:0!==(t=k.getState().module.currentLesson).length&&this.setState({lessonData:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementLessonIndex",value:function(){var e=this.state.lessonIndex+1;ee(o.NEXT_SLIDE),this.setState({lessonIndex:e});var t=Math.ceil(100*e/this.state.lessonData.length);tt(this.state.lessonId,t)}},{key:"decrementLessonIndex",value:function(){var e=this.state.lessonIndex-1;ee(o.PREVIOUS_SLIDE),this.setState({lessonIndex:e});var t=Math.ceil(100*e/this.state.lessonData.length);tt(this.state.lessonId,t)}},{key:"finishLesson",value:function(){tt(this.state.lessonId,100)}},{key:"render",value:function(){var e,t,a,n;return 0!==this.state.lessonIndex&&(e=d.a.createElement("button",{onClick:this.decrementLessonIndex},"Previous")),this.state.lessonIndex===this.state.lessonData.length-1?(this.finishLesson(),t=d.a.createElement("li",{onClick:function(){ee(o.FINISH_LESSON)}},d.a.createElement(q.c,{className:"nav-link",to:Ft.lessons+"/"+this.state.moduleId,"data-cy":"main-dashboard"},d.a.createElement("button",null,"Finish")))):t=d.a.createElement("button",{onClick:this.incrementLessonIndex},"Next"),this.state.lessonData&&0!==this.state.lessonData.length&&(n=d.a.createElement("h3",{className:"lesson-title"},this.state.lessonData[this.state.lessonIndex].title),a=d.a.createElement("img",{className:"lesson-img",src:this.state.lessonData[this.state.lessonIndex].content,alt:this.state.lessonName})),d.a.createElement(d.a.Fragment,null,d.a.createElement(xt.a,null,d.a.createElement("div",{className:"lesson-header"},d.a.createElement(Fe.a,null,d.a.createElement(V.a,null,d.a.createElement("h3",null,this.state.lessonName)),d.a.createElement(V.a,null),d.a.createElement(V.a,null,d.a.createElement("li",{onClick:function(){ee(o.CLOSE_LESSON)}},d.a.createElement(q.c,{key:this.state.moduleId,to:Ft.lessons+"/"+this.state.moduleId},d.a.createElement("button",{className:"exit-button"},"X"))))))),d.a.createElement("div",null,n,a),d.a.createElement(xt.a,null,d.a.createElement("div",{className:"nav-buttons"},d.a.createElement(Fe.a,null,d.a.createElement(V.a,null,e),d.a.createElement(V.a,null),d.a.createElement(V.a,null,t)))))}}]),a}(d.a.Component));a(431);function jt(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(x.a)(A.a.mark((function e(t){var a,n,r,s,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(w)||"{}").user.username;case 3:return r=e.sent,s=(new Date).getTime(),e.next=7,H.a.get(W+"/api/modules/"+t+"/quizzes"+("guest"!==r?"?username=".concat(r):""));case 7:return i=e.sent,o=(new Date).getTime(),$(l.QUIZZES,o-s),k.dispatch({type:"GET_QUIZZES",payload:null===(a=i.data)||void 0===a?void 0:a.quizzes}),e.abrupt("return",null===(n=i.data)||void 0===n?void 0:n.quizzes);case 14:return e.prev=14,e.t0=e.catch(0),K(l.QUIZZES,e.t0,u.SERVER),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Pt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(x.a)(A.a.mark((function e(t){var a,n,r,s,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(new Date).getTime(),e.next=4,H.a.get(W+"/api/modules/quiz/"+t);case 4:return s=e.sent,i=(new Date).getTime(),$(l.QUIZ_DATA,i-r),k.dispatch({type:"GET_QUIZ_DATA",payload:null===(a=s.data)||void 0===a?void 0:a.questions}),e.abrupt("return",null===(n=s.data)||void 0===n?void 0:n.questions);case 11:return e.prev=11,e.t0=e.catch(0),K(l.QUIZ_DATA,e.t0,u.SERVER),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Dt(){return(Dt=Object(x.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(new Date).getTime(),e.next=4,H.a.post(W+"/api/modules/camera_input",{img_url:t});case 4:if(n=e.sent,r=(new Date).getTime(),$(l.SEND_CAMERA_INPUT,r-a),!n.data){e.next=11;break}return e.abrupt("return",n.data);case 11:return K(l.SEND_CAMERA_INPUT,"Incorrect structure response",u.CLIENT),e.abrupt("return",null);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),K(l.SEND_CAMERA_INPUT,e.t0,u.SERVER),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var _t=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,quizzes:[]},X(i.QUIZZES),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(this.props.moduleId);case 2:return t=e.sent,this.setState({quizzes:t}),e.next=6,We();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getModuleName",value:function(){var e=this,t=this.props.modules.filter((function(t){return t[0]===parseInt(e.props.moduleId,10)}))[0];if(t)return t[1]}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",{className:"header-dashboard"},this.getModuleName()),d.a.createElement("h6",{className:"description"},"Click on the quiz you want to take"),d.a.createElement("div",{className:"quizzes-wrapper"},d.a.createElement(lt.a,null,this.state.quizzes.length>0?this.state.quizzes.map((function(t){var a=Ft.quiz.replace(":moduleId",e.props.moduleId).replace(":quizId",t.quiz_id);return d.a.createElement(ct.a,{style:{width:"70%",marginTop:"10%"},key:t.quiz_id},d.a.createElement(q.c,{key:t.quiz_id,to:a,className:"no-margin"},d.a.createElement(mt,{name:t.title,description:t.description,progress:0,imageUrl:t.resources,hideProgress:"guest"===k.getState().user.username})))})):null)))}}]),a}(d.a.Component),qt={getModules:We},Gt=Object(E.b)((function(e){return{quizzes:e.module.quizzes,modules:e.module.modules}}),qt)(_t);a(432);function zt(){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(x.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(new Date).getTime(),e.next=4,H.a.get(W+"/games");case 4:return r=e.sent,s=(new Date).getTime(),$(l.GAMES,s-n),k.dispatch({type:"GET_GAMES",payload:null===(t=r.data)||void 0===t?void 0:t.games}),e.abrupt("return",null===(a=r.data)||void 0===a?void 0:a.games);case 11:return e.prev=11,e.t0=e.catch(0),K(l.GAMES,e.t0,u.SERVER),console.error("Failed to get games",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var Ft,Qt=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).state={username:k.getState().user.username,games:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt();case 2:t=e.sent,console.log(t),this.setState({games:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeader",value:function(){var e;if(null===(e=this.props.pathname)||void 0===e?void 0:e.includes("games"))return d.a.createElement(d.a.Fragment,null,d.a.createElement("h3",{className:"header-dashboard"},"Games"),d.a.createElement("h6",{className:"description"},"Click on a game to start having fun"))}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,this.getHeader(),d.a.createElement("div",{className:"games-wrapper"},d.a.createElement(lt.a,null,this.state.games?this.state.games.map((function(e){return d.a.createElement(ct.a,{style:{width:"70%",marginTop:"10%"},key:e.game_id},d.a.createElement(q.c,{key:e.game_id,to:Ft.games+"/"+e.game_id,className:"no-margin"},d.a.createElement(mt,{name:e.name,description:e.description,imageUrl:e.resources,hideProgress:!0})))})):null)))}}]),a}(d.a.Component),Vt={getGames:zt},Bt=Object(E.b)((function(e){return{games:e.games}}),Vt)(Qt),Ht=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).updateAndNotify=function(){var e,t,a,r,s,i,o,l,c,u=void 0,m=void 0,d=void 0;if(n.setState({moduleId:m,lessonId:u,quizId:d}),(null===(e=n.props.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes("quizzes"))&&!(null===(a=n.props.location)||void 0===a||null===(r=a.pathname)||void 0===r?void 0:r.includes("modules")))m=null===(c=n.props.location)||void 0===c?void 0:c.pathname.substring(n.props.location.pathname.indexOf("quizzes/")+8);else if(null===(s=n.props.location)||void 0===s||null===(i=s.pathname)||void 0===i?void 0:i.includes("quiz/")){var p;d=null===(p=n.props.location)||void 0===p?void 0:p.pathname.substring(n.props.location.pathname.indexOf("quiz/")+5)}else if(null===(o=n.props.location)||void 0===o||null===(l=o.pathname)||void 0===l?void 0:l.includes("lessons/")){var h;(m=null===(h=n.props.location)||void 0===h?void 0:h.pathname.substring(n.props.location.pathname.indexOf("lessons/")+8)).includes("/")&&(u=m.substring(m.indexOf("/")+1),m=m.substring(0,m.indexOf("/")))}n.setState({moduleId:m,lessonId:u,quizId:d})},n.state={username:k.getState().user.username},X(i.DASHBOARD),n}return Object(j.a)(a,[{key:"componentDidUpdate",value:function(e){var t,a;(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)!==(null===(a=this.props.location)||void 0===a?void 0:a.pathname)&&this.updateAndNotify()}},{key:"render",value:function(){var e,t,a,n,r,s,i,o,l,c,u,m,p,h;return d.a.createElement(d.a.Fragment,null,d.a.createElement(Ce,null),d.a.createElement(Fe.a,null,d.a.createElement(V.a,{lg:2},this.state.lessonId?null:d.a.createElement(He,{location:this.props.location,username:this.state.username})),d.a.createElement("hr",{className:"title-hr"}),d.a.createElement(V.a,null,(null===(e=this.props.location)||void 0===e?void 0:e.pathname)===Ft.dashboard?"guest"===k.getState().user.username?d.a.createElement(De.a,{to:Ft.modules}):d.a.createElement(ot,{inProgress:!0}):null,(null===(t=this.props.location)||void 0===t?void 0:t.pathname)===Ft.modules||(null===(a=this.props.location)||void 0===a?void 0:a.pathname)===Ft.quizzesModules?d.a.createElement(ot,{pathname:null===(n=this.props.location)||void 0===n?void 0:n.pathname}):null,this.state.moduleId&&this.state.lessonId?d.a.createElement(Tt,{lessonId:this.state.lessonId,moduleId:this.state.moduleId}):this.state.moduleId?(null===(r=this.props.location)||void 0===r||null===(s=r.pathname)||void 0===s?void 0:s.includes("quizzes"))?d.a.createElement(Gt,{pathname:null===(i=this.props.location)||void 0===i?void 0:i.pathname,moduleId:this.state.moduleId}):d.a.createElement(ht,{pathname:null===(o=this.props.location)||void 0===o?void 0:o.pathname,moduleId:this.state.moduleId}):null,(null===(l=this.props.location)||void 0===l?void 0:l.pathname)===Ft.games?d.a.createElement(Bt,{pathname:null===(c=this.props.location)||void 0===c?void 0:c.pathname}):null,(null===(u=this.props.location)||void 0===u?void 0:u.pathname)===Ft.editProfile?d.a.createElement(It,{pathname:null===(m=this.props.location)||void 0===m?void 0:m.pathname}):null,(null===(p=this.props.location)||void 0===p?void 0:p.pathname)===Ft.help?d.a.createElement(At,{pathname:null===(h=this.props.location)||void 0===h?void 0:h.pathname}):null)))}}]),a}(m.Component),Wt=Object(E.b)((function(e){return{username:e.user.username}}),{})(Ht),Zt=a(159),Jt=function(e){var t=e.component,a=Object(Zt.a)(e,["component"]),n=k.getState().session.auth;return d.a.createElement(De.b,Object.assign({},a,{render:function(e){return Object.entries(n).length?d.a.createElement(t,e):d.a.createElement(De.a,{to:"/"})}}))},Yt=function(e){var t=e.component,a=Object(Zt.a)(e,["component"]),n=k.getState().session.auth;return d.a.createElement(De.b,Object.assign({},a,{render:function(e){return Object.entries(n).length?d.a.createElement(De.a,{to:"/dashboard"}):d.a.createElement(t,e)}}))},Xt=(a(433),a(463)),Kt=(a(434),function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).handleImageClick=function(e,t){n.setState({indexSelected:t}),n.props.onQuestionAnswered(e,n.isRightAnswer(t))},n.isAnswerSelected=function(){return void 0!==n.state.indexSelected},n.isRightAnswer=function(e){return n.props.question.answer.includes((e+1).toString(10))},n.getImageClassName=function(e){return n.indexIsSelectedIndex(e)?n.isRightAnswer(e)?"correct":"wrong":""},n.indexIsSelectedIndex=function(e){return e===n.state.indexSelected},n.state={username:k.getState().user.username,indexSelected:void 0},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=void 0!==this.props.question.resources?JSON.parse(this.props.question.resources):[];return d.a.createElement(d.a.Fragment,null,d.a.createElement("h6",null,"Click the image that corresponds to the text"),d.a.createElement("div",{className:"multiple-choice-wrapper"},d.a.createElement("hr",null),d.a.createElement(xt.a,null,d.a.createElement("h4",null,this.props.question.question),d.a.createElement(Fe.a,{className:"choices-container"},t.map((function(t,a){return d.a.createElement(V.a,{xs:6,md:4,lg:4,key:t},d.a.createElement(Xt.a,{className:e.getImageClassName(a)+" image-container",src:t,onClick:function(t){e.isAnswerSelected()||e.handleImageClick(t,a)}}),e.isAnswerSelected()&&e.indexIsSelectedIndex(a)?e.isRightAnswer(a)?d.a.createElement("h4",null,"Correct!"):d.a.createElement("h4",null,"Wrong"):null)}))))))}}]),a}(d.a.Component)),$t=(a(435),a(250)),ea=a.n($t),ta=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).setRef=function(e){n.setState({webcamRef:e})},n.handleWebcamUnavailable=function(){n.setState({isCameraUnavailable:!0})},n.isRightAnswer=function(){return n.props.question.answer.toLowerCase()===n.state.answer.toLowerCase()},n.state={webcamRef:null,imageSrc:null,timerOn:!1,timerCount:3,isCameraUnavailable:!1,answer:""},n.capture=n.capture.bind(Object(L.a)(n)),n}return Object(j.a)(a,[{key:"componentWillMount",value:function(){setTimeout((function(){document.getElementsByClassName("camera-quiz-wrapper")[0].style.visibility="visible"}),1e3)}},{key:"capture",value:function(e){var t=this;this.setState({timerOn:!0});var a=setInterval((function(){if(t.state.timerOn){var n=t.state.timerCount-1;n>=0&&(t.setState({timerCount:n}),t.setState({timerOn:!1}))}else try{var r=t.state.webcamRef.getScreenshot();t.setState({imageSrc:r}),function(e){return Dt.apply(this,arguments)}(r).then((function(a){t.setState({answer:a.symbol}),t.props.onQuestionAnswered(e)})),clearInterval(a)}catch(s){console.error(s)}}),1e3)}},{key:"skip",value:function(e){this.props.onQuestionSkipped(e)}},{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"camera-quiz-wrapper"},d.a.createElement(xt.a,null,d.a.createElement(Fe.a,null,d.a.createElement(V.a,null,d.a.createElement("h4",null,this.props.question.question))),d.a.createElement(Fe.a,null,d.a.createElement(V.a,null,this.state.isCameraUnavailable?d.a.createElement("div",{className:"skip-question-wrapper"},d.a.createElement("span",{className:"skip-text-wrapper"},"Camera unavailable. Please change your browsers permissions or skip the question"),d.a.createElement("div",{className:"skip-button-wrapper"},d.a.createElement("button",{onClick:function(t){return e.skip(t)}},"Skip"))):d.a.createElement(d.a.Fragment,null,d.a.createElement(ea.a,{videoConstraints:{width:640,height:480,facingMode:"user"},mirrored:!0,audio:!1,ref:this.setRef,onUserMediaError:this.handleWebcamUnavailable}),this.state.webcamRef?d.a.createElement("div",{className:"box-wrapper"},d.a.createElement("div",{className:"box"})):null,d.a.createElement("div",{className:"button-wrapper"},d.a.createElement("button",{disabled:""!==this.state.answer,onClick:function(t){return e.capture(t)}},"Capture photo")),this.state.timerOn?d.a.createElement("div",{className:"counter-wrapper"},d.a.createElement("h1",{className:"counter"},this.state.timerCount)):null),""!==this.state.answer?this.isRightAnswer()?d.a.createElement("div",{className:"answer-feedback"}," ",d.a.createElement("span",null,this.state.answer," is ")," ",d.a.createElement("span",{className:"correct-answer"},"Correct!")):d.a.createElement("div",{className:"answer-feedback"}," ",d.a.createElement("span",null,this.state.answer," is ")," ",d.a.createElement("span",{className:"wrong-answer"},"Wrong")):null)))))}}]),a}(d.a.Component),aa=Object(E.b)(null,{})(ta),na=(a(436),function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).wasEnterPressed=function(){return n.state.enterPressed},n.handlePressedEnter=function(e){n.setState({enterPressed:!0}),n.props.onQuestionAnswered(e,n.isRightAnswer())},n.isRightAnswer=function(){return n.props.question.answer.toLowerCase()===n.state.answer.toLowerCase()},n.getClassNameImage=function(){return n.wasEnterPressed()?n.isRightAnswer()?"correct":"wrong":""},n.state={username:k.getState().user.username,answer:"",enterPressed:!1},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("h6",null,"Type your answer and press enter"),d.a.createElement("hr",null),d.a.createElement("div",{className:"text-input-wrapper"},d.a.createElement(xt.a,null,d.a.createElement(Fe.a,null,d.a.createElement(V.a,null,d.a.createElement(Xt.a,{className:this.getClassNameImage(),src:this.props.question.resources}))),d.a.createElement(Fe.a,null,d.a.createElement(V.a,null,d.a.createElement("input",{className:"inputField",placeholder:"Type you answer here and press enter",onChange:function(t){e.setState({answer:t.target.value})},onKeyPress:function(t){"Enter"===t.key&&e.handlePressedEnter(t)},disabled:this.wasEnterPressed()}),this.wasEnterPressed()?this.isRightAnswer()?d.a.createElement("h3",null,"Correct!"):d.a.createElement("h3",null,"Wrong"):null)))))}}]),a}(d.a.Component)),ra=function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(e){var n;return Object(T.a)(this,a),(n=t.call(this,e)).setAsAnswered=function(e,t){t&&n.setState({nbRightAnswers:n.state.nbRightAnswers+1}),n.setState({isAnswered:!0})},n.getCurrentQuestion=function(){return n.state.questions[n.state.questionIndex]},n.incrementQuestionIndex=function(){n.setState({questionIndex:n.state.questionIndex+1,isAnswered:!1})},n.decrementQuestionIndex=function(){n.setState({questionIndex:n.state.questionIndex-1})},n.skip=function(){n.setState({isAnswered:!0}),n.state.questionIndex<n.state.questions.length-1&&n.incrementQuestionIndex()},n.state={nbRightAnswers:0,questions:[],username:k.getState().user.username,questionIndex:0,quizDetails:{},isAnswered:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark((function e(){var t,a,n,r=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt(this.props.match.params.quizId);case 2:return t=e.sent,e.next=5,jt(this.props.match.params.moduleId);case 5:a=e.sent,n=a.filter((function(e){return e.quiz_id===parseInt(r.props.match.params.quizId,10)}))[0],this.setState({questions:t,quizDetails:n});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getQuizComponentByType",value:function(){return"multiple-choice"===this.getCurrentQuestion().q_type?d.a.createElement(Kt,{key:this.getCurrentQuestion().q_id,question:this.getCurrentQuestion(),onQuestionAnswered:this.setAsAnswered}):"fill-the-blanks"===this.getCurrentQuestion().q_type?d.a.createElement(na,{key:this.getCurrentQuestion().q_id,question:this.getCurrentQuestion(),onQuestionAnswered:this.setAsAnswered}):"match-and-sign"===this.getCurrentQuestion().q_type?d.a.createElement(aa,{key:this.getCurrentQuestion().q_id,question:this.getCurrentQuestion(),onQuestionAnswered:this.setAsAnswered,onQuestionSkipped:this.skip}):void 0}},{key:"calculateMark",value:function(){return this.state.nbRightAnswers/this.state.questions.length*100}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(Ce,null),d.a.createElement(Fe.a,{className:"quizHeader"},d.a.createElement(V.a,{xs:4,md:4,lg:4},d.a.createElement("h3",null,this.state.quizDetails.title)),d.a.createElement(V.a,{lg:{span:2,offset:6}},d.a.createElement(q.b,{to:Ft.quizzes.replace(":moduleId",this.props.match.params.moduleId)},d.a.createElement(Oe.b,null)))),d.a.createElement("div",{className:"individual-quiz-wrapper"},this.getCurrentQuestion()?this.getQuizComponentByType():null),d.a.createElement(Fe.a,null,d.a.createElement(V.a,{lg:{span:1,offset:9}},this.state.questionIndex>=this.state.questions.length-1?d.a.createElement(q.b,{to:Ft.score.replace(":mark",this.calculateMark().toString())},d.a.createElement(z.a,{disabled:!this.state.isAnswered},"Finish")):d.a.createElement(z.a,{disabled:!this.state.isAnswered,onClick:this.incrementQuestionIndex},"Next"))))}}]),a}(d.a.Component),sa=Object(E.b)(null,{})(ra),ia=a(158),oa=(a(437),function(e){Object(U.a)(a,e);var t=Object(P.a)(a);function a(){return Object(T.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",null,d.a.createElement(Ne.a,{expand:"lg",bg:"dark",variant:"dark"},d.a.createElement(Ne.a.Brand,null,d.a.createElement("div",{className:"header-logo-wrapper"},d.a.createElement("img",{src:_.a,className:"header-logo",alt:"in plain sight logo"}))),d.a.createElement(ye.a,null))),d.a.createElement(Fe.a,null,d.a.createElement(V.a,{lg:{span:2,offset:9},style:{paddingTop:"3%",paddingBottom:"2%"}},d.a.createElement(q.b,{to:Ft.quizzesModules},d.a.createElement(Oe.b,null)))),d.a.createElement(xt.a,{style:{border:"1px solid #E5E5E5",padding:"5%"}},d.a.createElement("h3",null,"Final Score"),d.a.createElement(Fe.a,{className:"justify-content-md-center",style:{padding:"1%"}},d.a.createElement(V.a,{lg:2},d.a.createElement(ia.a,{value:parseFloat(this.props.match.params.mark),text:"".concat(parseFloat(this.props.match.params.mark),"%"),styles:Object(ia.b)({textColor:"black",pathColor:"#6F488E",trailColor:"#E5E5E5"})}))),d.a.createElement("h4",null,"Congratulations!")))}}]),a}(d.a.Component));!function(e){e.root="/",e.dashboard="/dashboard",e.modules="/dashboard/modules",e.lessons="/dashboard/lessons",e.lessons_moduleId="/dashboard/lessons/:moduleId",e.quizzesPrefix="/dashboard/quizzes",e.quizzesModules="/dashboard/quizzes/modules",e.quizzes="/dashboard/quizzes/:moduleId",e.quiz="/dashboard/quizzes/:moduleId/quiz/:quizId",e.score="/score/:mark",e.games="/dashboard/games",e.game="/dashboard/games/:gameId",e.editProfile="/dashboard/editProfile",e.help="/dashboard/help",e.individualLesson="/dashboard/lessons/:moduleId/:lessonId"}(Ft||(Ft={}));var la=function(){var e,t;return window.Cypress&&(window.store=k),(null===(e=k.getState().session)||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.user)&&(Y(k.getState().session.auth.user),X(i.INIT)),d.a.createElement(E.a,{store:k},d.a.createElement("div",{className:"App"},d.a.createElement(De.d,null,d.a.createElement(Yt,{path:Ft.root,component:Me,exact:!0}),d.a.createElement(Jt,{exact:!0,path:Ft.quiz,component:sa}),d.a.createElement(Jt,{path:Ft.dashboard,component:Wt}),d.a.createElement(Jt,{path:Ft.score,component:oa}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(d.a.createElement(q.a,null,d.a.createElement(la,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a.p+"static/media/logo.7a44935f.png"}},[[256,1,2]]]);
//# sourceMappingURL=main.44d56df1.chunk.js.map